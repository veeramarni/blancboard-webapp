
// ../bower_components/jquery/dist/jquery.js
(function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw Error("jQuery requires a window with a document");return t(e)}:t(e)})("undefined"!=typeof window?window:this,function(e,t){function n(e){var t="length"in e&&e.length,n=Z.type(e);return"function"===n||Z.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e}function r(e,t,n){if(Z.isFunction(t))return Z.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return Z.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(at.test(t))return Z.filter(t,e,n);t=Z.filter(t,e)}return Z.grep(e,function(e){return U.call(t,e)>=0!==n})}function i(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function o(e){var t=ht[e]={};return Z.each(e.match(dt)||[],function(e,n){t[n]=!0}),t}function s(){J.removeEventListener("DOMContentLoaded",s,!1),e.removeEventListener("load",s,!1),Z.ready()}function a(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=Z.expando+a.uid++}function u(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(bt,"-$1").toLowerCase(),n=e.getAttribute(r),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:xt.test(n)?Z.parseJSON(n):n}catch(i){}yt.set(e,t,n)}else n=void 0;return n}function l(){return!0}function c(){return!1}function f(){try{return J.activeElement}catch(e){}}function p(e,t){return Z.nodeName(e,"table")&&Z.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function d(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function h(e){var t=Pt.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function g(e,t){for(var n=0,r=e.length;r>n;n++)vt.set(e[n],"globalEval",!t||vt.get(t[n],"globalEval"))}function m(e,t){var n,r,i,o,s,a,u,l;if(1===t.nodeType){if(vt.hasData(e)&&(o=vt.access(e),s=vt.set(t,o),l=o.events)){delete s.handle,s.events={};for(i in l)for(n=0,r=l[i].length;r>n;n++)Z.event.add(t,i,l[i][n])}yt.hasData(e)&&(a=yt.access(e),u=Z.extend({},a),yt.set(t,u))}}function v(e,t){var n=e.getElementsByTagName?e.getElementsByTagName(t||"*"):e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&Z.nodeName(e,t)?Z.merge([e],n):n}function y(e,t){var n=t.nodeName.toLowerCase();"input"===n&&Nt.test(e.type)?t.checked=e.checked:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}function x(t,n){var r,i=Z(n.createElement(t)).appendTo(n.body),o=e.getDefaultComputedStyle&&(r=e.getDefaultComputedStyle(i[0]))?r.display:Z.css(i[0],"display");return i.detach(),o}function b(e){var t=J,n=$t[e];return n||(n=x(e,t),"none"!==n&&n||(Wt=(Wt||Z("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=Wt[0].contentDocument,t.write(),t.close(),n=x(e,t),Wt.detach()),$t[e]=n),n}function w(e,t,n){var r,i,o,s,a=e.style;return n=n||_t(e),n&&(s=n.getPropertyValue(t)||n[t]),n&&(""!==s||Z.contains(e.ownerDocument,e)||(s=Z.style(e,t)),Bt.test(s)&&It.test(t)&&(r=a.width,i=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=r,a.minWidth=i,a.maxWidth=o)),void 0!==s?s+"":s}function T(e,t){return{get:function(){return e()?(delete this.get,void 0):(this.get=t).apply(this,arguments)}}}function C(e,t){if(t in e)return t;for(var n=t[0].toUpperCase()+t.slice(1),r=t,i=Gt.length;i--;)if(t=Gt[i]+n,t in e)return t;return r}function N(e,t,n){var r=Xt.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function k(e,t,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===t?1:0,s=0;4>o;o+=2)"margin"===n&&(s+=Z.css(e,n+Tt[o],!0,i)),r?("content"===n&&(s-=Z.css(e,"padding"+Tt[o],!0,i)),"margin"!==n&&(s-=Z.css(e,"border"+Tt[o]+"Width",!0,i))):(s+=Z.css(e,"padding"+Tt[o],!0,i),"padding"!==n&&(s+=Z.css(e,"border"+Tt[o]+"Width",!0,i)));return s}function E(e,t,n){var r=!0,i="width"===t?e.offsetWidth:e.offsetHeight,o=_t(e),s="border-box"===Z.css(e,"boxSizing",!1,o);if(0>=i||null==i){if(i=w(e,t,o),(0>i||null==i)&&(i=e.style[t]),Bt.test(i))return i;r=s&&(Q.boxSizingReliable()||i===e.style[t]),i=parseFloat(i)||0}return i+k(e,t,n||(s?"border":"content"),r,o)+"px"}function S(e,t){for(var n,r,i,o=[],s=0,a=e.length;a>s;s++)r=e[s],r.style&&(o[s]=vt.get(r,"olddisplay"),n=r.style.display,t?(o[s]||"none"!==n||(r.style.display=""),""===r.style.display&&Ct(r)&&(o[s]=vt.access(r,"olddisplay",b(r.nodeName)))):(i=Ct(r),"none"===n&&i||vt.set(r,"olddisplay",i?n:Z.css(r,"display"))));for(s=0;a>s;s++)r=e[s],r.style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?o[s]||"":"none"));return e}function D(e,t,n,r,i){return new D.prototype.init(e,t,n,r,i)}function j(){return setTimeout(function(){Qt=void 0}),Qt=Z.now()}function A(e,t){var n,r=0,i={height:e};for(t=t?1:0;4>r;r+=2-t)n=Tt[r],i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function L(e,t,n){for(var r,i=(nn[t]||[]).concat(nn["*"]),o=0,s=i.length;s>o;o++)if(r=i[o].call(n,t,e))return r}function q(e,t,n){var r,i,o,s,a,u,l,c,f=this,p={},d=e.style,h=e.nodeType&&Ct(e),g=vt.get(e,"fxshow");n.queue||(a=Z._queueHooks(e,"fx"),null==a.unqueued&&(a.unqueued=0,u=a.empty.fire,a.empty.fire=function(){a.unqueued||u()}),a.unqueued++,f.always(function(){f.always(function(){a.unqueued--,Z.queue(e,"fx").length||a.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],l=Z.css(e,"display"),c="none"===l?vt.get(e,"olddisplay")||b(e.nodeName):l,"inline"===c&&"none"===Z.css(e,"float")&&(d.display="inline-block")),n.overflow&&(d.overflow="hidden",f.always(function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]}));for(r in t)if(i=t[r],Kt.exec(i)){if(delete t[r],o=o||"toggle"===i,i===(h?"hide":"show")){if("show"!==i||!g||void 0===g[r])continue;h=!0}p[r]=g&&g[r]||Z.style(e,r)}else l=void 0;if(Z.isEmptyObject(p))"inline"===("none"===l?b(e.nodeName):l)&&(d.display=l);else{g?"hidden"in g&&(h=g.hidden):g=vt.access(e,"fxshow",{}),o&&(g.hidden=!h),h?Z(e).show():f.done(function(){Z(e).hide()}),f.done(function(){var t;vt.remove(e,"fxshow");for(t in p)Z.style(e,t,p[t])});for(r in p)s=L(h?g[r]:0,r,f),r in g||(g[r]=s.start,h&&(s.end=s.start,s.start="width"===r||"height"===r?1:0))}}function H(e,t){var n,r,i,o,s;for(n in e)if(r=Z.camelCase(n),i=t[r],o=e[n],Z.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),s=Z.cssHooks[r],s&&"expand"in s){o=s.expand(o),delete e[r];for(n in o)n in e||(e[n]=o[n],t[n]=i)}else t[r]=i}function O(e,t,n){var r,i,o=0,s=tn.length,a=Z.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;for(var t=Qt||j(),n=Math.max(0,l.startTime+l.duration-t),r=n/l.duration||0,o=1-r,s=0,u=l.tweens.length;u>s;s++)l.tweens[s].run(o);return a.notifyWith(e,[l,o,n]),1>o&&u?n:(a.resolveWith(e,[l]),!1)},l=a.promise({elem:e,props:Z.extend({},t),opts:Z.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Qt||j(),duration:n.duration,tweens:[],createTween:function(t,n){var r=Z.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(r),r},stop:function(t){var n=0,r=t?l.tweens.length:0;if(i)return this;for(i=!0;r>n;n++)l.tweens[n].run(1);return t?a.resolveWith(e,[l,t]):a.rejectWith(e,[l,t]),this}}),c=l.props;for(H(c,l.opts.specialEasing);s>o;o++)if(r=tn[o].call(l,e,c,l.opts))return r;return Z.map(c,L,l),Z.isFunction(l.opts.start)&&l.opts.start.call(e,l),Z.fx.timer(Z.extend(u,{elem:e,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function F(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(dt)||[];if(Z.isFunction(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function P(e,t,n,r){function i(a){var u;return o[a]=!0,Z.each(e[a]||[],function(e,a){var l=a(t,n,r);return"string"!=typeof l||s||o[l]?s?!(u=l):void 0:(t.dataTypes.unshift(l),i(l),!1)}),u}var o={},s=e===bn;return i(t.dataTypes[0])||!o["*"]&&i("*")}function R(e,t){var n,r,i=Z.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&Z.extend(!0,e,r),e}function M(e,t,n){for(var r,i,o,s,a=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in a)if(a[i]&&a[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||e.converters[i+" "+u[0]]){o=i;break}s||(s=i)}o=o||s}return o?(o!==u[0]&&u.unshift(o),n[o]):void 0}function W(e,t,n,r){var i,o,s,a,u,l={},c=e.dataTypes.slice();if(c[1])for(s in e.converters)l[s.toLowerCase()]=e.converters[s];for(o=c.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(s=l[u+" "+o]||l["* "+o],!s)for(i in l)if(a=i.split(" "),a[1]===o&&(s=l[u+" "+a[0]]||l["* "+a[0]])){s===!0?s=l[i]:l[i]!==!0&&(o=a[0],c.unshift(a[1]));break}if(s!==!0)if(s&&e["throws"])t=s(t);else try{t=s(t)}catch(f){return{state:"parsererror",error:s?f:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}function $(e,t,n,r){var i;if(Z.isArray(t))Z.each(t,function(t,i){n||kn.test(e)?r(e,i):$(e+"["+("object"==typeof i?t:"")+"]",i,n,r)});else if(n||"object"!==Z.type(t))r(e,t);else for(i in t)$(e+"["+i+"]",t[i],n,r)}function I(e){return Z.isWindow(e)?e:9===e.nodeType&&e.defaultView}var B=[],_=B.slice,z=B.concat,X=B.push,U=B.indexOf,V={},Y=V.toString,G=V.hasOwnProperty,Q={},J=e.document,K="2.1.4",Z=function(e,t){return new Z.fn.init(e,t)},et=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,tt=/^-ms-/,nt=/-([\da-z])/gi,rt=function(e,t){return t.toUpperCase()};Z.fn=Z.prototype={jquery:K,constructor:Z,selector:"",length:0,toArray:function(){return _.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:_.call(this)},pushStack:function(e){var t=Z.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return Z.each(this,e,t)},map:function(e){return this.pushStack(Z.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(_.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:X,sort:B.sort,splice:B.splice},Z.extend=Z.fn.extend=function(){var e,t,n,r,i,o,s=arguments[0]||{},a=1,u=arguments.length,l=!1;for("boolean"==typeof s&&(l=s,s=arguments[a]||{},a++),"object"==typeof s||Z.isFunction(s)||(s={}),a===u&&(s=this,a--);u>a;a++)if(null!=(e=arguments[a]))for(t in e)n=s[t],r=e[t],s!==r&&(l&&r&&(Z.isPlainObject(r)||(i=Z.isArray(r)))?(i?(i=!1,o=n&&Z.isArray(n)?n:[]):o=n&&Z.isPlainObject(n)?n:{},s[t]=Z.extend(l,o,r)):void 0!==r&&(s[t]=r));return s},Z.extend({expando:"jQuery"+(K+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw Error(e)},noop:function(){},isFunction:function(e){return"function"===Z.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){return!Z.isArray(e)&&e-parseFloat(e)+1>=0},isPlainObject:function(e){return"object"!==Z.type(e)||e.nodeType||Z.isWindow(e)?!1:e.constructor&&!G.call(e.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?V[Y.call(e)]||"object":typeof e},globalEval:function(e){var t,n=eval;e=Z.trim(e),e&&(1===e.indexOf("use strict")?(t=J.createElement("script"),t.text=e,J.head.appendChild(t).parentNode.removeChild(t)):n(e))},camelCase:function(e){return e.replace(tt,"ms-").replace(nt,rt)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,r){var i,o=0,s=e.length,a=n(e);if(r){if(a)for(;s>o&&(i=t.apply(e[o],r),i!==!1);o++);else for(o in e)if(i=t.apply(e[o],r),i===!1)break}else if(a)for(;s>o&&(i=t.call(e[o],o,e[o]),i!==!1);o++);else for(o in e)if(i=t.call(e[o],o,e[o]),i===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(et,"")},makeArray:function(e,t){var r=t||[];return null!=e&&(n(Object(e))?Z.merge(r,"string"==typeof e?[e]:e):X.call(r,e)),r},inArray:function(e,t,n){return null==t?-1:U.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;n>r;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r,i=[],o=0,s=e.length,a=!n;s>o;o++)r=!t(e[o],o),r!==a&&i.push(e[o]);return i},map:function(e,t,r){var i,o=0,s=e.length,a=n(e),u=[];if(a)for(;s>o;o++)i=t(e[o],o,r),null!=i&&u.push(i);else for(o in e)i=t(e[o],o,r),null!=i&&u.push(i);return z.apply([],u)},guid:1,proxy:function(e,t){var n,r,i;return"string"==typeof t&&(n=e[t],t=e,e=n),Z.isFunction(e)?(r=_.call(arguments,2),i=function(){return e.apply(t||this,r.concat(_.call(arguments)))},i.guid=e.guid=e.guid||Z.guid++,i):void 0},now:Date.now,support:Q}),Z.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){V["[object "+t+"]"]=t.toLowerCase()});var it=function(e){function t(e,t,n,r){var i,o,s,a,u,l,f,d,h,g;if((t?t.ownerDocument||t:$)!==q&&L(t),t=t||q,n=n||[],a=t.nodeType,"string"!=typeof e||!e||1!==a&&9!==a&&11!==a)return n;if(!r&&O){if(11!==a&&(i=yt.exec(e)))if(s=i[1]){if(9===a){if(o=t.getElementById(s),!o||!o.parentNode)return n;if(o.id===s)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(s))&&M(t,o)&&o.id===s)return n.push(o),n}else{if(i[2])return K.apply(n,t.getElementsByTagName(e)),n;if((s=i[3])&&w.getElementsByClassName)return K.apply(n,t.getElementsByClassName(s)),n}if(w.qsa&&(!F||!F.test(e))){if(d=f=W,h=t,g=1!==a&&e,1===a&&"object"!==t.nodeName.toLowerCase()){for(l=k(e),(f=t.getAttribute("id"))?d=f.replace(bt,"\\$&"):t.setAttribute("id",d),d="[id='"+d+"'] ",u=l.length;u--;)l[u]=d+p(l[u]);h=xt.test(e)&&c(t.parentNode)||t,g=l.join(",")}if(g)try{return K.apply(n,h.querySelectorAll(g)),n}catch(m){}finally{f||t.removeAttribute("id")}}}return S(e.replace(ut,"$1"),t,n,r)}function n(){function e(n,r){return t.push(n+" ")>T.cacheLength&&delete e[t.shift()],e[n+" "]=r}var t=[];return e}function r(e){return e[W]=!0,e}function i(e){var t=q.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var n=e.split("|"),r=e.length;r--;)T.attrHandle[n[r]]=t}function s(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||V)-(~e.sourceIndex||V);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function a(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function u(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function l(e){return r(function(t){return t=+t,r(function(n,r){for(var i,o=e([],n.length,t),s=o.length;s--;)n[i=o[s]]&&(n[i]=!(r[i]=n[i]))})})}function c(e){return e&&e.getElementsByTagName!==void 0&&e}function f(){}function p(e){for(var t=0,n=e.length,r="";n>t;t++)r+=e[t].value;return r}function d(e,t,n){var r=t.dir,i=n&&"parentNode"===r,o=B++;return t.first?function(t,n,o){for(;t=t[r];)if(1===t.nodeType||i)return e(t,n,o)}:function(t,n,s){var a,u,l=[I,o];if(s){for(;t=t[r];)if((1===t.nodeType||i)&&e(t,n,s))return!0}else for(;t=t[r];)if(1===t.nodeType||i){if(u=t[W]||(t[W]={}),(a=u[r])&&a[0]===I&&a[1]===o)return l[2]=a[2];if(u[r]=l,l[2]=e(t,n,s))return!0}}}function h(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function g(e,n,r){for(var i=0,o=n.length;o>i;i++)t(e,n[i],r);return r}function m(e,t,n,r,i){for(var o,s=[],a=0,u=e.length,l=null!=t;u>a;a++)(o=e[a])&&(!n||n(o,r,i))&&(s.push(o),l&&t.push(a));return s}function v(e,t,n,i,o,s){return i&&!i[W]&&(i=v(i)),o&&!o[W]&&(o=v(o,s)),r(function(r,s,a,u){var l,c,f,p=[],d=[],h=s.length,v=r||g(t||"*",a.nodeType?[a]:a,[]),y=!e||!r&&t?v:m(v,p,e,a,u),x=n?o||(r?e:h||i)?[]:s:y;if(n&&n(y,x,a,u),i)for(l=m(x,d),i(l,[],a,u),c=l.length;c--;)(f=l[c])&&(x[d[c]]=!(y[d[c]]=f));if(r){if(o||e){if(o){for(l=[],c=x.length;c--;)(f=x[c])&&l.push(y[c]=f);o(null,x=[],l,u)}for(c=x.length;c--;)(f=x[c])&&(l=o?et(r,f):p[c])>-1&&(r[l]=!(s[l]=f))}}else x=m(x===s?x.splice(h,x.length):x),o?o(null,s,x,u):K.apply(s,x)})}function y(e){for(var t,n,r,i=e.length,o=T.relative[e[0].type],s=o||T.relative[" "],a=o?1:0,u=d(function(e){return e===t},s,!0),l=d(function(e){return et(t,e)>-1},s,!0),c=[function(e,n,r){var i=!o&&(r||n!==D)||((t=n).nodeType?u(e,n,r):l(e,n,r));return t=null,i}];i>a;a++)if(n=T.relative[e[a].type])c=[d(h(c),n)];else{if(n=T.filter[e[a].type].apply(null,e[a].matches),n[W]){for(r=++a;i>r&&!T.relative[e[r].type];r++);return v(a>1&&h(c),a>1&&p(e.slice(0,a-1).concat({value:" "===e[a-2].type?"*":""})).replace(ut,"$1"),n,r>a&&y(e.slice(a,r)),i>r&&y(e=e.slice(r)),i>r&&p(e))}c.push(n)}return h(c)}function x(e,n){var i=n.length>0,o=e.length>0,s=function(r,s,a,u,l){var c,f,p,d=0,h="0",g=r&&[],v=[],y=D,x=r||o&&T.find.TAG("*",l),b=I+=null==y?1:Math.random()||.1,w=x.length;for(l&&(D=s!==q&&s);h!==w&&null!=(c=x[h]);h++){if(o&&c){for(f=0;p=e[f++];)if(p(c,s,a)){u.push(c);break}l&&(I=b)}i&&((c=!p&&c)&&d--,r&&g.push(c))}if(d+=h,i&&h!==d){for(f=0;p=n[f++];)p(g,v,s,a);if(r){if(d>0)for(;h--;)g[h]||v[h]||(v[h]=Q.call(u));v=m(v)}K.apply(u,v),l&&!r&&v.length>0&&d+n.length>1&&t.uniqueSort(u)}return l&&(I=b,D=y),g};return i?r(s):s}var b,w,T,C,N,k,E,S,D,j,A,L,q,H,O,F,P,R,M,W="sizzle"+1*new Date,$=e.document,I=0,B=0,_=n(),z=n(),X=n(),U=function(e,t){return e===t&&(A=!0),0},V=1<<31,Y={}.hasOwnProperty,G=[],Q=G.pop,J=G.push,K=G.push,Z=G.slice,et=function(e,t){for(var n=0,r=e.length;r>n;n++)if(e[n]===t)return n;return-1},tt="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",nt="[\\x20\\t\\r\\n\\f]",rt="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",it=rt.replace("w","w#"),ot="\\["+nt+"*("+rt+")(?:"+nt+"*([*^$|!~]?=)"+nt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+it+"))|)"+nt+"*\\]",st=":("+rt+")(?:\\(("+"('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|"+"((?:\\\\.|[^\\\\()[\\]]|"+ot+")*)|"+".*"+")\\)|)",at=RegExp(nt+"+","g"),ut=RegExp("^"+nt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+nt+"+$","g"),lt=RegExp("^"+nt+"*,"+nt+"*"),ct=RegExp("^"+nt+"*([>+~]|"+nt+")"+nt+"*"),ft=RegExp("="+nt+"*([^\\]'\"]*?)"+nt+"*\\]","g"),pt=RegExp(st),dt=RegExp("^"+it+"$"),ht={ID:RegExp("^#("+rt+")"),CLASS:RegExp("^\\.("+rt+")"),TAG:RegExp("^("+rt.replace("w","w*")+")"),ATTR:RegExp("^"+ot),PSEUDO:RegExp("^"+st),CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+nt+"*(even|odd|(([+-]|)(\\d*)n|)"+nt+"*(?:([+-]|)"+nt+"*(\\d+)|))"+nt+"*\\)|)","i"),bool:RegExp("^(?:"+tt+")$","i"),needsContext:RegExp("^"+nt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+nt+"*((?:-\\d)?\\d*)"+nt+"*\\)|)(?=[^-]|$)","i")},gt=/^(?:input|select|textarea|button)$/i,mt=/^h\d$/i,vt=/^[^{]+\{\s*\[native \w/,yt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,xt=/[+~]/,bt=/'|\\/g,wt=RegExp("\\\\([\\da-f]{1,6}"+nt+"?|("+nt+")|.)","ig"),Tt=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:0>r?String.fromCharCode(r+65536):String.fromCharCode(55296|r>>10,56320|1023&r)},Ct=function(){L()};try{K.apply(G=Z.call($.childNodes),$.childNodes),G[$.childNodes.length].nodeType}catch(Nt){K={apply:G.length?function(e,t){J.apply(e,Z.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}w=t.support={},N=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},L=t.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:$;return r!==q&&9===r.nodeType&&r.documentElement?(q=r,H=r.documentElement,n=r.defaultView,n&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",Ct,!1):n.attachEvent&&n.attachEvent("onunload",Ct)),O=!N(r),w.attributes=i(function(e){return e.className="i",!e.getAttribute("className")}),w.getElementsByTagName=i(function(e){return e.appendChild(r.createComment("")),!e.getElementsByTagName("*").length}),w.getElementsByClassName=vt.test(r.getElementsByClassName),w.getById=i(function(e){return H.appendChild(e).id=W,!r.getElementsByName||!r.getElementsByName(W).length}),w.getById?(T.find.ID=function(e,t){if(t.getElementById!==void 0&&O){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},T.filter.ID=function(e){var t=e.replace(wt,Tt);return function(e){return e.getAttribute("id")===t}}):(delete T.find.ID,T.filter.ID=function(e){var t=e.replace(wt,Tt);return function(e){var n=e.getAttributeNode!==void 0&&e.getAttributeNode("id");return n&&n.value===t}}),T.find.TAG=w.getElementsByTagName?function(e,t){return t.getElementsByTagName!==void 0?t.getElementsByTagName(e):w.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},T.find.CLASS=w.getElementsByClassName&&function(e,t){return O?t.getElementsByClassName(e):void 0},P=[],F=[],(w.qsa=vt.test(r.querySelectorAll))&&(i(function(e){H.appendChild(e).innerHTML="<a id='"+W+"'></a>"+"<select id='"+W+"-\f]' msallowcapture=''>"+"<option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&F.push("[*^$]="+nt+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||F.push("\\["+nt+"*(?:value|"+tt+")"),e.querySelectorAll("[id~="+W+"-]").length||F.push("~="),e.querySelectorAll(":checked").length||F.push(":checked"),e.querySelectorAll("a#"+W+"+*").length||F.push(".#.+[+~]")}),i(function(e){var t=r.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&F.push("name"+nt+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||F.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),F.push(",.*:")})),(w.matchesSelector=vt.test(R=H.matches||H.webkitMatchesSelector||H.mozMatchesSelector||H.oMatchesSelector||H.msMatchesSelector))&&i(function(e){w.disconnectedMatch=R.call(e,"div"),R.call(e,"[s!='']:x"),P.push("!=",st)}),F=F.length&&RegExp(F.join("|")),P=P.length&&RegExp(P.join("|")),t=vt.test(H.compareDocumentPosition),M=t||vt.test(H.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},U=t?function(e,t){if(e===t)return A=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n?n:(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!w.sortDetached&&t.compareDocumentPosition(e)===n?e===r||e.ownerDocument===$&&M($,e)?-1:t===r||t.ownerDocument===$&&M($,t)?1:j?et(j,e)-et(j,t):0:4&n?-1:1)}:function(e,t){if(e===t)return A=!0,0;var n,i=0,o=e.parentNode,a=t.parentNode,u=[e],l=[t];if(!o||!a)return e===r?-1:t===r?1:o?-1:a?1:j?et(j,e)-et(j,t):0;if(o===a)return s(e,t);for(n=e;n=n.parentNode;)u.unshift(n);for(n=t;n=n.parentNode;)l.unshift(n);for(;u[i]===l[i];)i++;return i?s(u[i],l[i]):u[i]===$?-1:l[i]===$?1:0},r):q},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==q&&L(e),n=n.replace(ft,"='$1']"),!(!w.matchesSelector||!O||P&&P.test(n)||F&&F.test(n)))try{var r=R.call(e,n);if(r||w.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(i){}return t(n,q,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==q&&L(e),M(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==q&&L(e);var n=T.attrHandle[t.toLowerCase()],r=n&&Y.call(T.attrHandle,t.toLowerCase())?n(e,t,!O):void 0;return void 0!==r?r:w.attributes||!O?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},t.error=function(e){throw Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],r=0,i=0;if(A=!w.detectDuplicates,j=!w.sortStable&&e.slice(0),e.sort(U),A){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return j=null,e},C=t.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=C(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=C(t);return n},T=t.selectors={cacheLength:50,createPseudo:r,match:ht,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(wt,Tt),e[3]=(e[3]||e[4]||e[5]||"").replace(wt,Tt),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return ht.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&pt.test(n)&&(t=k(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(wt,Tt).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=_[e+" "];return t||(t=RegExp("(^|"+nt+")"+e+"("+nt+"|$)"))&&_(e,function(e){return t.test("string"==typeof e.className&&e.className||e.getAttribute!==void 0&&e.getAttribute("class")||"")})},ATTR:function(e,n,r){return function(i){var o=t.attr(i,e);return null==o?"!="===n:n?(o+="","="===n?o===r:"!="===n?o!==r:"^="===n?r&&0===o.indexOf(r):"*="===n?r&&o.indexOf(r)>-1:"$="===n?r&&o.slice(-r.length)===r:"~="===n?(" "+o.replace(at," ")+" ").indexOf(r)>-1:"|="===n?o===r||o.slice(0,r.length+1)===r+"-":!1):!0}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),s="last"!==e.slice(-4),a="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,u){var l,c,f,p,d,h,g=o!==s?"nextSibling":"previousSibling",m=t.parentNode,v=a&&t.nodeName.toLowerCase(),y=!u&&!a;if(m){if(o){for(;g;){for(f=t;f=f[g];)if(a?f.nodeName.toLowerCase()===v:1===f.nodeType)return!1;h=g="only"===e&&!h&&"nextSibling"}return!0}if(h=[s?m.firstChild:m.lastChild],s&&y){for(c=m[W]||(m[W]={}),l=c[e]||[],d=l[0]===I&&l[1],p=l[0]===I&&l[2],f=d&&m.childNodes[d];f=++d&&f&&f[g]||(p=d=0)||h.pop();)if(1===f.nodeType&&++p&&f===t){c[e]=[I,d,p];break}}else if(y&&(l=(t[W]||(t[W]={}))[e])&&l[0]===I)p=l[1];else for(;(f=++d&&f&&f[g]||(p=d=0)||h.pop())&&((a?f.nodeName.toLowerCase()!==v:1!==f.nodeType)||!++p||(y&&((f[W]||(f[W]={}))[e]=[I,p]),f!==t)););return p-=i,p===r||0===p%r&&p/r>=0}}},PSEUDO:function(e,n){var i,o=T.pseudos[e]||T.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[W]?o(n):o.length>1?(i=[e,e,"",n],T.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,t){for(var r,i=o(e,n),s=i.length;s--;)r=et(e,i[s]),e[r]=!(t[r]=i[s])}):function(e){return o(e,0,i)}):o}},pseudos:{not:r(function(e){var t=[],n=[],i=E(e.replace(ut,"$1"));return i[W]?r(function(e,t,n,r){for(var o,s=i(e,null,r,[]),a=e.length;a--;)(o=s[a])&&(e[a]=!(t[a]=o))}):function(e,r,o){return t[0]=e,i(t,null,o,n),t[0]=null,!n.pop()}}),has:r(function(e){return function(n){return t(e,n).length>0}}),contains:r(function(e){return e=e.replace(wt,Tt),function(t){return(t.textContent||t.innerText||C(t)).indexOf(e)>-1}}),lang:r(function(e){return dt.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(wt,Tt).toLowerCase(),function(t){var n;do if(n=O?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===H},focus:function(e){return e===q.activeElement&&(!q.hasFocus||q.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(6>e.nodeType)return!1;return!0},parent:function(e){return!T.pseudos.empty(e)},header:function(e){return mt.test(e.nodeName)},input:function(e){return gt.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:l(function(){return[0]}),last:l(function(e,t){return[t-1]}),eq:l(function(e,t,n){return[0>n?n+t:n]}),even:l(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:l(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:l(function(e,t,n){for(var r=0>n?n+t:n;--r>=0;)e.push(r);return e}),gt:l(function(e,t,n){for(var r=0>n?n+t:n;t>++r;)e.push(r);return e})}},T.pseudos.nth=T.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})T.pseudos[b]=a(b);for(b in{submit:!0,reset:!0})T.pseudos[b]=u(b);return f.prototype=T.filters=T.pseudos,T.setFilters=new f,k=t.tokenize=function(e,n){var r,i,o,s,a,u,l,c=z[e+" "];if(c)return n?0:c.slice(0);for(a=e,u=[],l=T.preFilter;a;){(!r||(i=lt.exec(a)))&&(i&&(a=a.slice(i[0].length)||a),u.push(o=[])),r=!1,(i=ct.exec(a))&&(r=i.shift(),o.push({value:r,type:i[0].replace(ut," ")}),a=a.slice(r.length));for(s in T.filter)!(i=ht[s].exec(a))||l[s]&&!(i=l[s](i))||(r=i.shift(),o.push({value:r,type:s,matches:i}),a=a.slice(r.length));if(!r)break}return n?a.length:a?t.error(e):z(e,u).slice(0)},E=t.compile=function(e,t){var n,r=[],i=[],o=X[e+" "];if(!o){for(t||(t=k(e)),n=t.length;n--;)o=y(t[n]),o[W]?r.push(o):i.push(o);o=X(e,x(i,r)),o.selector=e}return o},S=t.select=function(e,t,n,r){var i,o,s,a,u,l="function"==typeof e&&e,f=!r&&k(e=l.selector||e);if(n=n||[],1===f.length){if(o=f[0]=f[0].slice(0),o.length>2&&"ID"===(s=o[0]).type&&w.getById&&9===t.nodeType&&O&&T.relative[o[1].type]){if(t=(T.find.ID(s.matches[0].replace(wt,Tt),t)||[])[0],!t)return n;l&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(i=ht.needsContext.test(e)?0:o.length;i--&&(s=o[i],!T.relative[a=s.type]);)if((u=T.find[a])&&(r=u(s.matches[0].replace(wt,Tt),xt.test(o[0].type)&&c(t.parentNode)||t))){if(o.splice(i,1),e=r.length&&p(o),!e)return K.apply(n,r),n;break}}return(l||E(e,f))(r,t,!O,n,xt.test(e)&&c(t.parentNode)||t),n},w.sortStable=W.split("").sort(U).join("")===W,w.detectDuplicates=!!A,L(),w.sortDetached=i(function(e){return 1&e.compareDocumentPosition(q.createElement("div"))}),i(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),w.attributes&&i(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),i(function(e){return null==e.getAttribute("disabled")})||o(tt,function(e,t,n){var r;return n?void 0:e[t]===!0?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),t}(e);Z.find=it,Z.expr=it.selectors,Z.expr[":"]=Z.expr.pseudos,Z.unique=it.uniqueSort,Z.text=it.getText,Z.isXMLDoc=it.isXML,Z.contains=it.contains;var ot=Z.expr.match.needsContext,st=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,at=/^.[^:#\[\.,]*$/;Z.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?Z.find.matchesSelector(r,e)?[r]:[]:Z.find.matches(e,Z.grep(t,function(e){return 1===e.nodeType}))},Z.fn.extend({find:function(e){var t,n=this.length,r=[],i=this;if("string"!=typeof e)return this.pushStack(Z(e).filter(function(){for(t=0;n>t;t++)if(Z.contains(i[t],this))return!0
}));for(t=0;n>t;t++)Z.find(e,i[t],r);return r=this.pushStack(n>1?Z.unique(r):r),r.selector=this.selector?this.selector+" "+e:e,r},filter:function(e){return this.pushStack(r(this,e||[],!1))},not:function(e){return this.pushStack(r(this,e||[],!0))},is:function(e){return!!r(this,"string"==typeof e&&ot.test(e)?Z(e):e||[],!1).length}});var ut,lt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ct=Z.fn.init=function(e,t){var n,r;if(!e)return this;if("string"==typeof e){if(n="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:lt.exec(e),!n||!n[1]&&t)return!t||t.jquery?(t||ut).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof Z?t[0]:t,Z.merge(this,Z.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:J,!0)),st.test(n[1])&&Z.isPlainObject(t))for(n in t)Z.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}return r=J.getElementById(n[2]),r&&r.parentNode&&(this.length=1,this[0]=r),this.context=J,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):Z.isFunction(e)?ut.ready!==void 0?ut.ready(e):e(Z):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),Z.makeArray(e,this))};ct.prototype=Z.fn,ut=Z(J);var ft=/^(?:parents|prev(?:Until|All))/,pt={children:!0,contents:!0,next:!0,prev:!0};Z.extend({dir:function(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&Z(e).is(n))break;r.push(e)}return r},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),Z.fn.extend({has:function(e){var t=Z(e,this),n=t.length;return this.filter(function(){for(var e=0;n>e;e++)if(Z.contains(this,t[e]))return!0})},closest:function(e,t){for(var n,r=0,i=this.length,o=[],s=ot.test(e)||"string"!=typeof e?Z(e,t||this.context):0;i>r;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(11>n.nodeType&&(s?s.index(n)>-1:1===n.nodeType&&Z.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?Z.unique(o):o)},index:function(e){return e?"string"==typeof e?U.call(Z(e),this[0]):U.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(Z.unique(Z.merge(this.get(),Z(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),Z.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return Z.dir(e,"parentNode")},parentsUntil:function(e,t,n){return Z.dir(e,"parentNode",n)},next:function(e){return i(e,"nextSibling")},prev:function(e){return i(e,"previousSibling")},nextAll:function(e){return Z.dir(e,"nextSibling")},prevAll:function(e){return Z.dir(e,"previousSibling")},nextUntil:function(e,t,n){return Z.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return Z.dir(e,"previousSibling",n)},siblings:function(e){return Z.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return Z.sibling(e.firstChild)},contents:function(e){return e.contentDocument||Z.merge([],e.childNodes)}},function(e,t){Z.fn[e]=function(n,r){var i=Z.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=Z.filter(r,i)),this.length>1&&(pt[e]||Z.unique(i),ft.test(e)&&i.reverse()),this.pushStack(i)}});var dt=/\S+/g,ht={};Z.Callbacks=function(e){e="string"==typeof e?ht[e]||o(e):Z.extend({},e);var t,n,r,i,s,a,u=[],l=!e.once&&[],c=function(o){for(t=e.memory&&o,n=!0,a=i||0,i=0,s=u.length,r=!0;u&&s>a;a++)if(u[a].apply(o[0],o[1])===!1&&e.stopOnFalse){t=!1;break}r=!1,u&&(l?l.length&&c(l.shift()):t?u=[]:f.disable())},f={add:function(){if(u){var n=u.length;(function o(t){Z.each(t,function(t,n){var r=Z.type(n);"function"===r?e.unique&&f.has(n)||u.push(n):n&&n.length&&"string"!==r&&o(n)})})(arguments),r?s=u.length:t&&(i=n,c(t))}return this},remove:function(){return u&&Z.each(arguments,function(e,t){for(var n;(n=Z.inArray(t,u,n))>-1;)u.splice(n,1),r&&(s>=n&&s--,a>=n&&a--)}),this},has:function(e){return e?Z.inArray(e,u)>-1:!(!u||!u.length)},empty:function(){return u=[],s=0,this},disable:function(){return u=l=t=void 0,this},disabled:function(){return!u},lock:function(){return l=void 0,t||f.disable(),this},locked:function(){return!l},fireWith:function(e,t){return!u||n&&!l||(t=t||[],t=[e,t.slice?t.slice():t],r?l.push(t):c(t)),this},fire:function(){return f.fireWith(this,arguments),this},fired:function(){return!!n}};return f},Z.extend({Deferred:function(e){var t=[["resolve","done",Z.Callbacks("once memory"),"resolved"],["reject","fail",Z.Callbacks("once memory"),"rejected"],["notify","progress",Z.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return Z.Deferred(function(n){Z.each(t,function(t,o){var s=Z.isFunction(e[t])&&e[t];i[o[1]](function(){var e=s&&s.apply(this,arguments);e&&Z.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o[0]+"With"](this===r?n.promise():this,s?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?Z.extend(e,r):r}},i={};return r.pipe=r.then,Z.each(t,function(e,o){var s=o[2],a=o[3];r[o[1]]=s.add,a&&s.add(function(){n=a},t[1^e][2].disable,t[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=s.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t,n,r,i=0,o=_.call(arguments),s=o.length,a=1!==s||e&&Z.isFunction(e.promise)?s:0,u=1===a?e:Z.Deferred(),l=function(e,n,r){return function(i){n[e]=this,r[e]=arguments.length>1?_.call(arguments):i,r===t?u.notifyWith(n,r):--a||u.resolveWith(n,r)}};if(s>1)for(t=Array(s),n=Array(s),r=Array(s);s>i;i++)o[i]&&Z.isFunction(o[i].promise)?o[i].promise().done(l(i,r,o)).fail(u.reject).progress(l(i,n,t)):--a;return a||u.resolveWith(r,o),u.promise()}});var gt;Z.fn.ready=function(e){return Z.ready.promise().done(e),this},Z.extend({isReady:!1,readyWait:1,holdReady:function(e){e?Z.readyWait++:Z.ready(!0)},ready:function(e){(e===!0?--Z.readyWait:Z.isReady)||(Z.isReady=!0,e!==!0&&--Z.readyWait>0||(gt.resolveWith(J,[Z]),Z.fn.triggerHandler&&(Z(J).triggerHandler("ready"),Z(J).off("ready"))))}}),Z.ready.promise=function(t){return gt||(gt=Z.Deferred(),"complete"===J.readyState?setTimeout(Z.ready):(J.addEventListener("DOMContentLoaded",s,!1),e.addEventListener("load",s,!1))),gt.promise(t)},Z.ready.promise();var mt=Z.access=function(e,t,n,r,i,o,s){var a=0,u=e.length,l=null==n;if("object"===Z.type(n)){i=!0;for(a in n)Z.access(e,t,a,n[a],!0,o,s)}else if(void 0!==r&&(i=!0,Z.isFunction(r)||(s=!0),l&&(s?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(Z(e),n)})),t))for(;u>a;a++)t(e[a],n,s?r:r.call(e[a],a,t(e[a],n)));return i?e:l?t.call(e):u?t(e[0],n):o};Z.acceptData=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType},a.uid=1,a.accepts=Z.acceptData,a.prototype={key:function(e){if(!a.accepts(e))return 0;var t={},n=e[this.expando];if(!n){n=a.uid++;try{t[this.expando]={value:n},Object.defineProperties(e,t)}catch(r){t[this.expando]=n,Z.extend(e,t)}}return this.cache[n]||(this.cache[n]={}),n},set:function(e,t,n){var r,i=this.key(e),o=this.cache[i];if("string"==typeof t)o[t]=n;else if(Z.isEmptyObject(o))Z.extend(this.cache[i],t);else for(r in t)o[r]=t[r];return o},get:function(e,t){var n=this.cache[this.key(e)];return void 0===t?n:n[t]},access:function(e,t,n){var r;return void 0===t||t&&"string"==typeof t&&void 0===n?(r=this.get(e,t),void 0!==r?r:this.get(e,Z.camelCase(t))):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r,i,o=this.key(e),s=this.cache[o];if(void 0===t)this.cache[o]={};else{Z.isArray(t)?r=t.concat(t.map(Z.camelCase)):(i=Z.camelCase(t),t in s?r=[t,i]:(r=i,r=r in s?[r]:r.match(dt)||[])),n=r.length;for(;n--;)delete s[r[n]]}},hasData:function(e){return!Z.isEmptyObject(this.cache[e[this.expando]]||{})},discard:function(e){e[this.expando]&&delete this.cache[e[this.expando]]}};var vt=new a,yt=new a,xt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,bt=/([A-Z])/g;Z.extend({hasData:function(e){return yt.hasData(e)||vt.hasData(e)},data:function(e,t,n){return yt.access(e,t,n)},removeData:function(e,t){yt.remove(e,t)},_data:function(e,t,n){return vt.access(e,t,n)},_removeData:function(e,t){vt.remove(e,t)}}),Z.fn.extend({data:function(e,t){var n,r,i,o=this[0],s=o&&o.attributes;if(void 0===e){if(this.length&&(i=yt.get(o),1===o.nodeType&&!vt.get(o,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&(r=s[n].name,0===r.indexOf("data-")&&(r=Z.camelCase(r.slice(5)),u(o,r,i[r])));vt.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof e?this.each(function(){yt.set(this,e)}):mt(this,function(t){var n,r=Z.camelCase(e);if(o&&void 0===t){if(n=yt.get(o,e),void 0!==n)return n;if(n=yt.get(o,r),void 0!==n)return n;if(n=u(o,r,void 0),void 0!==n)return n}else this.each(function(){var n=yt.get(this,r);yt.set(this,r,t),-1!==e.indexOf("-")&&void 0!==n&&yt.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){yt.remove(this,e)})}}),Z.extend({queue:function(e,t,n){var r;return e?(t=(t||"fx")+"queue",r=vt.get(e,t),n&&(!r||Z.isArray(n)?r=vt.access(e,t,Z.makeArray(n)):r.push(n)),r||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=Z.queue(e,t),r=n.length,i=n.shift(),o=Z._queueHooks(e,t),s=function(){Z.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,s,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return vt.get(e,n)||vt.access(e,n,{empty:Z.Callbacks("once memory").add(function(){vt.remove(e,[t+"queue",n])})})}}),Z.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),n>arguments.length?Z.queue(this[0],e):void 0===t?this:this.each(function(){var n=Z.queue(this,e,t);Z._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&Z.dequeue(this,e)})},dequeue:function(e){return this.each(function(){Z.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=Z.Deferred(),o=this,s=this.length,a=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)n=vt.get(o[s],e+"queueHooks"),n&&n.empty&&(r++,n.empty.add(a));return a(),i.promise(t)}});var wt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Tt=["Top","Right","Bottom","Left"],Ct=function(e,t){return e=t||e,"none"===Z.css(e,"display")||!Z.contains(e.ownerDocument,e)},Nt=/^(?:checkbox|radio)$/i;(function(){var e=J.createDocumentFragment(),t=e.appendChild(J.createElement("div")),n=J.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),t.appendChild(n),Q.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",Q.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue})();var kt="undefined";Q.focusinBubbles="onfocusin"in e;var Et=/^key/,St=/^(?:mouse|pointer|contextmenu)|click/,Dt=/^(?:focusinfocus|focusoutblur)$/,jt=/^([^.]*)(?:\.(.+)|)$/;Z.event={global:{},add:function(e,t,n,r,i){var o,s,a,u,l,c,f,p,d,h,g,m=vt.get(e);if(m)for(n.handler&&(o=n,n=o.handler,i=o.selector),n.guid||(n.guid=Z.guid++),(u=m.events)||(u=m.events={}),(s=m.handle)||(s=m.handle=function(t){return typeof Z!==kt&&Z.event.triggered!==t.type?Z.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(dt)||[""],l=t.length;l--;)a=jt.exec(t[l])||[],d=g=a[1],h=(a[2]||"").split(".").sort(),d&&(f=Z.event.special[d]||{},d=(i?f.delegateType:f.bindType)||d,f=Z.event.special[d]||{},c=Z.extend({type:d,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&Z.expr.match.needsContext.test(i),namespace:h.join(".")},o),(p=u[d])||(p=u[d]=[],p.delegateCount=0,f.setup&&f.setup.call(e,r,h,s)!==!1||e.addEventListener&&e.addEventListener(d,s,!1)),f.add&&(f.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),i?p.splice(p.delegateCount++,0,c):p.push(c),Z.event.global[d]=!0)},remove:function(e,t,n,r,i){var o,s,a,u,l,c,f,p,d,h,g,m=vt.hasData(e)&&vt.get(e);if(m&&(u=m.events)){for(t=(t||"").match(dt)||[""],l=t.length;l--;)if(a=jt.exec(t[l])||[],d=g=a[1],h=(a[2]||"").split(".").sort(),d){for(f=Z.event.special[d]||{},d=(r?f.delegateType:f.bindType)||d,p=u[d]||[],a=a[2]&&RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=p.length;o--;)c=p[o],!i&&g!==c.origType||n&&n.guid!==c.guid||a&&!a.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(p.splice(o,1),c.selector&&p.delegateCount--,f.remove&&f.remove.call(e,c));s&&!p.length&&(f.teardown&&f.teardown.call(e,h,m.handle)!==!1||Z.removeEvent(e,d,m.handle),delete u[d])}else for(d in u)Z.event.remove(e,d+t[l],n,r,!0);Z.isEmptyObject(u)&&(delete m.handle,vt.remove(e,"events"))}},trigger:function(t,n,r,i){var o,s,a,u,l,c,f,p=[r||J],d=G.call(t,"type")?t.type:t,h=G.call(t,"namespace")?t.namespace.split("."):[];if(s=a=r=r||J,3!==r.nodeType&&8!==r.nodeType&&!Dt.test(d+Z.event.triggered)&&(d.indexOf(".")>=0&&(h=d.split("."),d=h.shift(),h.sort()),l=0>d.indexOf(":")&&"on"+d,t=t[Z.expando]?t:new Z.Event(d,"object"==typeof t&&t),t.isTrigger=i?2:3,t.namespace=h.join("."),t.namespace_re=t.namespace?RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),n=null==n?[t]:Z.makeArray(n,[t]),f=Z.event.special[d]||{},i||!f.trigger||f.trigger.apply(r,n)!==!1)){if(!i&&!f.noBubble&&!Z.isWindow(r)){for(u=f.delegateType||d,Dt.test(u+d)||(s=s.parentNode);s;s=s.parentNode)p.push(s),a=s;a===(r.ownerDocument||J)&&p.push(a.defaultView||a.parentWindow||e)}for(o=0;(s=p[o++])&&!t.isPropagationStopped();)t.type=o>1?u:f.bindType||d,c=(vt.get(s,"events")||{})[t.type]&&vt.get(s,"handle"),c&&c.apply(s,n),c=l&&s[l],c&&c.apply&&Z.acceptData(s)&&(t.result=c.apply(s,n),t.result===!1&&t.preventDefault());return t.type=d,i||t.isDefaultPrevented()||f._default&&f._default.apply(p.pop(),n)!==!1||!Z.acceptData(r)||l&&Z.isFunction(r[d])&&!Z.isWindow(r)&&(a=r[l],a&&(r[l]=null),Z.event.triggered=d,r[d](),Z.event.triggered=void 0,a&&(r[l]=a)),t.result}},dispatch:function(e){e=Z.event.fix(e);var t,n,r,i,o,s=[],a=_.call(arguments),u=(vt.get(this,"events")||{})[e.type]||[],l=Z.event.special[e.type]||{};if(a[0]=e,e.delegateTarget=this,!l.preDispatch||l.preDispatch.call(this,e)!==!1){for(s=Z.event.handlers.call(this,e,u),t=0;(i=s[t++])&&!e.isPropagationStopped();)for(e.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(o.namespace))&&(e.handleObj=o,e.data=o.data,r=((Z.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,a),void 0!==r&&(e.result=r)===!1&&(e.preventDefault(),e.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,r,i,o,s=[],a=t.delegateCount,u=e.target;if(a&&u.nodeType&&(!e.button||"click"!==e.type))for(;u!==this;u=u.parentNode||this)if(u.disabled!==!0||"click"!==e.type){for(r=[],n=0;a>n;n++)o=t[n],i=o.selector+" ",void 0===r[i]&&(r[i]=o.needsContext?Z(i,this).index(u)>=0:Z.find(i,this,null,[u]).length),r[i]&&r.push(o);r.length&&s.push({elem:u,handlers:r})}return t.length>a&&s.push({elem:this,handlers:t.slice(a)}),s},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,i,o=t.button;return null==e.pageX&&null!=t.clientX&&(n=e.target.ownerDocument||J,r=n.documentElement,i=n.body,e.pageX=t.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0),e.pageY=t.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},fix:function(e){if(e[Z.expando])return e;var t,n,r,i=e.type,o=e,s=this.fixHooks[i];for(s||(this.fixHooks[i]=s=St.test(i)?this.mouseHooks:Et.test(i)?this.keyHooks:{}),r=s.props?this.props.concat(s.props):this.props,e=new Z.Event(o),t=r.length;t--;)n=r[t],e[n]=o[n];return e.target||(e.target=J),3===e.target.nodeType&&(e.target=e.target.parentNode),s.filter?s.filter(e,o):e},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==f()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===f()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&Z.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(e){return Z.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=Z.extend(new Z.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?Z.event.trigger(i,null,t):Z.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},Z.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)},Z.Event=function(e,t){return this instanceof Z.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?l:c):this.type=e,t&&Z.extend(this,t),this.timeStamp=e&&e.timeStamp||Z.now(),this[Z.expando]=!0,void 0):new Z.Event(e,t)},Z.Event.prototype={isDefaultPrevented:c,isPropagationStopped:c,isImmediatePropagationStopped:c,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=l,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=l,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=l,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},Z.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){Z.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return(!i||i!==r&&!Z.contains(r,i))&&(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),Q.focusinBubbles||Z.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){Z.event.simulate(t,e.target,Z.event.fix(e),!0)};Z.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=vt.access(r,t);i||r.addEventListener(e,n,!0),vt.access(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=vt.access(r,t)-1;i?vt.access(r,t,i):(r.removeEventListener(e,n,!0),vt.remove(r,t))}}}),Z.fn.extend({on:function(e,t,n,r,i){var o,s;if("object"==typeof e){"string"!=typeof t&&(n=n||t,t=void 0);for(s in e)this.on(s,t,n,e[s],i);return this}if(null==n&&null==r?(r=t,n=t=void 0):null==r&&("string"==typeof t?(r=n,n=void 0):(r=n,n=t,t=void 0)),r===!1)r=c;else if(!r)return this;return 1===i&&(o=r,r=function(e){return Z().off(e),o.apply(this,arguments)},r.guid=o.guid||(o.guid=Z.guid++)),this.each(function(){Z.event.add(this,e,r,n,t)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,Z(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return(t===!1||"function"==typeof t)&&(n=t,t=void 0),n===!1&&(n=c),this.each(function(){Z.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){Z.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?Z.event.trigger(e,t,n,!0):void 0}});var At=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Lt=/<([\w:]+)/,qt=/<|&#?\w+;/,Ht=/<(?:script|style|link)/i,Ot=/checked\s*(?:[^=]|=\s*.checked.)/i,Ft=/^$|\/(?:java|ecma)script/i,Pt=/^true\/(.*)/,Rt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Mt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Mt.optgroup=Mt.option,Mt.tbody=Mt.tfoot=Mt.colgroup=Mt.caption=Mt.thead,Mt.th=Mt.td,Z.extend({clone:function(e,t,n){var r,i,o,s,a=e.cloneNode(!0),u=Z.contains(e.ownerDocument,e);if(!(Q.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||Z.isXMLDoc(e)))for(s=v(a),o=v(e),r=0,i=o.length;i>r;r++)y(o[r],s[r]);if(t)if(n)for(o=o||v(e),s=s||v(a),r=0,i=o.length;i>r;r++)m(o[r],s[r]);else m(e,a);return s=v(a,"script"),s.length>0&&g(s,!u&&v(e,"script")),a},buildFragment:function(e,t,n,r){for(var i,o,s,a,u,l,c=t.createDocumentFragment(),f=[],p=0,d=e.length;d>p;p++)if(i=e[p],i||0===i)if("object"===Z.type(i))Z.merge(f,i.nodeType?[i]:i);else if(qt.test(i)){for(o=o||c.appendChild(t.createElement("div")),s=(Lt.exec(i)||["",""])[1].toLowerCase(),a=Mt[s]||Mt._default,o.innerHTML=a[1]+i.replace(At,"<$1></$2>")+a[2],l=a[0];l--;)o=o.lastChild;Z.merge(f,o.childNodes),o=c.firstChild,o.textContent=""}else f.push(t.createTextNode(i));for(c.textContent="",p=0;i=f[p++];)if((!r||-1===Z.inArray(i,r))&&(u=Z.contains(i.ownerDocument,i),o=v(c.appendChild(i),"script"),u&&g(o),n))for(l=0;i=o[l++];)Ft.test(i.type||"")&&n.push(i);return c},cleanData:function(e){for(var t,n,r,i,o=Z.event.special,s=0;void 0!==(n=e[s]);s++){if(Z.acceptData(n)&&(i=n[vt.expando],i&&(t=vt.cache[i]))){if(t.events)for(r in t.events)o[r]?Z.event.remove(n,r):Z.removeEvent(n,r,t.handle);vt.cache[i]&&delete vt.cache[i]}delete yt.cache[n[yt.expando]]}}}),Z.fn.extend({text:function(e){return mt(this,function(e){return void 0===e?Z.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=e)})},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=p(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=p(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,r=e?Z.filter(e,this):this,i=0;null!=(n=r[i]);i++)t||1!==n.nodeType||Z.cleanData(v(n)),n.parentNode&&(t&&Z.contains(n.ownerDocument,n)&&g(v(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(Z.cleanData(v(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return Z.clone(this,e,t)})},html:function(e){return mt(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Ht.test(e)&&!Mt[(Lt.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(At,"<$1></$2>");try{for(;r>n;n++)t=this[n]||{},1===t.nodeType&&(Z.cleanData(v(t,!1)),t.innerHTML=e);t=0}catch(i){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,Z.cleanData(v(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=z.apply([],e);var n,r,i,o,s,a,u=0,l=this.length,c=this,f=l-1,p=e[0],g=Z.isFunction(p);if(g||l>1&&"string"==typeof p&&!Q.checkClone&&Ot.test(p))return this.each(function(n){var r=c.eq(n);g&&(e[0]=p.call(this,n,r.html())),r.domManip(e,t)});if(l&&(n=Z.buildFragment(e,this[0].ownerDocument,!1,this),r=n.firstChild,1===n.childNodes.length&&(n=r),r)){for(i=Z.map(v(n,"script"),d),o=i.length;l>u;u++)s=n,u!==f&&(s=Z.clone(s,!0,!0),o&&Z.merge(i,v(s,"script"))),t.call(this[u],s,u);if(o)for(a=i[i.length-1].ownerDocument,Z.map(i,h),u=0;o>u;u++)s=i[u],Ft.test(s.type||"")&&!vt.access(s,"globalEval")&&Z.contains(a,s)&&(s.src?Z._evalUrl&&Z._evalUrl(s.src):Z.globalEval(s.textContent.replace(Rt,"")))}return this}}),Z.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){Z.fn[e]=function(e){for(var n,r=[],i=Z(e),o=i.length-1,s=0;o>=s;s++)n=s===o?this:this.clone(!0),Z(i[s])[t](n),X.apply(r,n.get());return this.pushStack(r)}});var Wt,$t={},It=/^margin/,Bt=RegExp("^("+wt+")(?!px)[a-z%]+$","i"),_t=function(t){return t.ownerDocument.defaultView.opener?t.ownerDocument.defaultView.getComputedStyle(t,null):e.getComputedStyle(t,null)};(function(){function t(){s.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",s.innerHTML="",i.appendChild(o);var t=e.getComputedStyle(s,null);n="1%"!==t.top,r="4px"===t.width,i.removeChild(o)}var n,r,i=J.documentElement,o=J.createElement("div"),s=J.createElement("div");s.style&&(s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",Q.clearCloneStyle="content-box"===s.style.backgroundClip,o.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",o.appendChild(s),e.getComputedStyle&&Z.extend(Q,{pixelPosition:function(){return t(),n},boxSizingReliable:function(){return null==r&&t(),r},reliableMarginRight:function(){var t,n=s.appendChild(J.createElement("div"));return n.style.cssText=s.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",n.style.marginRight=n.style.width="0",s.style.width="1px",i.appendChild(o),t=!parseFloat(e.getComputedStyle(n,null).marginRight),i.removeChild(o),s.removeChild(n),t}}))})(),Z.swap=function(e,t,n,r){var i,o,s={};for(o in t)s[o]=e.style[o],e.style[o]=t[o];i=n.apply(e,r||[]);for(o in t)e.style[o]=s[o];return i};var zt=/^(none|table(?!-c[ea]).+)/,Xt=RegExp("^("+wt+")(.*)$","i"),Ut=RegExp("^([+-])=("+wt+")","i"),Vt={position:"absolute",visibility:"hidden",display:"block"},Yt={letterSpacing:"0",fontWeight:"400"},Gt=["Webkit","O","Moz","ms"];Z.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=w(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,s,a=Z.camelCase(t),u=e.style;return t=Z.cssProps[a]||(Z.cssProps[a]=C(u,a)),s=Z.cssHooks[t]||Z.cssHooks[a],void 0===n?s&&"get"in s&&void 0!==(i=s.get(e,!1,r))?i:u[t]:(o=typeof n,"string"===o&&(i=Ut.exec(n))&&(n=(i[1]+1)*i[2]+parseFloat(Z.css(e,t)),o="number"),null!=n&&n===n&&("number"!==o||Z.cssNumber[a]||(n+="px"),Q.clearCloneStyle||""!==n||0!==t.indexOf("background")||(u[t]="inherit"),s&&"set"in s&&void 0===(n=s.set(e,n,r))||(u[t]=n)),void 0)}},css:function(e,t,n,r){var i,o,s,a=Z.camelCase(t);return t=Z.cssProps[a]||(Z.cssProps[a]=C(e.style,a)),s=Z.cssHooks[t]||Z.cssHooks[a],s&&"get"in s&&(i=s.get(e,!0,n)),void 0===i&&(i=w(e,t,r)),"normal"===i&&t in Yt&&(i=Yt[t]),""===n||n?(o=parseFloat(i),n===!0||Z.isNumeric(o)?o||0:i):i}}),Z.each(["height","width"],function(e,t){Z.cssHooks[t]={get:function(e,n,r){return n?zt.test(Z.css(e,"display"))&&0===e.offsetWidth?Z.swap(e,Vt,function(){return E(e,t,r)}):E(e,t,r):void 0},set:function(e,n,r){var i=r&&_t(e);return N(e,n,r?k(e,t,r,"border-box"===Z.css(e,"boxSizing",!1,i),i):0)}}}),Z.cssHooks.marginRight=T(Q.reliableMarginRight,function(e,t){return t?Z.swap(e,{display:"inline-block"},w,[e,"marginRight"]):void 0}),Z.each({margin:"",padding:"",border:"Width"},function(e,t){Z.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];4>r;r++)i[e+Tt[r]+t]=o[r]||o[r-2]||o[0];return i}},It.test(e)||(Z.cssHooks[e+t].set=N)}),Z.fn.extend({css:function(e,t){return mt(this,function(e,t,n){var r,i,o={},s=0;if(Z.isArray(t)){for(r=_t(e),i=t.length;i>s;s++)o[t[s]]=Z.css(e,t[s],!1,r);return o}return void 0!==n?Z.style(e,t,n):Z.css(e,t)},e,t,arguments.length>1)},show:function(){return S(this,!0)},hide:function(){return S(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Ct(this)?Z(this).show():Z(this).hide()})}}),Z.Tween=D,D.prototype={constructor:D,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(Z.cssNumber[n]?"":"px")},cur:function(){var e=D.propHooks[this.prop];return e&&e.get?e.get(this):D.propHooks._default.get(this)},run:function(e){var t,n=D.propHooks[this.prop];return this.pos=t=this.options.duration?Z.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):D.propHooks._default.set(this),this}},D.prototype.init.prototype=D.prototype,D.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=Z.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){Z.fx.step[e.prop]?Z.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[Z.cssProps[e.prop]]||Z.cssHooks[e.prop])?Z.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},D.propHooks.scrollTop=D.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},Z.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},Z.fx=D.prototype.init,Z.fx.step={};var Qt,Jt,Kt=/^(?:toggle|show|hide)$/,Zt=RegExp("^(?:([+-])=|)("+wt+")([a-z%]*)$","i"),en=/queueHooks$/,tn=[q],nn={"*":[function(e,t){var n=this.createTween(e,t),r=n.cur(),i=Zt.exec(t),o=i&&i[3]||(Z.cssNumber[e]?"":"px"),s=(Z.cssNumber[e]||"px"!==o&&+r)&&Zt.exec(Z.css(n.elem,e)),a=1,u=20;if(s&&s[3]!==o){o=o||s[3],i=i||[],s=+r||1;do a=a||".5",s/=a,Z.style(n.elem,e,s+o);while(a!==(a=n.cur()/r)&&1!==a&&--u)}return i&&(s=n.start=+s||+r||0,n.unit=o,n.end=i[1]?s+(i[1]+1)*i[2]:+i[2]),n}]};Z.Animation=Z.extend(O,{tweener:function(e,t){Z.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,r=0,i=e.length;i>r;r++)n=e[r],nn[n]=nn[n]||[],nn[n].unshift(t)},prefilter:function(e,t){t?tn.unshift(e):tn.push(e)}}),Z.speed=function(e,t,n){var r=e&&"object"==typeof e?Z.extend({},e):{complete:n||!n&&t||Z.isFunction(e)&&e,duration:e,easing:n&&t||t&&!Z.isFunction(t)&&t};return r.duration=Z.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in Z.fx.speeds?Z.fx.speeds[r.duration]:Z.fx.speeds._default,(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){Z.isFunction(r.old)&&r.old.call(this),r.queue&&Z.dequeue(this,r.queue)},r},Z.fn.extend({fadeTo:function(e,t,n,r){return this.filter(Ct).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=Z.isEmptyObject(e),o=Z.speed(t,n,r),s=function(){var t=O(this,Z.extend({},e),o);(i||vt.get(this,"finish"))&&t.stop(!0)};return s.finish=s,i||o.queue===!1?this.each(s):this.queue(o.queue,s)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",o=Z.timers,s=vt.get(this);if(i)s[i]&&s[i].stop&&r(s[i]);else for(i in s)s[i]&&s[i].stop&&en.test(i)&&r(s[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));(t||!n)&&Z.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=vt.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=Z.timers,s=r?r.length:0;for(n.finish=!0,Z.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;s>t;t++)r[t]&&r[t].finish&&r[t].finish.call(this);
delete n.finish})}}),Z.each(["toggle","show","hide"],function(e,t){var n=Z.fn[t];Z.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(A(t,!0),e,r,i)}}),Z.each({slideDown:A("show"),slideUp:A("hide"),slideToggle:A("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){Z.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),Z.timers=[],Z.fx.tick=function(){var e,t=0,n=Z.timers;for(Qt=Z.now();n.length>t;t++)e=n[t],e()||n[t]!==e||n.splice(t--,1);n.length||Z.fx.stop(),Qt=void 0},Z.fx.timer=function(e){Z.timers.push(e),e()?Z.fx.start():Z.timers.pop()},Z.fx.interval=13,Z.fx.start=function(){Jt||(Jt=setInterval(Z.fx.tick,Z.fx.interval))},Z.fx.stop=function(){clearInterval(Jt),Jt=null},Z.fx.speeds={slow:600,fast:200,_default:400},Z.fn.delay=function(e,t){return e=Z.fx?Z.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},function(){var e=J.createElement("input"),t=J.createElement("select"),n=t.appendChild(J.createElement("option"));e.type="checkbox",Q.checkOn=""!==e.value,Q.optSelected=n.selected,t.disabled=!0,Q.optDisabled=!n.disabled,e=J.createElement("input"),e.value="t",e.type="radio",Q.radioValue="t"===e.value}();var rn,on,sn=Z.expr.attrHandle;Z.fn.extend({attr:function(e,t){return mt(this,Z.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){Z.removeAttr(this,e)})}}),Z.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return typeof e.getAttribute===kt?Z.prop(e,t,n):(1===o&&Z.isXMLDoc(e)||(t=t.toLowerCase(),r=Z.attrHooks[t]||(Z.expr.match.bool.test(t)?on:rn)),void 0===n?r&&"get"in r&&null!==(i=r.get(e,t))?i:(i=Z.find.attr(e,t),null==i?void 0:i):null!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:(e.setAttribute(t,n+""),n):(Z.removeAttr(e,t),void 0))},removeAttr:function(e,t){var n,r,i=0,o=t&&t.match(dt);if(o&&1===e.nodeType)for(;n=o[i++];)r=Z.propFix[n]||n,Z.expr.match.bool.test(n)&&(e[r]=!1),e.removeAttribute(n)},attrHooks:{type:{set:function(e,t){if(!Q.radioValue&&"radio"===t&&Z.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),on={set:function(e,t,n){return t===!1?Z.removeAttr(e,n):e.setAttribute(n,n),n}},Z.each(Z.expr.match.bool.source.match(/\w+/g),function(e,t){var n=sn[t]||Z.find.attr;sn[t]=function(e,t,r){var i,o;return r||(o=sn[t],sn[t]=i,i=null!=n(e,t,r)?t.toLowerCase():null,sn[t]=o),i}});var an=/^(?:input|select|textarea|button)$/i;Z.fn.extend({prop:function(e,t){return mt(this,Z.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[Z.propFix[e]||e]})}}),Z.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,n){var r,i,o,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return o=1!==s||!Z.isXMLDoc(e),o&&(t=Z.propFix[t]||t,i=Z.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){return e.hasAttribute("tabindex")||an.test(e.nodeName)||e.href?e.tabIndex:-1}}}}),Q.optSelected||(Z.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}}),Z.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){Z.propFix[this.toLowerCase()]=this});var un=/[\t\r\n\f]/g;Z.fn.extend({addClass:function(e){var t,n,r,i,o,s,a="string"==typeof e&&e,u=0,l=this.length;if(Z.isFunction(e))return this.each(function(t){Z(this).addClass(e.call(this,t,this.className))});if(a)for(t=(e||"").match(dt)||[];l>u;u++)if(n=this[u],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(un," "):" ")){for(o=0;i=t[o++];)0>r.indexOf(" "+i+" ")&&(r+=i+" ");s=Z.trim(r),n.className!==s&&(n.className=s)}return this},removeClass:function(e){var t,n,r,i,o,s,a=0===arguments.length||"string"==typeof e&&e,u=0,l=this.length;if(Z.isFunction(e))return this.each(function(t){Z(this).removeClass(e.call(this,t,this.className))});if(a)for(t=(e||"").match(dt)||[];l>u;u++)if(n=this[u],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(un," "):"")){for(o=0;i=t[o++];)for(;r.indexOf(" "+i+" ")>=0;)r=r.replace(" "+i+" "," ");s=e?Z.trim(r):"",n.className!==s&&(n.className=s)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):Z.isFunction(e)?this.each(function(n){Z(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if("string"===n)for(var t,r=0,i=Z(this),o=e.match(dt)||[];t=o[r++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else(n===kt||"boolean"===n)&&(this.className&&vt.set(this,"__className__",this.className),this.className=this.className||e===!1?"":vt.get(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,r=this.length;r>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(un," ").indexOf(t)>=0)return!0;return!1}});var ln=/\r/g;Z.fn.extend({val:function(e){var t,n,r,i=this[0];{if(arguments.length)return r=Z.isFunction(e),this.each(function(n){var i;1===this.nodeType&&(i=r?e.call(this,n,Z(this).val()):e,null==i?i="":"number"==typeof i?i+="":Z.isArray(i)&&(i=Z.map(i,function(e){return null==e?"":e+""})),t=Z.valHooks[this.type]||Z.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))});if(i)return t=Z.valHooks[i.type]||Z.valHooks[i.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:(n=i.value,"string"==typeof n?n.replace(ln,""):null==n?"":n)}}}),Z.extend({valHooks:{option:{get:function(e){var t=Z.find.attr(e,"value");return null!=t?t:Z.trim(Z.text(e))}},select:{get:function(e){for(var t,n,r=e.options,i=e.selectedIndex,o="select-one"===e.type||0>i,s=o?null:[],a=o?i+1:r.length,u=0>i?a:o?i:0;a>u;u++)if(n=r[u],!(!n.selected&&u!==i||(Q.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&Z.nodeName(n.parentNode,"optgroup"))){if(t=Z(n).val(),o)return t;s.push(t)}return s},set:function(e,t){for(var n,r,i=e.options,o=Z.makeArray(t),s=i.length;s--;)r=i[s],(r.selected=Z.inArray(r.value,o)>=0)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),Z.each(["radio","checkbox"],function(){Z.valHooks[this]={set:function(e,t){return Z.isArray(t)?e.checked=Z.inArray(Z(e).val(),t)>=0:void 0}},Q.checkOn||(Z.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),Z.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){Z.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),Z.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var cn=Z.now(),fn=/\?/;Z.parseJSON=function(e){return JSON.parse(e+"")},Z.parseXML=function(e){var t,n;if(!e||"string"!=typeof e)return null;try{n=new DOMParser,t=n.parseFromString(e,"text/xml")}catch(r){t=void 0}return(!t||t.getElementsByTagName("parsererror").length)&&Z.error("Invalid XML: "+e),t};var pn=/#.*$/,dn=/([?&])_=[^&]*/,hn=/^(.*?):[ \t]*([^\r\n]*)$/gm,gn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,mn=/^(?:GET|HEAD)$/,vn=/^\/\//,yn=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,xn={},bn={},wn="*/".concat("*"),Tn=e.location.href,Cn=yn.exec(Tn.toLowerCase())||[];Z.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Tn,type:"GET",isLocal:gn.test(Cn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":wn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":Z.parseJSON,"text xml":Z.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?R(R(e,Z.ajaxSettings),t):R(Z.ajaxSettings,e)},ajaxPrefilter:F(xn),ajaxTransport:F(bn),ajax:function(e,t){function n(e,t,n,s){var u,c,v,y,b,T=t;2!==x&&(x=2,a&&clearTimeout(a),r=void 0,o=s||"",w.readyState=e>0?4:0,u=e>=200&&300>e||304===e,n&&(y=M(f,w,n)),y=W(f,y,w,u),u?(f.ifModified&&(b=w.getResponseHeader("Last-Modified"),b&&(Z.lastModified[i]=b),b=w.getResponseHeader("etag"),b&&(Z.etag[i]=b)),204===e||"HEAD"===f.type?T="nocontent":304===e?T="notmodified":(T=y.state,c=y.data,v=y.error,u=!v)):(v=T,(e||!T)&&(T="error",0>e&&(e=0))),w.status=e,w.statusText=(t||T)+"",u?h.resolveWith(p,[c,T,w]):h.rejectWith(p,[w,T,v]),w.statusCode(m),m=void 0,l&&d.trigger(u?"ajaxSuccess":"ajaxError",[w,f,u?c:v]),g.fireWith(p,[w,T]),l&&(d.trigger("ajaxComplete",[w,f]),--Z.active||Z.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var r,i,o,s,a,u,l,c,f=Z.ajaxSetup({},t),p=f.context||f,d=f.context&&(p.nodeType||p.jquery)?Z(p):Z.event,h=Z.Deferred(),g=Z.Callbacks("once memory"),m=f.statusCode||{},v={},y={},x=0,b="canceled",w={readyState:0,getResponseHeader:function(e){var t;if(2===x){if(!s)for(s={};t=hn.exec(o);)s[t[1].toLowerCase()]=t[2];t=s[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===x?o:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return x||(e=y[n]=y[n]||e,v[e]=t),this},overrideMimeType:function(e){return x||(f.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>x)for(t in e)m[t]=[m[t],e[t]];else w.always(e[w.status]);return this},abort:function(e){var t=e||b;return r&&r.abort(t),n(0,t),this}};if(h.promise(w).complete=g.add,w.success=w.done,w.error=w.fail,f.url=((e||f.url||Tn)+"").replace(pn,"").replace(vn,Cn[1]+"//"),f.type=t.method||t.type||f.method||f.type,f.dataTypes=Z.trim(f.dataType||"*").toLowerCase().match(dt)||[""],null==f.crossDomain&&(u=yn.exec(f.url.toLowerCase()),f.crossDomain=!(!u||u[1]===Cn[1]&&u[2]===Cn[2]&&(u[3]||("http:"===u[1]?"80":"443"))===(Cn[3]||("http:"===Cn[1]?"80":"443")))),f.data&&f.processData&&"string"!=typeof f.data&&(f.data=Z.param(f.data,f.traditional)),P(xn,f,t,w),2===x)return w;l=Z.event&&f.global,l&&0===Z.active++&&Z.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!mn.test(f.type),i=f.url,f.hasContent||(f.data&&(i=f.url+=(fn.test(i)?"&":"?")+f.data,delete f.data),f.cache===!1&&(f.url=dn.test(i)?i.replace(dn,"$1_="+cn++):i+(fn.test(i)?"&":"?")+"_="+cn++)),f.ifModified&&(Z.lastModified[i]&&w.setRequestHeader("If-Modified-Since",Z.lastModified[i]),Z.etag[i]&&w.setRequestHeader("If-None-Match",Z.etag[i])),(f.data&&f.hasContent&&f.contentType!==!1||t.contentType)&&w.setRequestHeader("Content-Type",f.contentType),w.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+wn+"; q=0.01":""):f.accepts["*"]);for(c in f.headers)w.setRequestHeader(c,f.headers[c]);if(f.beforeSend&&(f.beforeSend.call(p,w,f)===!1||2===x))return w.abort();b="abort";for(c in{success:1,error:1,complete:1})w[c](f[c]);if(r=P(bn,f,t,w)){w.readyState=1,l&&d.trigger("ajaxSend",[w,f]),f.async&&f.timeout>0&&(a=setTimeout(function(){w.abort("timeout")},f.timeout));try{x=1,r.send(v,n)}catch(T){if(!(2>x))throw T;n(-1,T)}}else n(-1,"No Transport");return w},getJSON:function(e,t,n){return Z.get(e,t,n,"json")},getScript:function(e,t){return Z.get(e,void 0,t,"script")}}),Z.each(["get","post"],function(e,t){Z[t]=function(e,n,r,i){return Z.isFunction(n)&&(i=i||r,r=n,n=void 0),Z.ajax({url:e,type:t,dataType:i,data:n,success:r})}}),Z._evalUrl=function(e){return Z.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},Z.fn.extend({wrapAll:function(e){var t;return Z.isFunction(e)?this.each(function(t){Z(this).wrapAll(e.call(this,t))}):(this[0]&&(t=Z(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return Z.isFunction(e)?this.each(function(t){Z(this).wrapInner(e.call(this,t))}):this.each(function(){var t=Z(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=Z.isFunction(e);return this.each(function(n){Z(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){Z.nodeName(this,"body")||Z(this).replaceWith(this.childNodes)}).end()}}),Z.expr.filters.hidden=function(e){return 0>=e.offsetWidth&&0>=e.offsetHeight},Z.expr.filters.visible=function(e){return!Z.expr.filters.hidden(e)};var Nn=/%20/g,kn=/\[\]$/,En=/\r?\n/g,Sn=/^(?:submit|button|image|reset|file)$/i,Dn=/^(?:input|select|textarea|keygen)/i;Z.param=function(e,t){var n,r=[],i=function(e,t){t=Z.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=Z.ajaxSettings&&Z.ajaxSettings.traditional),Z.isArray(e)||e.jquery&&!Z.isPlainObject(e))Z.each(e,function(){i(this.name,this.value)});else for(n in e)$(n,e[n],t,i);return r.join("&").replace(Nn,"+")},Z.fn.extend({serialize:function(){return Z.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=Z.prop(this,"elements");return e?Z.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!Z(this).is(":disabled")&&Dn.test(this.nodeName)&&!Sn.test(e)&&(this.checked||!Nt.test(e))}).map(function(e,t){var n=Z(this).val();return null==n?null:Z.isArray(n)?Z.map(n,function(e){return{name:t.name,value:e.replace(En,"\r\n")}}):{name:t.name,value:n.replace(En,"\r\n")}}).get()}}),Z.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(e){}};var jn=0,An={},Ln={0:200,1223:204},qn=Z.ajaxSettings.xhr();e.attachEvent&&e.attachEvent("onunload",function(){for(var e in An)An[e]()}),Q.cors=!!qn&&"withCredentials"in qn,Q.ajax=qn=!!qn,Z.ajaxTransport(function(e){var t;return Q.cors||qn&&!e.crossDomain?{send:function(n,r){var i,o=e.xhr(),s=++jn;if(o.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(i in e.xhrFields)o[i]=e.xhrFields[i];e.mimeType&&o.overrideMimeType&&o.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(i in n)o.setRequestHeader(i,n[i]);t=function(e){return function(){t&&(delete An[s],t=o.onload=o.onerror=null,"abort"===e?o.abort():"error"===e?r(o.status,o.statusText):r(Ln[o.status]||o.status,o.statusText,"string"==typeof o.responseText?{text:o.responseText}:void 0,o.getAllResponseHeaders()))}},o.onload=t(),o.onerror=t("error"),t=An[s]=t("abort");try{o.send(e.hasContent&&e.data||null)}catch(a){if(t)throw a}},abort:function(){t&&t()}}:void 0}),Z.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return Z.globalEval(e),e}}}),Z.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),Z.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(r,i){t=Z("<script>").prop({async:!0,charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&i("error"===e.type?404:200,e.type)}),J.head.appendChild(t[0])},abort:function(){n&&n()}}}});var Hn=[],On=/(=)\?(?=&|$)|\?\?/;Z.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Hn.pop()||Z.expando+"_"+cn++;return this[e]=!0,e}}),Z.ajaxPrefilter("json jsonp",function(t,n,r){var i,o,s,a=t.jsonp!==!1&&(On.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&On.test(t.data)&&"data");return a||"jsonp"===t.dataTypes[0]?(i=t.jsonpCallback=Z.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(On,"$1"+i):t.jsonp!==!1&&(t.url+=(fn.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return s||Z.error(i+" was not called"),s[0]},t.dataTypes[0]="json",o=e[i],e[i]=function(){s=arguments},r.always(function(){e[i]=o,t[i]&&(t.jsonpCallback=n.jsonpCallback,Hn.push(i)),s&&Z.isFunction(o)&&o(s[0]),s=o=void 0}),"script"):void 0}),Z.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||J;var r=st.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=Z.buildFragment([e],t,i),i&&i.length&&Z(i).remove(),Z.merge([],r.childNodes))};var Fn=Z.fn.load;Z.fn.load=function(e,t,n){if("string"!=typeof e&&Fn)return Fn.apply(this,arguments);var r,i,o,s=this,a=e.indexOf(" ");return a>=0&&(r=Z.trim(e.slice(a)),e=e.slice(0,a)),Z.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),s.length>0&&Z.ajax({url:e,type:i,dataType:"html",data:t}).done(function(e){o=arguments,s.html(r?Z("<div>").append(Z.parseHTML(e)).find(r):e)}).complete(n&&function(e,t){s.each(n,o||[e.responseText,t,e])}),this},Z.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){Z.fn[t]=function(e){return this.on(t,e)}}),Z.expr.filters.animated=function(e){return Z.grep(Z.timers,function(t){return e===t.elem}).length};var Pn=e.document.documentElement;Z.offset={setOffset:function(e,t,n){var r,i,o,s,a,u,l,c=Z.css(e,"position"),f=Z(e),p={};"static"===c&&(e.style.position="relative"),a=f.offset(),o=Z.css(e,"top"),u=Z.css(e,"left"),l=("absolute"===c||"fixed"===c)&&(o+u).indexOf("auto")>-1,l?(r=f.position(),s=r.top,i=r.left):(s=parseFloat(o)||0,i=parseFloat(u)||0),Z.isFunction(t)&&(t=t.call(e,n,a)),null!=t.top&&(p.top=t.top-a.top+s),null!=t.left&&(p.left=t.left-a.left+i),"using"in t?t.using.call(e,p):f.css(p)}},Z.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){Z.offset.setOffset(this,e,t)});var t,n,r=this[0],i={top:0,left:0},o=r&&r.ownerDocument;if(o)return t=o.documentElement,Z.contains(t,r)?(typeof r.getBoundingClientRect!==kt&&(i=r.getBoundingClientRect()),n=I(o),{top:i.top+n.pageYOffset-t.clientTop,left:i.left+n.pageXOffset-t.clientLeft}):i},position:function(){if(this[0]){var e,t,n=this[0],r={top:0,left:0};return"fixed"===Z.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),Z.nodeName(e[0],"html")||(r=e.offset()),r.top+=Z.css(e[0],"borderTopWidth",!0),r.left+=Z.css(e[0],"borderLeftWidth",!0)),{top:t.top-r.top-Z.css(n,"marginTop",!0),left:t.left-r.left-Z.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||Pn;e&&!Z.nodeName(e,"html")&&"static"===Z.css(e,"position");)e=e.offsetParent;return e||Pn})}}),Z.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,n){var r="pageYOffset"===n;Z.fn[t]=function(i){return mt(this,function(t,i,o){var s=I(t);return void 0===o?s?s[n]:t[i]:(s?s.scrollTo(r?e.pageXOffset:o,r?o:e.pageYOffset):t[i]=o,void 0)},t,i,arguments.length,null)}}),Z.each(["top","left"],function(e,t){Z.cssHooks[t]=T(Q.pixelPosition,function(e,n){return n?(n=w(e,t),Bt.test(n)?Z(e).position()[t]+"px":n):void 0})}),Z.each({Height:"height",Width:"width"},function(e,t){Z.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){Z.fn[r]=function(r,i){var o=arguments.length&&(n||"boolean"!=typeof r),s=n||(r===!0||i===!0?"margin":"border");return mt(this,function(t,n,r){var i;return Z.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===r?Z.css(t,n,s):Z.style(t,n,r,s)},t,o?r:void 0,o,null)}})}),Z.fn.size=function(){return this.length},Z.fn.andSelf=Z.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return Z});var Rn=e.jQuery,Mn=e.$;return Z.noConflict=function(t){return e.$===Z&&(e.$=Mn),t&&e.jQuery===Z&&(e.jQuery=Rn),Z},typeof t===kt&&(e.jQuery=e.$=Z),Z});

// ../bower_components/raphael/raphael.js
(function(t){var e,n,r="0.4.2",i="hasOwnProperty",o=/[\.\/]/,a="*",s=function(){},l=function(t,e){return t-e},u={n:{}},c=function(t,r){t+="";var i,o=n,a=Array.prototype.slice.call(arguments,2),s=c.listeners(t),u=0,h=[],f={},p=[],d=e;e=t,n=0;for(var g=0,v=s.length;v>g;g++)"zIndex"in s[g]&&(h.push(s[g].zIndex),0>s[g].zIndex&&(f[s[g].zIndex]=s[g]));for(h.sort(l);0>h[u];)if(i=f[h[u++]],p.push(i.apply(r,a)),n)return n=o,p;for(g=0;v>g;g++)if(i=s[g],"zIndex"in i)if(i.zIndex==h[u]){if(p.push(i.apply(r,a)),n)break;do if(u++,i=f[h[u]],i&&p.push(i.apply(r,a)),n)break;while(i)}else f[i.zIndex]=i;else if(p.push(i.apply(r,a)),n)break;return n=o,e=d,p.length?p:null};c._events=u,c.listeners=function(t){var e,n,r,i,s,l,c,h,f=t.split(o),p=u,d=[p],g=[];for(i=0,s=f.length;s>i;i++){for(h=[],l=0,c=d.length;c>l;l++)for(p=d[l].n,n=[p[f[i]],p[a]],r=2;r--;)e=n[r],e&&(h.push(e),g=g.concat(e.f||[]));d=h}return g},c.on=function(t,e){if(t+="","function"!=typeof e)return function(){};for(var n=t.split(o),r=u,i=0,a=n.length;a>i;i++)r=r.n,r=r.hasOwnProperty(n[i])&&r[n[i]]||(r[n[i]]={n:{}});for(r.f=r.f||[],i=0,a=r.f.length;a>i;i++)if(r.f[i]==e)return s;return r.f.push(e),function(t){+t==+t&&(e.zIndex=+t)}},c.f=function(t){var e=[].slice.call(arguments,1);return function(){c.apply(null,[t,null].concat(e).concat([].slice.call(arguments,0)))}},c.stop=function(){n=1},c.nt=function(t){return t?RegExp("(?:\\.|\\/|^)"+t+"(?:\\.|\\/|$)").test(e):e},c.nts=function(){return e.split(o)},c.off=c.unbind=function(t,e){if(!t)return c._events=u={n:{}},void 0;var n,r,s,l,h,f,p,d=t.split(o),g=[u];for(l=0,h=d.length;h>l;l++)for(f=0;g.length>f;f+=s.length-2){if(s=[f,1],n=g[f].n,d[l]!=a)n[d[l]]&&s.push(n[d[l]]);else for(r in n)n[i](r)&&s.push(n[r]);g.splice.apply(g,s)}for(l=0,h=g.length;h>l;l++)for(n=g[l];n.n;){if(e){if(n.f){for(f=0,p=n.f.length;p>f;f++)if(n.f[f]==e){n.f.splice(f,1);break}!n.f.length&&delete n.f}for(r in n.n)if(n.n[i](r)&&n.n[r].f){var v=n.n[r].f;for(f=0,p=v.length;p>f;f++)if(v[f]==e){v.splice(f,1);break}!v.length&&delete n.n[r].f}}else{delete n.f;for(r in n.n)n.n[i](r)&&n.n[r].f&&delete n.n[r].f}n=n.n}},c.once=function(t,e){var n=function(){return c.unbind(t,n),e.apply(this,arguments)};return c.on(t,n)},c.version=r,c.toString=function(){return"You are running Eve "+r},"undefined"!=typeof module&&module.exports?module.exports=c:"undefined"!=typeof define?define("eve",[],function(){return c}):t.eve=c})(window||this),function(t,e){"function"==typeof define&&define.amd?define(["eve"],function(n){return e(t,n)}):e(t,t.eve||"function"==typeof require&&require("eve"))}(this,function(t,e){function n(t){if(n.is(t,"function"))return b?t():e.on("raphael.DOMload",t);if(n.is(t,Y))return n._engine.create[A](n,t.splice(0,3+n.is(t[0],V))).add(t);var r=Array.prototype.slice.call(arguments,0);if(n.is(r[r.length-1],"function")){var i=r.pop();return b?i.call(n._engine.create[A](n,r)):e.on("raphael.DOMload",function(){i.call(n._engine.create[A](n,r))})}return n._engine.create[A](n,arguments)}function r(t){if("function"==typeof t||Object(t)!==t)return t;var e=new t.constructor;for(var n in t)t[T](n)&&(e[n]=r(t[n]));return e}function i(t,e){for(var n=0,r=t.length;r>n;n++)if(t[n]===e)return t.push(t.splice(n,1)[0])}function o(t,e,n){function r(){var o=Array.prototype.slice.call(arguments,0),a=o.join("\u2400"),s=r.cache=r.cache||{},l=r.count=r.count||[];return s[T](a)?(i(l,a),n?n(s[a]):s[a]):(l.length>=1e3&&delete s[l.shift()],l.push(a),s[a]=t[A](e,o),n?n(s[a]):s[a])}return r}function a(){return this.hex}function s(t,e){for(var n=[],r=0,i=t.length;i-2*!e>r;r+=2){var o=[{x:+t[r-2],y:+t[r-1]},{x:+t[r],y:+t[r+1]},{x:+t[r+2],y:+t[r+3]},{x:+t[r+4],y:+t[r+5]}];e?r?i-4==r?o[3]={x:+t[0],y:+t[1]}:i-2==r&&(o[2]={x:+t[0],y:+t[1]},o[3]={x:+t[2],y:+t[3]}):o[0]={x:+t[i-2],y:+t[i-1]}:i-4==r?o[3]=o[2]:r||(o[0]={x:+t[r],y:+t[r+1]}),n.push(["C",(-o[0].x+6*o[1].x+o[2].x)/6,(-o[0].y+6*o[1].y+o[2].y)/6,(o[1].x+6*o[2].x-o[3].x)/6,(o[1].y+6*o[2].y-o[3].y)/6,o[2].x,o[2].y])}return n}function l(t,e,n,r,i){var o=-3*e+9*n-9*r+3*i,a=t*o+6*e-12*n+6*r;return t*a-3*e+3*n}function u(t,e,n,r,i,o,a,s,u){null==u&&(u=1),u=u>1?1:0>u?0:u;for(var c=u/2,h=12,f=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],p=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],d=0,g=0;h>g;g++){var v=c*f[g]+c,m=l(v,t,n,i,a),y=l(v,e,r,o,s),x=m*m+y*y;d+=p[g]*H.sqrt(x)}return c*d}function c(t,e,n,r,i,o,a,s,l){if(!(0>l||l>u(t,e,n,r,i,o,a,s))){var c,h=1,f=h/2,p=h-f,d=.01;for(c=u(t,e,n,r,i,o,a,s,p);z(c-l)>d;)f/=2,p+=(l>c?1:-1)*f,c=u(t,e,n,r,i,o,a,s,p);return p}}function h(t,e,n,r,i,o,a,s){if(!(O(t,n)<I(i,a)||I(t,n)>O(i,a)||O(e,r)<I(o,s)||I(e,r)>O(o,s))){var l=(t*r-e*n)*(i-a)-(t-n)*(i*s-o*a),u=(t*r-e*n)*(o-s)-(e-r)*(i*s-o*a),c=(t-n)*(o-s)-(e-r)*(i-a);if(c){var h=l/c,f=u/c,p=+h.toFixed(2),d=+f.toFixed(2);if(!(+I(t,n).toFixed(2)>p||p>+O(t,n).toFixed(2)||+I(i,a).toFixed(2)>p||p>+O(i,a).toFixed(2)||+I(e,r).toFixed(2)>d||d>+O(e,r).toFixed(2)||+I(o,s).toFixed(2)>d||d>+O(o,s).toFixed(2)))return{x:h,y:f}}}}function f(t,e,r){var i=n.bezierBBox(t),o=n.bezierBBox(e);if(!n.isBBoxIntersect(i,o))return r?0:[];for(var a=u.apply(0,t),s=u.apply(0,e),l=O(~~(a/5),1),c=O(~~(s/5),1),f=[],p=[],d={},g=r?0:[],v=0;l+1>v;v++){var m=n.findDotsAtSegment.apply(n,t.concat(v/l));f.push({x:m.x,y:m.y,t:v/l})}for(v=0;c+1>v;v++)m=n.findDotsAtSegment.apply(n,e.concat(v/c)),p.push({x:m.x,y:m.y,t:v/c});for(v=0;l>v;v++)for(var y=0;c>y;y++){var x=f[v],b=f[v+1],w=p[y],_=p[y+1],k=.001>z(b.x-x.x)?"y":"x",C=.001>z(_.x-w.x)?"y":"x",T=h(x.x,x.y,b.x,b.y,w.x,w.y,_.x,_.y);if(T){if(d[T.x.toFixed(4)]==T.y.toFixed(4))continue;d[T.x.toFixed(4)]=T.y.toFixed(4);var S=x.t+z((T[k]-x[k])/(b[k]-x[k]))*(b.t-x.t),N=w.t+z((T[C]-w[C])/(_[C]-w[C]))*(_.t-w.t);S>=0&&1.001>=S&&N>=0&&1.001>=N&&(r?g++:g.push({x:T.x,y:T.y,t1:I(S,1),t2:I(N,1)}))}}return g}function p(t,e,r){t=n._path2curve(t),e=n._path2curve(e);for(var i,o,a,s,l,u,c,h,p,d,g=r?0:[],v=0,m=t.length;m>v;v++){var y=t[v];if("M"==y[0])i=l=y[1],o=u=y[2];else{"C"==y[0]?(p=[i,o].concat(y.slice(1)),i=p[6],o=p[7]):(p=[i,o,i,o,l,u,l,u],i=l,o=u);for(var x=0,b=e.length;b>x;x++){var w=e[x];if("M"==w[0])a=c=w[1],s=h=w[2];else{"C"==w[0]?(d=[a,s].concat(w.slice(1)),a=d[6],s=d[7]):(d=[a,s,a,s,c,h,c,h],a=c,s=h);var _=f(p,d,r);if(r)g+=_;else{for(var k=0,C=_.length;C>k;k++)_[k].segment1=v,_[k].segment2=x,_[k].bez1=p,_[k].bez2=d;g=g.concat(_)}}}}}return g}function d(t,e,n,r,i,o){null!=t?(this.a=+t,this.b=+e,this.c=+n,this.d=+r,this.e=+i,this.f=+o):(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0)}function g(){return this.x+L+this.y+L+this.width+" \u00d7 "+this.height}function v(t,e,n,r,i,o){function a(t){return((h*t+c)*t+u)*t}function s(t,e){var n=l(t,e);return((d*n+p)*n+f)*n}function l(t,e){var n,r,i,o,s,l;for(i=t,l=0;8>l;l++){if(o=a(i)-t,e>z(o))return i;if(s=(3*h*i+2*c)*i+u,1e-6>z(s))break;i-=o/s}if(n=0,r=1,i=t,n>i)return n;if(i>r)return r;for(;r>n;){if(o=a(i),e>z(o-t))return i;t>o?n=i:r=i,i=(r-n)/2+n}return i}var u=3*e,c=3*(r-e)-u,h=1-u-c,f=3*n,p=3*(i-n)-f,d=1-f-p;return s(t,1/(200*o))}function m(t,e){var n=[],r={};if(this.ms=e,this.times=1,t){for(var i in t)t[T](i)&&(r[K(i)]=t[i],n.push(K(i)));n.sort(he)}this.anim=r,this.top=n[n.length-1],this.percents=n}function y(t,r,i,o,a,s){i=K(i);var l,u,c,h,f,p,g=t.ms,m={},y={},x={};if(o)for(w=0,k=un.length;k>w;w++){var b=un[w];if(b.el.id==r.id&&b.anim==t){b.percent!=i?(un.splice(w,1),c=1):u=b,r.attr(b.totalOrigin);break}}else o=+y;for(var w=0,k=t.percents.length;k>w;w++){if(t.percents[w]==i||t.percents[w]>o*t.top){i=t.percents[w],f=t.percents[w-1]||0,g=g/t.top*(i-f),h=t.percents[w+1],l=t.anim[i];break}o&&r.attr(t.anim[t.percents[w]])}if(l){if(u)u.initstatus=o,u.start=new Date-u.ms*o;else{for(var C in l)if(l[T](C)&&(re[T](C)||r.paper.customAttributes[T](C)))switch(m[C]=r.attr(C),null==m[C]&&(m[C]=ne[C]),y[C]=l[C],re[C]){case V:x[C]=(y[C]-m[C])/g;break;case"colour":m[C]=n.getRGB(m[C]);var S=n.getRGB(y[C]);x[C]={r:(S.r-m[C].r)/g,g:(S.g-m[C].g)/g,b:(S.b-m[C].b)/g};break;case"path":var N=Pe(m[C],y[C]),E=N[1];for(m[C]=N[0],x[C]=[],w=0,k=m[C].length;k>w;w++){x[C][w]=[0];for(var A=1,j=m[C][w].length;j>A;A++)x[C][w][A]=(E[w][A]-m[C][w][A])/g}break;case"transform":var D=r._,L=Ie(D[C],y[C]);if(L)for(m[C]=L.from,y[C]=L.to,x[C]=[],x[C].real=!0,w=0,k=m[C].length;k>w;w++)for(x[C][w]=[m[C][w][0]],A=1,j=m[C][w].length;j>A;A++)x[C][w][A]=(y[C][w][A]-m[C][w][A])/g;else{var P=r.matrix||new d,M={_:{transform:D.transform},getBBox:function(){return r.getBBox(1)}};m[C]=[P.a,P.b,P.c,P.d,P.e,P.f],He(M,y[C]),y[C]=M._.transform,x[C]=[(M.matrix.a-P.a)/g,(M.matrix.b-P.b)/g,(M.matrix.c-P.c)/g,(M.matrix.d-P.d)/g,(M.matrix.e-P.e)/g,(M.matrix.f-P.f)/g]}break;case"csv":var R=q(l[C])[F](_),H=q(m[C])[F](_);if("clip-rect"==C)for(m[C]=H,x[C]=[],w=H.length;w--;)x[C][w]=(R[w]-m[C][w])/g;y[C]=R;break;default:for(R=[][B](l[C]),H=[][B](m[C]),x[C]=[],w=r.paper.customAttributes[C].length;w--;)x[C][w]=((R[w]||0)-(H[w]||0))/g}var O=l.easing,I=n.easing_formulas[O];if(!I)if(I=q(O).match(J),I&&5==I.length){var z=I;I=function(t){return v(t,+z[1],+z[2],+z[3],+z[4],g)}}else I=pe;if(p=l.start||t.start||+new Date,b={anim:t,percent:i,timestamp:p,start:p+(t.del||0),status:0,initstatus:o||0,stop:!1,ms:g,easing:I,from:m,diff:x,to:y,el:r,callback:l.callback,prev:f,next:h,repeat:s||t.times,origin:r.attr(),totalOrigin:a},un.push(b),o&&!u&&!c&&(b.stop=!0,b.start=new Date-g*o,1==un.length))return hn();c&&(b.start=new Date-b.ms*o),1==un.length&&cn(hn)}e("raphael.anim.start."+r.id,r,t)}}function x(t){for(var e=0;un.length>e;e++)un[e].el.paper==t&&un.splice(e--,1)}n.version="2.1.2",n.eve=e;var b,w,_=/[, ]+/,k={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},C=/\{(\d+)\}/g,T="hasOwnProperty",S={doc:document,win:t},N={was:Object.prototype[T].call(S.win,"Raphael"),is:S.win.Raphael},E=function(){this.ca=this.customAttributes={}},A="apply",B="concat",j="ontouchstart"in S.win||S.win.DocumentTouch&&S.doc instanceof DocumentTouch,D="",L=" ",q=String,F="split",P="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel"[F](L),M={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},R=q.prototype.toLowerCase,H=Math,O=H.max,I=H.min,z=H.abs,W=H.pow,$=H.PI,V="number",X="string",Y="array",U=Object.prototype.toString,G=(n._ISURL=/^url\(['"]?(.+?)['"]?\)$/i,/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i),Q={NaN:1,Infinity:1,"-Infinity":1},J=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,Z=H.round,K=parseFloat,te=parseInt,ee=q.prototype.toUpperCase,ne=n._availableAttrs={"arrow-end":"none","arrow-start":"none",blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/","letter-spacing":0,opacity:1,path:"M0,0",r:0,rx:0,ry:0,src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",transform:"",width:0,x:0,y:0},re=n._availableAnimAttrs={blur:V,"clip-rect":"csv",cx:V,cy:V,fill:"colour","fill-opacity":V,"font-size":V,height:V,opacity:V,path:"path",r:V,rx:V,ry:V,stroke:"colour","stroke-opacity":V,"stroke-width":V,transform:"transform",width:V,x:V,y:V},ie=/[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/,oe={hs:1,rg:1},ae=/,?([achlmqrstvxz]),?/gi,se=/([achlmrqstvz])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,le=/([rstm])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,ue=/(-?\d*\.?\d*(?:e[\-+]?\d+)?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/gi,ce=(n._radial_gradient=/^r(?:\(([^,]+?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*([^\)]+?)\))?/,{}),he=function(t,e){return K(t)-K(e)},fe=function(){},pe=function(t){return t},de=n._rectPath=function(t,e,n,r,i){return i?[["M",t+i,e],["l",n-2*i,0],["a",i,i,0,0,1,i,i],["l",0,r-2*i],["a",i,i,0,0,1,-i,i],["l",2*i-n,0],["a",i,i,0,0,1,-i,-i],["l",0,2*i-r],["a",i,i,0,0,1,i,-i],["z"]]:[["M",t,e],["l",n,0],["l",0,r],["l",-n,0],["z"]]},ge=function(t,e,n,r){return null==r&&(r=n),[["M",t,e],["m",0,-r],["a",n,r,0,1,1,0,2*r],["a",n,r,0,1,1,0,-2*r],["z"]]},ve=n._getPath={path:function(t){return t.attr("path")},circle:function(t){var e=t.attrs;return ge(e.cx,e.cy,e.r)},ellipse:function(t){var e=t.attrs;return ge(e.cx,e.cy,e.rx,e.ry)},rect:function(t){var e=t.attrs;return de(e.x,e.y,e.width,e.height,e.r)},image:function(t){var e=t.attrs;return de(e.x,e.y,e.width,e.height)},text:function(t){var e=t._getBBox();return de(e.x,e.y,e.width,e.height)},set:function(t){var e=t._getBBox();return de(e.x,e.y,e.width,e.height)}},me=n.mapPath=function(t,e){if(!e)return t;var n,r,i,o,a,s,l;for(t=Pe(t),i=0,a=t.length;a>i;i++)for(l=t[i],o=1,s=l.length;s>o;o+=2)n=e.x(l[o],l[o+1]),r=e.y(l[o],l[o+1]),l[o]=n,l[o+1]=r;return t};if(n._g=S,n.type=S.win.SVGAngle||S.doc.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML","VML"==n.type){var ye,xe=S.doc.createElement("div");if(xe.innerHTML='<v:shape adj="1"/>',ye=xe.firstChild,ye.style.behavior="url(#default#VML)",!ye||"object"!=typeof ye.adj)return n.type=D;xe=null}n.svg=!(n.vml="VML"==n.type),n._Paper=E,n.fn=w=E.prototype=n.prototype,n._id=0,n._oid=0,n.is=function(t,e){return e=R.call(e),"finite"==e?!Q[T](+t):"array"==e?t instanceof Array:"null"==e&&null===t||e==typeof t&&null!==t||"object"==e&&t===Object(t)||"array"==e&&Array.isArray&&Array.isArray(t)||U.call(t).slice(8,-1).toLowerCase()==e},n.angle=function(t,e,r,i,o,a){if(null==o){var s=t-r,l=e-i;return s||l?(180+180*H.atan2(-l,-s)/$+360)%360:0}return n.angle(t,e,o,a)-n.angle(r,i,o,a)},n.rad=function(t){return t%360*$/180},n.deg=function(t){return Math.round(1e3*(180*t/$%360))/1e3},n.snapTo=function(t,e,r){if(r=n.is(r,"finite")?r:10,n.is(t,Y)){for(var i=t.length;i--;)if(r>=z(t[i]-e))return t[i]}else{t=+t;var o=e%t;if(r>o)return e-o;if(o>t-r)return e-o+t}return e},n.createUUID=function(t,e){return function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(t,e).toUpperCase()}}(/[xy]/g,function(t){var e=0|16*H.random(),n="x"==t?e:8|3&e;return n.toString(16)}),n.setWindow=function(t){e("raphael.setWindow",n,S.win,t),S.win=t,S.doc=S.win.document,n._engine.initWin&&n._engine.initWin(S.win)};var be=function(t){if(n.vml){var e,r=/^\s+|\s+$/g;try{var i=new ActiveXObject("htmlfile");i.write("<body>"),i.close(),e=i.body}catch(a){e=createPopup().document.body}var s=e.createTextRange();be=o(function(t){try{e.style.color=q(t).replace(r,D);var n=s.queryCommandValue("ForeColor");return n=(255&n)<<16|65280&n|(16711680&n)>>>16,"#"+("000000"+n.toString(16)).slice(-6)}catch(i){return"none"}})}else{var l=S.doc.createElement("i");l.title="Rapha\u00ebl Colour Picker",l.style.display="none",S.doc.body.appendChild(l),be=o(function(t){return l.style.color=t,S.doc.defaultView.getComputedStyle(l,D).getPropertyValue("color")})}return be(t)},we=function(){return"hsb("+[this.h,this.s,this.b]+")"},_e=function(){return"hsl("+[this.h,this.s,this.l]+")"},ke=function(){return this.hex},Ce=function(t,e,r){if(null==e&&n.is(t,"object")&&"r"in t&&"g"in t&&"b"in t&&(r=t.b,e=t.g,t=t.r),null==e&&n.is(t,X)){var i=n.getRGB(t);t=i.r,e=i.g,r=i.b}return(t>1||e>1||r>1)&&(t/=255,e/=255,r/=255),[t,e,r]},Te=function(t,e,r,i){t*=255,e*=255,r*=255;var o={r:t,g:e,b:r,hex:n.rgb(t,e,r),toString:ke};return n.is(i,"finite")&&(o.opacity=i),o};n.color=function(t){var e;return n.is(t,"object")&&"h"in t&&"s"in t&&"b"in t?(e=n.hsb2rgb(t),t.r=e.r,t.g=e.g,t.b=e.b,t.hex=e.hex):n.is(t,"object")&&"h"in t&&"s"in t&&"l"in t?(e=n.hsl2rgb(t),t.r=e.r,t.g=e.g,t.b=e.b,t.hex=e.hex):(n.is(t,"string")&&(t=n.getRGB(t)),n.is(t,"object")&&"r"in t&&"g"in t&&"b"in t?(e=n.rgb2hsl(t),t.h=e.h,t.s=e.s,t.l=e.l,e=n.rgb2hsb(t),t.v=e.b):(t={hex:"none"},t.r=t.g=t.b=t.h=t.s=t.v=t.l=-1)),t.toString=ke,t},n.hsb2rgb=function(t,e,n,r){this.is(t,"object")&&"h"in t&&"s"in t&&"b"in t&&(n=t.b,e=t.s,r=t.o,t=t.h),t*=360;var i,o,a,s,l;return t=t%360/60,l=n*e,s=l*(1-z(t%2-1)),i=o=a=n-l,t=~~t,i+=[l,s,0,0,s,l][t],o+=[s,l,l,s,0,0][t],a+=[0,0,s,l,l,s][t],Te(i,o,a,r)},n.hsl2rgb=function(t,e,n,r){this.is(t,"object")&&"h"in t&&"s"in t&&"l"in t&&(n=t.l,e=t.s,t=t.h),(t>1||e>1||n>1)&&(t/=360,e/=100,n/=100),t*=360;var i,o,a,s,l;return t=t%360/60,l=2*e*(.5>n?n:1-n),s=l*(1-z(t%2-1)),i=o=a=n-l/2,t=~~t,i+=[l,s,0,0,s,l][t],o+=[s,l,l,s,0,0][t],a+=[0,0,s,l,l,s][t],Te(i,o,a,r)},n.rgb2hsb=function(t,e,n){n=Ce(t,e,n),t=n[0],e=n[1],n=n[2];var r,i,o,a;return o=O(t,e,n),a=o-I(t,e,n),r=0==a?null:o==t?(e-n)/a:o==e?(n-t)/a+2:(t-e)/a+4,r=60*((r+360)%6)/360,i=0==a?0:a/o,{h:r,s:i,b:o,toString:we}},n.rgb2hsl=function(t,e,n){n=Ce(t,e,n),t=n[0],e=n[1],n=n[2];var r,i,o,a,s,l;return a=O(t,e,n),s=I(t,e,n),l=a-s,r=0==l?null:a==t?(e-n)/l:a==e?(n-t)/l+2:(t-e)/l+4,r=60*((r+360)%6)/360,o=(a+s)/2,i=0==l?0:.5>o?l/(2*o):l/(2-2*o),{h:r,s:i,l:o,toString:_e}},n._path2string=function(){return this.join(",").replace(ae,"$1")},n._preload=function(t,e){var n=S.doc.createElement("img");n.style.cssText="position:absolute;left:-9999em;top:-9999em",n.onload=function(){e.call(this),this.onload=null,S.doc.body.removeChild(this)},n.onerror=function(){S.doc.body.removeChild(this)},S.doc.body.appendChild(n),n.src=t},n.getRGB=o(function(t){if(!t||(t=q(t)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:a};if("none"==t)return{r:-1,g:-1,b:-1,hex:"none",toString:a};!(oe[T](t.toLowerCase().substring(0,2))||"#"==t.charAt())&&(t=be(t));var e,r,i,o,s,l,u=t.match(G);return u?(u[2]&&(i=te(u[2].substring(5),16),r=te(u[2].substring(3,5),16),e=te(u[2].substring(1,3),16)),u[3]&&(i=te((s=u[3].charAt(3))+s,16),r=te((s=u[3].charAt(2))+s,16),e=te((s=u[3].charAt(1))+s,16)),u[4]&&(l=u[4][F](ie),e=K(l[0]),"%"==l[0].slice(-1)&&(e*=2.55),r=K(l[1]),"%"==l[1].slice(-1)&&(r*=2.55),i=K(l[2]),"%"==l[2].slice(-1)&&(i*=2.55),"rgba"==u[1].toLowerCase().slice(0,4)&&(o=K(l[3])),l[3]&&"%"==l[3].slice(-1)&&(o/=100)),u[5]?(l=u[5][F](ie),e=K(l[0]),"%"==l[0].slice(-1)&&(e*=2.55),r=K(l[1]),"%"==l[1].slice(-1)&&(r*=2.55),i=K(l[2]),"%"==l[2].slice(-1)&&(i*=2.55),("deg"==l[0].slice(-3)||"\u00b0"==l[0].slice(-1))&&(e/=360),"hsba"==u[1].toLowerCase().slice(0,4)&&(o=K(l[3])),l[3]&&"%"==l[3].slice(-1)&&(o/=100),n.hsb2rgb(e,r,i,o)):u[6]?(l=u[6][F](ie),e=K(l[0]),"%"==l[0].slice(-1)&&(e*=2.55),r=K(l[1]),"%"==l[1].slice(-1)&&(r*=2.55),i=K(l[2]),"%"==l[2].slice(-1)&&(i*=2.55),("deg"==l[0].slice(-3)||"\u00b0"==l[0].slice(-1))&&(e/=360),"hsla"==u[1].toLowerCase().slice(0,4)&&(o=K(l[3])),l[3]&&"%"==l[3].slice(-1)&&(o/=100),n.hsl2rgb(e,r,i,o)):(u={r:e,g:r,b:i,toString:a},u.hex="#"+(16777216|i|r<<8|e<<16).toString(16).slice(1),n.is(o,"finite")&&(u.opacity=o),u)):{r:-1,g:-1,b:-1,hex:"none",error:1,toString:a}},n),n.hsb=o(function(t,e,r){return n.hsb2rgb(t,e,r).hex}),n.hsl=o(function(t,e,r){return n.hsl2rgb(t,e,r).hex}),n.rgb=o(function(t,e,n){return"#"+(16777216|n|e<<8|t<<16).toString(16).slice(1)}),n.getColor=function(t){var e=this.getColor.start=this.getColor.start||{h:0,s:1,b:t||.75},n=this.hsb2rgb(e.h,e.s,e.b);return e.h+=.075,e.h>1&&(e.h=0,e.s-=.2,0>=e.s&&(this.getColor.start={h:0,s:1,b:e.b})),n.hex},n.getColor.reset=function(){delete this.start},n.parsePathString=function(t){if(!t)return null;var e=Se(t);if(e.arr)return Ee(e.arr);var r={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},i=[];return n.is(t,Y)&&n.is(t[0],Y)&&(i=Ee(t)),i.length||q(t).replace(se,function(t,e,n){var o=[],a=e.toLowerCase();if(n.replace(ue,function(t,e){e&&o.push(+e)}),"m"==a&&o.length>2&&(i.push([e][B](o.splice(0,2))),a="l",e="m"==e?"l":"L"),"r"==a)i.push([e][B](o));else for(;o.length>=r[a]&&(i.push([e][B](o.splice(0,r[a]))),r[a]););}),i.toString=n._path2string,e.arr=Ee(i),i},n.parseTransformString=o(function(t){if(!t)return null;var e=[];return n.is(t,Y)&&n.is(t[0],Y)&&(e=Ee(t)),e.length||q(t).replace(le,function(t,n,r){var i=[];R.call(n),r.replace(ue,function(t,e){e&&i.push(+e)}),e.push([n][B](i))}),e.toString=n._path2string,e});var Se=function(t){var e=Se.ps=Se.ps||{};return e[t]?e[t].sleep=100:e[t]={sleep:100},setTimeout(function(){for(var n in e)e[T](n)&&n!=t&&(e[n].sleep--,!e[n].sleep&&delete e[n])}),e[t]};n.findDotsAtSegment=function(t,e,n,r,i,o,a,s,l){var u=1-l,c=W(u,3),h=W(u,2),f=l*l,p=f*l,d=c*t+3*h*l*n+3*u*l*l*i+p*a,g=c*e+3*h*l*r+3*u*l*l*o+p*s,v=t+2*l*(n-t)+f*(i-2*n+t),m=e+2*l*(r-e)+f*(o-2*r+e),y=n+2*l*(i-n)+f*(a-2*i+n),x=r+2*l*(o-r)+f*(s-2*o+r),b=u*t+l*n,w=u*e+l*r,_=u*i+l*a,k=u*o+l*s,C=90-180*H.atan2(v-y,m-x)/$;return(v>y||x>m)&&(C+=180),{x:d,y:g,m:{x:v,y:m},n:{x:y,y:x},start:{x:b,y:w},end:{x:_,y:k},alpha:C}},n.bezierBBox=function(t,e,r,i,o,a,s,l){n.is(t,"array")||(t=[t,e,r,i,o,a,s,l]);var u=Fe.apply(null,t);return{x:u.min.x,y:u.min.y,x2:u.max.x,y2:u.max.y,width:u.max.x-u.min.x,height:u.max.y-u.min.y}},n.isPointInsideBBox=function(t,e,n){return e>=t.x&&t.x2>=e&&n>=t.y&&t.y2>=n},n.isBBoxIntersect=function(t,e){var r=n.isPointInsideBBox;return r(e,t.x,t.y)||r(e,t.x2,t.y)||r(e,t.x,t.y2)||r(e,t.x2,t.y2)||r(t,e.x,e.y)||r(t,e.x2,e.y)||r(t,e.x,e.y2)||r(t,e.x2,e.y2)||(t.x<e.x2&&t.x>e.x||e.x<t.x2&&e.x>t.x)&&(t.y<e.y2&&t.y>e.y||e.y<t.y2&&e.y>t.y)},n.pathIntersection=function(t,e){return p(t,e)},n.pathIntersectionNumber=function(t,e){return p(t,e,1)},n.isPointInsidePath=function(t,e,r){var i=n.pathBBox(t);return n.isPointInsideBBox(i,e,r)&&1==p(t,[["M",e,r],["H",i.x2+10]],1)%2},n._removedFactory=function(t){return function(){e("raphael.log",null,"Rapha\u00ebl: you are calling to method \u201c"+t+"\u201d of removed object",t)}};var Ne=n.pathBBox=function(t){var e=Se(t);if(e.bbox)return r(e.bbox);if(!t)return{x:0,y:0,width:0,height:0,x2:0,y2:0};t=Pe(t);for(var n,i=0,o=0,a=[],s=[],l=0,u=t.length;u>l;l++)if(n=t[l],"M"==n[0])i=n[1],o=n[2],a.push(i),s.push(o);else{var c=Fe(i,o,n[1],n[2],n[3],n[4],n[5],n[6]);a=a[B](c.min.x,c.max.x),s=s[B](c.min.y,c.max.y),i=n[5],o=n[6]}var h=I[A](0,a),f=I[A](0,s),p=O[A](0,a),d=O[A](0,s),g=p-h,v=d-f,m={x:h,y:f,x2:p,y2:d,width:g,height:v,cx:h+g/2,cy:f+v/2};return e.bbox=r(m),m},Ee=function(t){var e=r(t);return e.toString=n._path2string,e},Ae=n._pathToRelative=function(t){var e=Se(t);if(e.rel)return Ee(e.rel);n.is(t,Y)&&n.is(t&&t[0],Y)||(t=n.parsePathString(t));var r=[],i=0,o=0,a=0,s=0,l=0;"M"==t[0][0]&&(i=t[0][1],o=t[0][2],a=i,s=o,l++,r.push(["M",i,o]));for(var u=l,c=t.length;c>u;u++){var h=r[u]=[],f=t[u];if(f[0]!=R.call(f[0]))switch(h[0]=R.call(f[0]),h[0]){case"a":h[1]=f[1],h[2]=f[2],h[3]=f[3],h[4]=f[4],h[5]=f[5],h[6]=+(f[6]-i).toFixed(3),h[7]=+(f[7]-o).toFixed(3);break;case"v":h[1]=+(f[1]-o).toFixed(3);break;case"m":a=f[1],s=f[2];default:for(var p=1,d=f.length;d>p;p++)h[p]=+(f[p]-(p%2?i:o)).toFixed(3)}else{h=r[u]=[],"m"==f[0]&&(a=f[1]+i,s=f[2]+o);for(var g=0,v=f.length;v>g;g++)r[u][g]=f[g]}var m=r[u].length;switch(r[u][0]){case"z":i=a,o=s;break;case"h":i+=+r[u][m-1];break;case"v":o+=+r[u][m-1];break;default:i+=+r[u][m-2],o+=+r[u][m-1]}}return r.toString=n._path2string,e.rel=Ee(r),r},Be=n._pathToAbsolute=function(t){var e=Se(t);if(e.abs)return Ee(e.abs);if(n.is(t,Y)&&n.is(t&&t[0],Y)||(t=n.parsePathString(t)),!t||!t.length)return[["M",0,0]];var r=[],i=0,o=0,a=0,l=0,u=0;"M"==t[0][0]&&(i=+t[0][1],o=+t[0][2],a=i,l=o,u++,r[0]=["M",i,o]);for(var c,h,f=3==t.length&&"M"==t[0][0]&&"R"==t[1][0].toUpperCase()&&"Z"==t[2][0].toUpperCase(),p=u,d=t.length;d>p;p++){if(r.push(c=[]),h=t[p],h[0]!=ee.call(h[0]))switch(c[0]=ee.call(h[0]),c[0]){case"A":c[1]=h[1],c[2]=h[2],c[3]=h[3],c[4]=h[4],c[5]=h[5],c[6]=+(h[6]+i),c[7]=+(h[7]+o);break;case"V":c[1]=+h[1]+o;break;case"H":c[1]=+h[1]+i;break;case"R":for(var g=[i,o][B](h.slice(1)),v=2,m=g.length;m>v;v++)g[v]=+g[v]+i,g[++v]=+g[v]+o;r.pop(),r=r[B](s(g,f));break;case"M":a=+h[1]+i,l=+h[2]+o;default:for(v=1,m=h.length;m>v;v++)c[v]=+h[v]+(v%2?i:o)}else if("R"==h[0])g=[i,o][B](h.slice(1)),r.pop(),r=r[B](s(g,f)),c=["R"][B](h.slice(-2));else for(var y=0,x=h.length;x>y;y++)c[y]=h[y];switch(c[0]){case"Z":i=a,o=l;break;case"H":i=c[1];break;case"V":o=c[1];break;case"M":a=c[c.length-2],l=c[c.length-1];default:i=c[c.length-2],o=c[c.length-1]}}return r.toString=n._path2string,e.abs=Ee(r),r},je=function(t,e,n,r){return[t,e,n,r,n,r]},De=function(t,e,n,r,i,o){var a=1/3,s=2/3;return[a*t+s*n,a*e+s*r,a*i+s*n,a*o+s*r,i,o]},Le=function(t,e,n,r,i,a,s,l,u,c){var h,f=120*$/180,p=$/180*(+i||0),d=[],g=o(function(t,e,n){var r=t*H.cos(n)-e*H.sin(n),i=t*H.sin(n)+e*H.cos(n);return{x:r,y:i}});if(c)C=c[0],T=c[1],_=c[2],k=c[3];else{h=g(t,e,-p),t=h.x,e=h.y,h=g(l,u,-p),l=h.x,u=h.y;var v=(H.cos($/180*i),H.sin($/180*i),(t-l)/2),m=(e-u)/2,y=v*v/(n*n)+m*m/(r*r);y>1&&(y=H.sqrt(y),n=y*n,r=y*r);var x=n*n,b=r*r,w=(a==s?-1:1)*H.sqrt(z((x*b-x*m*m-b*v*v)/(x*m*m+b*v*v))),_=w*n*m/r+(t+l)/2,k=w*-r*v/n+(e+u)/2,C=H.asin(((e-k)/r).toFixed(9)),T=H.asin(((u-k)/r).toFixed(9));C=_>t?$-C:C,T=_>l?$-T:T,0>C&&(C=2*$+C),0>T&&(T=2*$+T),s&&C>T&&(C-=2*$),!s&&T>C&&(T-=2*$)}var S=T-C;if(z(S)>f){var N=T,E=l,A=u;T=C+f*(s&&T>C?1:-1),l=_+n*H.cos(T),u=k+r*H.sin(T),d=Le(l,u,n,r,i,0,s,E,A,[T,N,_,k])}S=T-C;var j=H.cos(C),D=H.sin(C),L=H.cos(T),q=H.sin(T),P=H.tan(S/4),M=4/3*n*P,R=4/3*r*P,O=[t,e],I=[t+M*D,e-R*j],W=[l+M*q,u-R*L],V=[l,u];if(I[0]=2*O[0]-I[0],I[1]=2*O[1]-I[1],c)return[I,W,V][B](d);d=[I,W,V][B](d).join()[F](",");for(var X=[],Y=0,U=d.length;U>Y;Y++)X[Y]=Y%2?g(d[Y-1],d[Y],p).y:g(d[Y],d[Y+1],p).x;return X},qe=function(t,e,n,r,i,o,a,s,l){var u=1-l;return{x:W(u,3)*t+3*W(u,2)*l*n+3*u*l*l*i+W(l,3)*a,y:W(u,3)*e+3*W(u,2)*l*r+3*u*l*l*o+W(l,3)*s}},Fe=o(function(t,e,n,r,i,o,a,s){var l,u=i-2*n+t-(a-2*i+n),c=2*(n-t)-2*(i-n),h=t-n,f=(-c+H.sqrt(c*c-4*u*h))/2/u,p=(-c-H.sqrt(c*c-4*u*h))/2/u,d=[e,s],g=[t,a];return z(f)>"1e12"&&(f=.5),z(p)>"1e12"&&(p=.5),f>0&&1>f&&(l=qe(t,e,n,r,i,o,a,s,f),g.push(l.x),d.push(l.y)),p>0&&1>p&&(l=qe(t,e,n,r,i,o,a,s,p),g.push(l.x),d.push(l.y)),u=o-2*r+e-(s-2*o+r),c=2*(r-e)-2*(o-r),h=e-r,f=(-c+H.sqrt(c*c-4*u*h))/2/u,p=(-c-H.sqrt(c*c-4*u*h))/2/u,z(f)>"1e12"&&(f=.5),z(p)>"1e12"&&(p=.5),f>0&&1>f&&(l=qe(t,e,n,r,i,o,a,s,f),g.push(l.x),d.push(l.y)),p>0&&1>p&&(l=qe(t,e,n,r,i,o,a,s,p),g.push(l.x),d.push(l.y)),{min:{x:I[A](0,g),y:I[A](0,d)},max:{x:O[A](0,g),y:O[A](0,d)}}}),Pe=n._path2curve=o(function(t,e){var n=!e&&Se(t);if(!e&&n.curve)return Ee(n.curve);for(var r=Be(t),i=e&&Be(e),o={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},a={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},s=(function(t,e,n){var r,i,o={T:1,Q:1};if(!t)return["C",e.x,e.y,e.x,e.y,e.x,e.y];switch(!(t[0]in o)&&(e.qx=e.qy=null),t[0]){case"M":e.X=t[1],e.Y=t[2];break;case"A":t=["C"][B](Le[A](0,[e.x,e.y][B](t.slice(1))));break;case"S":"C"==n||"S"==n?(r=2*e.x-e.bx,i=2*e.y-e.by):(r=e.x,i=e.y),t=["C",r,i][B](t.slice(1));break;case"T":"Q"==n||"T"==n?(e.qx=2*e.x-e.qx,e.qy=2*e.y-e.qy):(e.qx=e.x,e.qy=e.y),t=["C"][B](De(e.x,e.y,e.qx,e.qy,t[1],t[2]));break;case"Q":e.qx=t[1],e.qy=t[2],t=["C"][B](De(e.x,e.y,t[1],t[2],t[3],t[4]));break;case"L":t=["C"][B](je(e.x,e.y,t[1],t[2]));break;case"H":t=["C"][B](je(e.x,e.y,t[1],e.y));break;case"V":t=["C"][B](je(e.x,e.y,e.x,t[1]));break;case"Z":t=["C"][B](je(e.x,e.y,e.X,e.Y))}return t}),l=function(t,e){if(t[e].length>7){t[e].shift();for(var n=t[e];n.length;)c[e]="A",i&&(h[e]="A"),t.splice(e++,0,["C"][B](n.splice(0,6)));t.splice(e,1),g=O(r.length,i&&i.length||0)}},u=function(t,e,n,o,a){t&&e&&"M"==t[a][0]&&"M"!=e[a][0]&&(e.splice(a,0,["M",o.x,o.y]),n.bx=0,n.by=0,n.x=t[a][1],n.y=t[a][2],g=O(r.length,i&&i.length||0))},c=[],h=[],f="",p="",d=0,g=O(r.length,i&&i.length||0);g>d;d++){r[d]&&(f=r[d][0]),"C"!=f&&(c[d]=f,d&&(p=c[d-1])),r[d]=s(r[d],o,p),"A"!=c[d]&&"C"==f&&(c[d]="C"),l(r,d),i&&(i[d]&&(f=i[d][0]),"C"!=f&&(h[d]=f,d&&(p=h[d-1])),i[d]=s(i[d],a,p),"A"!=h[d]&&"C"==f&&(h[d]="C"),l(i,d)),u(r,i,o,a,d),u(i,r,a,o,d);var v=r[d],m=i&&i[d],y=v.length,x=i&&m.length;o.x=v[y-2],o.y=v[y-1],o.bx=K(v[y-4])||o.x,o.by=K(v[y-3])||o.y,a.bx=i&&(K(m[x-4])||a.x),a.by=i&&(K(m[x-3])||a.y),a.x=i&&m[x-2],a.y=i&&m[x-1]}return i||(n.curve=Ee(r)),i?[r,i]:r},null,Ee),Me=(n._parseDots=o(function(t){for(var e=[],r=0,i=t.length;i>r;r++){var o={},a=t[r].match(/^([^:]*):?([\d\.]*)/);if(o.color=n.getRGB(a[1]),o.color.error)return null;o.color=o.color.hex,a[2]&&(o.offset=a[2]+"%"),e.push(o)}for(r=1,i=e.length-1;i>r;r++)if(!e[r].offset){for(var s=K(e[r-1].offset||0),l=0,u=r+1;i>u;u++)if(e[u].offset){l=e[u].offset;break}l||(l=100,u=i),l=K(l);for(var c=(l-s)/(u-r+1);u>r;r++)s+=c,e[r].offset=s+"%"}return e}),n._tear=function(t,e){t==e.top&&(e.top=t.prev),t==e.bottom&&(e.bottom=t.next),t.next&&(t.next.prev=t.prev),t.prev&&(t.prev.next=t.next)}),Re=(n._tofront=function(t,e){e.top!==t&&(Me(t,e),t.next=null,t.prev=e.top,e.top.next=t,e.top=t)},n._toback=function(t,e){e.bottom!==t&&(Me(t,e),t.next=e.bottom,t.prev=null,e.bottom.prev=t,e.bottom=t)},n._insertafter=function(t,e,n){Me(t,n),e==n.top&&(n.top=t),e.next&&(e.next.prev=t),t.next=e.next,t.prev=e,e.next=t},n._insertbefore=function(t,e,n){Me(t,n),e==n.bottom&&(n.bottom=t),e.prev&&(e.prev.next=t),t.prev=e.prev,e.prev=t,t.next=e},n.toMatrix=function(t,e){var n=Ne(t),r={_:{transform:D},getBBox:function(){return n}};return He(r,e),r.matrix}),He=(n.transformPath=function(t,e){return me(t,Re(t,e))},n._extractTransform=function(t,e){if(null==e)return t._.transform;e=q(e).replace(/\.{3}|\u2026/g,t._.transform||D);var r=n.parseTransformString(e),i=0,o=0,a=0,s=1,l=1,u=t._,c=new d;if(u.transform=r||[],r)for(var h=0,f=r.length;f>h;h++){var p,g,v,m,y,x=r[h],b=x.length,w=q(x[0]).toLowerCase(),_=x[0]!=w,k=_?c.invert():0;"t"==w&&3==b?_?(p=k.x(0,0),g=k.y(0,0),v=k.x(x[1],x[2]),m=k.y(x[1],x[2]),c.translate(v-p,m-g)):c.translate(x[1],x[2]):"r"==w?2==b?(y=y||t.getBBox(1),c.rotate(x[1],y.x+y.width/2,y.y+y.height/2),i+=x[1]):4==b&&(_?(v=k.x(x[2],x[3]),m=k.y(x[2],x[3]),c.rotate(x[1],v,m)):c.rotate(x[1],x[2],x[3]),i+=x[1]):"s"==w?2==b||3==b?(y=y||t.getBBox(1),c.scale(x[1],x[b-1],y.x+y.width/2,y.y+y.height/2),s*=x[1],l*=x[b-1]):5==b&&(_?(v=k.x(x[3],x[4]),m=k.y(x[3],x[4]),c.scale(x[1],x[2],v,m)):c.scale(x[1],x[2],x[3],x[4]),s*=x[1],l*=x[2]):"m"==w&&7==b&&c.add(x[1],x[2],x[3],x[4],x[5],x[6]),u.dirtyT=1,t.matrix=c}t.matrix=c,u.sx=s,u.sy=l,u.deg=i,u.dx=o=c.e,u.dy=a=c.f,1==s&&1==l&&!i&&u.bbox?(u.bbox.x+=+o,u.bbox.y+=+a):u.dirtyT=1}),Oe=function(t){var e=t[0];switch(e.toLowerCase()){case"t":return[e,0,0];case"m":return[e,1,0,0,1,0,0];case"r":return 4==t.length?[e,0,t[2],t[3]]:[e,0];case"s":return 5==t.length?[e,1,1,t[3],t[4]]:3==t.length?[e,1,1]:[e,1]}},Ie=n._equaliseTransform=function(t,e){e=q(e).replace(/\.{3}|\u2026/g,t),t=n.parseTransformString(t)||[],e=n.parseTransformString(e)||[];
for(var r,i,o,a,s=O(t.length,e.length),l=[],u=[],c=0;s>c;c++){if(o=t[c]||Oe(e[c]),a=e[c]||Oe(o),o[0]!=a[0]||"r"==o[0].toLowerCase()&&(o[2]!=a[2]||o[3]!=a[3])||"s"==o[0].toLowerCase()&&(o[3]!=a[3]||o[4]!=a[4]))return;for(l[c]=[],u[c]=[],r=0,i=O(o.length,a.length);i>r;r++)r in o&&(l[c][r]=o[r]),r in a&&(u[c][r]=a[r])}return{from:l,to:u}};n._getContainer=function(t,e,r,i){var o;return o=null!=i||n.is(t,"object")?t:S.doc.getElementById(t),null!=o?o.tagName?null==e?{container:o,width:o.style.pixelWidth||o.offsetWidth,height:o.style.pixelHeight||o.offsetHeight}:{container:o,width:e,height:r}:{container:1,x:t,y:e,width:r,height:i}:void 0},n.pathToRelative=Ae,n._engine={},n.path2curve=Pe,n.matrix=function(t,e,n,r,i,o){return new d(t,e,n,r,i,o)},function(t){function e(t){return t[0]*t[0]+t[1]*t[1]}function r(t){var n=H.sqrt(e(t));t[0]&&(t[0]/=n),t[1]&&(t[1]/=n)}t.add=function(t,e,n,r,i,o){var a,s,l,u,c=[[],[],[]],h=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]],f=[[t,n,i],[e,r,o],[0,0,1]];for(t&&t instanceof d&&(f=[[t.a,t.c,t.e],[t.b,t.d,t.f],[0,0,1]]),a=0;3>a;a++)for(s=0;3>s;s++){for(u=0,l=0;3>l;l++)u+=h[a][l]*f[l][s];c[a][s]=u}this.a=c[0][0],this.b=c[1][0],this.c=c[0][1],this.d=c[1][1],this.e=c[0][2],this.f=c[1][2]},t.invert=function(){var t=this,e=t.a*t.d-t.b*t.c;return new d(t.d/e,-t.b/e,-t.c/e,t.a/e,(t.c*t.f-t.d*t.e)/e,(t.b*t.e-t.a*t.f)/e)},t.clone=function(){return new d(this.a,this.b,this.c,this.d,this.e,this.f)},t.translate=function(t,e){this.add(1,0,0,1,t,e)},t.scale=function(t,e,n,r){null==e&&(e=t),(n||r)&&this.add(1,0,0,1,n,r),this.add(t,0,0,e,0,0),(n||r)&&this.add(1,0,0,1,-n,-r)},t.rotate=function(t,e,r){t=n.rad(t),e=e||0,r=r||0;var i=+H.cos(t).toFixed(9),o=+H.sin(t).toFixed(9);this.add(i,o,-o,i,e,r),this.add(1,0,0,1,-e,-r)},t.x=function(t,e){return t*this.a+e*this.c+this.e},t.y=function(t,e){return t*this.b+e*this.d+this.f},t.get=function(t){return+this[q.fromCharCode(97+t)].toFixed(4)},t.toString=function(){return n.svg?"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")":[this.get(0),this.get(2),this.get(1),this.get(3),0,0].join()},t.toFilter=function(){return"progid:DXImageTransform.Microsoft.Matrix(M11="+this.get(0)+", M12="+this.get(2)+", M21="+this.get(1)+", M22="+this.get(3)+", Dx="+this.get(4)+", Dy="+this.get(5)+", sizingmethod='auto expand')"},t.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]},t.split=function(){var t={};t.dx=this.e,t.dy=this.f;var i=[[this.a,this.c],[this.b,this.d]];t.scalex=H.sqrt(e(i[0])),r(i[0]),t.shear=i[0][0]*i[1][0]+i[0][1]*i[1][1],i[1]=[i[1][0]-i[0][0]*t.shear,i[1][1]-i[0][1]*t.shear],t.scaley=H.sqrt(e(i[1])),r(i[1]),t.shear/=t.scaley;var o=-i[0][1],a=i[1][1];return 0>a?(t.rotate=n.deg(H.acos(a)),0>o&&(t.rotate=360-t.rotate)):t.rotate=n.deg(H.asin(o)),t.isSimple=!(+t.shear.toFixed(9)||t.scalex.toFixed(9)!=t.scaley.toFixed(9)&&t.rotate),t.isSuperSimple=!+t.shear.toFixed(9)&&t.scalex.toFixed(9)==t.scaley.toFixed(9)&&!t.rotate,t.noRotation=!+t.shear.toFixed(9)&&!t.rotate,t},t.toTransformString=function(t){var e=t||this[F]();return e.isSimple?(e.scalex=+e.scalex.toFixed(4),e.scaley=+e.scaley.toFixed(4),e.rotate=+e.rotate.toFixed(4),(e.dx||e.dy?"t"+[e.dx,e.dy]:D)+(1!=e.scalex||1!=e.scaley?"s"+[e.scalex,e.scaley,0,0]:D)+(e.rotate?"r"+[e.rotate,0,0]:D)):"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]}}(d.prototype);var ze=navigator.userAgent.match(/Version\/(.*?)\s/)||navigator.userAgent.match(/Chrome\/(\d+)/);w.safari="Apple Computer, Inc."==navigator.vendor&&(ze&&4>ze[1]||"iP"==navigator.platform.slice(0,2))||"Google Inc."==navigator.vendor&&ze&&8>ze[1]?function(){var t=this.rect(-99,-99,this.width+99,this.height+99).attr({stroke:"none"});setTimeout(function(){t.remove()})}:fe;for(var We=function(){this.returnValue=!1},$e=function(){return this.originalEvent.preventDefault()},Ve=function(){this.cancelBubble=!0},Xe=function(){return this.originalEvent.stopPropagation()},Ye=function(t){var e=S.doc.documentElement.scrollTop||S.doc.body.scrollTop,n=S.doc.documentElement.scrollLeft||S.doc.body.scrollLeft;return{x:t.clientX+n,y:t.clientY+e}},Ue=function(){return S.doc.addEventListener?function(t,e,n,r){var i=function(t){var e=Ye(t);return n.call(r,t,e.x,e.y)};if(t.addEventListener(e,i,!1),j&&M[e]){var o=function(e){for(var i=Ye(e),o=e,a=0,s=e.targetTouches&&e.targetTouches.length;s>a;a++)if(e.targetTouches[a].target==t){e=e.targetTouches[a],e.originalEvent=o,e.preventDefault=$e,e.stopPropagation=Xe;break}return n.call(r,e,i.x,i.y)};t.addEventListener(M[e],o,!1)}return function(){return t.removeEventListener(e,i,!1),j&&M[e]&&t.removeEventListener(M[e],o,!1),!0}}:S.doc.attachEvent?function(t,e,n,r){var i=function(t){t=t||S.win.event;var e=S.doc.documentElement.scrollTop||S.doc.body.scrollTop,i=S.doc.documentElement.scrollLeft||S.doc.body.scrollLeft,o=t.clientX+i,a=t.clientY+e;return t.preventDefault=t.preventDefault||We,t.stopPropagation=t.stopPropagation||Ve,n.call(r,t,o,a)};t.attachEvent("on"+e,i);var o=function(){return t.detachEvent("on"+e,i),!0};return o}:void 0}(),Ge=[],Qe=function(t){for(var n,r=t.clientX,i=t.clientY,o=S.doc.documentElement.scrollTop||S.doc.body.scrollTop,a=S.doc.documentElement.scrollLeft||S.doc.body.scrollLeft,s=Ge.length;s--;){if(n=Ge[s],j&&t.touches){for(var l,u=t.touches.length;u--;)if(l=t.touches[u],l.identifier==n.el._drag.id){r=l.clientX,i=l.clientY,(t.originalEvent?t.originalEvent:t).preventDefault();break}}else t.preventDefault();var c,h=n.el.node,f=h.nextSibling,p=h.parentNode,d=h.style.display;S.win.opera&&p.removeChild(h),h.style.display="none",c=n.el.paper.getElementByPoint(r,i),h.style.display=d,S.win.opera&&(f?p.insertBefore(h,f):p.appendChild(h)),c&&e("raphael.drag.over."+n.el.id,n.el,c),r+=a,i+=o,e("raphael.drag.move."+n.el.id,n.move_scope||n.el,r-n.el._drag.x,i-n.el._drag.y,r,i,t)}},Je=function(t){n.unmousemove(Qe).unmouseup(Je);for(var r,i=Ge.length;i--;)r=Ge[i],r.el._drag={},e("raphael.drag.end."+r.el.id,r.end_scope||r.start_scope||r.move_scope||r.el,t);Ge=[]},Ze=n.el={},Ke=P.length;Ke--;)(function(t){n[t]=Ze[t]=function(e,r){return n.is(e,"function")&&(this.events=this.events||[],this.events.push({name:t,f:e,unbind:Ue(this.shape||this.node||S.doc,t,e,r||this)})),this},n["un"+t]=Ze["un"+t]=function(e){for(var r=this.events||[],i=r.length;i--;)r[i].name!=t||!n.is(e,"undefined")&&r[i].f!=e||(r[i].unbind(),r.splice(i,1),!r.length&&delete this.events);return this}})(P[Ke]);Ze.data=function(t,r){var i=ce[this.id]=ce[this.id]||{};if(0==arguments.length)return i;if(1==arguments.length){if(n.is(t,"object")){for(var o in t)t[T](o)&&this.data(o,t[o]);return this}return e("raphael.data.get."+this.id,this,i[t],t),i[t]}return i[t]=r,e("raphael.data.set."+this.id,this,r,t),this},Ze.removeData=function(t){return null==t?ce[this.id]={}:ce[this.id]&&delete ce[this.id][t],this},Ze.getData=function(){return r(ce[this.id]||{})},Ze.hover=function(t,e,n,r){return this.mouseover(t,n).mouseout(e,r||n)},Ze.unhover=function(t,e){return this.unmouseover(t).unmouseout(e)};var tn=[];Ze.drag=function(t,r,i,o,a,s){function l(l){(l.originalEvent||l).preventDefault();var u=l.clientX,c=l.clientY,h=S.doc.documentElement.scrollTop||S.doc.body.scrollTop,f=S.doc.documentElement.scrollLeft||S.doc.body.scrollLeft;if(this._drag.id=l.identifier,j&&l.touches)for(var p,d=l.touches.length;d--;)if(p=l.touches[d],this._drag.id=p.identifier,p.identifier==this._drag.id){u=p.clientX,c=p.clientY;break}this._drag.x=u+f,this._drag.y=c+h,!Ge.length&&n.mousemove(Qe).mouseup(Je),Ge.push({el:this,move_scope:o,start_scope:a,end_scope:s}),r&&e.on("raphael.drag.start."+this.id,r),t&&e.on("raphael.drag.move."+this.id,t),i&&e.on("raphael.drag.end."+this.id,i),e("raphael.drag.start."+this.id,a||o||this,l.clientX+f,l.clientY+h,l)}return this._drag={},tn.push({el:this,start:l}),this.mousedown(l),this},Ze.onDragOver=function(t){t?e.on("raphael.drag.over."+this.id,t):e.unbind("raphael.drag.over."+this.id)},Ze.undrag=function(){for(var t=tn.length;t--;)tn[t].el==this&&(this.unmousedown(tn[t].start),tn.splice(t,1),e.unbind("raphael.drag.*."+this.id));!tn.length&&n.unmousemove(Qe).unmouseup(Je),Ge=[]},w.circle=function(t,e,r){var i=n._engine.circle(this,t||0,e||0,r||0);return this.__set__&&this.__set__.push(i),i},w.rect=function(t,e,r,i,o){var a=n._engine.rect(this,t||0,e||0,r||0,i||0,o||0);return this.__set__&&this.__set__.push(a),a},w.ellipse=function(t,e,r,i){var o=n._engine.ellipse(this,t||0,e||0,r||0,i||0);return this.__set__&&this.__set__.push(o),o},w.path=function(t){t&&!n.is(t,X)&&!n.is(t[0],Y)&&(t+=D);var e=n._engine.path(n.format[A](n,arguments),this);return this.__set__&&this.__set__.push(e),e},w.image=function(t,e,r,i,o){var a=n._engine.image(this,t||"about:blank",e||0,r||0,i||0,o||0);return this.__set__&&this.__set__.push(a),a},w.text=function(t,e,r){var i=n._engine.text(this,t||0,e||0,q(r));return this.__set__&&this.__set__.push(i),i},w.set=function(t){!n.is(t,"array")&&(t=Array.prototype.splice.call(arguments,0,arguments.length));var e=new pn(t);return this.__set__&&this.__set__.push(e),e.paper=this,e.type="set",e},w.setStart=function(t){this.__set__=t||this.set()},w.setFinish=function(){var t=this.__set__;return delete this.__set__,t},w.getSize=function(){var t=this.canvas.parentNode;return{width:t.offsetWidth,height:t.offsetHeight}},w.setSize=function(t,e){return n._engine.setSize.call(this,t,e)},w.setViewBox=function(t,e,r,i,o){return n._engine.setViewBox.call(this,t,e,r,i,o)},w.top=w.bottom=null,w.raphael=n;var en=function(t){var e=t.getBoundingClientRect(),n=t.ownerDocument,r=n.body,i=n.documentElement,o=i.clientTop||r.clientTop||0,a=i.clientLeft||r.clientLeft||0,s=e.top+(S.win.pageYOffset||i.scrollTop||r.scrollTop)-o,l=e.left+(S.win.pageXOffset||i.scrollLeft||r.scrollLeft)-a;return{y:s,x:l}};w.getElementByPoint=function(t,e){var n=this,r=n.canvas,i=S.doc.elementFromPoint(t,e);if(S.win.opera&&"svg"==i.tagName){var o=en(r),a=r.createSVGRect();a.x=t-o.x,a.y=e-o.y,a.width=a.height=1;var s=r.getIntersectionList(a,null);s.length&&(i=s[s.length-1])}if(!i)return null;for(;i.parentNode&&i!=r.parentNode&&!i.raphael;)i=i.parentNode;return i==n.canvas.parentNode&&(i=r),i=i&&i.raphael?n.getById(i.raphaelid):null},w.getElementsByBBox=function(t){var e=this.set();return this.forEach(function(r){n.isBBoxIntersect(r.getBBox(),t)&&e.push(r)}),e},w.getById=function(t){for(var e=this.bottom;e;){if(e.id==t)return e;e=e.next}return null},w.forEach=function(t,e){for(var n=this.bottom;n;){if(t.call(e,n)===!1)return this;n=n.next}return this},w.getElementsByPoint=function(t,e){var n=this.set();return this.forEach(function(r){r.isPointInside(t,e)&&n.push(r)}),n},Ze.isPointInside=function(t,e){var r=this.realPath=ve[this.type](this);return this.attr("transform")&&this.attr("transform").length&&(r=n.transformPath(r,this.attr("transform"))),n.isPointInsidePath(r,t,e)},Ze.getBBox=function(t){if(this.removed)return{};var e=this._;return t?((e.dirty||!e.bboxwt)&&(this.realPath=ve[this.type](this),e.bboxwt=Ne(this.realPath),e.bboxwt.toString=g,e.dirty=0),e.bboxwt):((e.dirty||e.dirtyT||!e.bbox)&&((e.dirty||!this.realPath)&&(e.bboxwt=0,this.realPath=ve[this.type](this)),e.bbox=Ne(me(this.realPath,this.matrix)),e.bbox.toString=g,e.dirty=e.dirtyT=0),e.bbox)},Ze.clone=function(){if(this.removed)return null;var t=this.paper[this.type]().attr(this.attr());return this.__set__&&this.__set__.push(t),t},Ze.glow=function(t){if("text"==this.type)return null;t=t||{};var e={width:(t.width||10)+(+this.attr("stroke-width")||1),fill:t.fill||!1,opacity:t.opacity||.5,offsetx:t.offsetx||0,offsety:t.offsety||0,color:t.color||"#000"},n=e.width/2,r=this.paper,i=r.set(),o=this.realPath||ve[this.type](this);o=this.matrix?me(o,this.matrix):o;for(var a=1;n+1>a;a++)i.push(r.path(o).attr({stroke:e.color,fill:e.fill?e.color:"none","stroke-linejoin":"round","stroke-linecap":"round","stroke-width":+(e.width/n*a).toFixed(3),opacity:+(e.opacity/n).toFixed(3)}));return i.insertBefore(this).translate(e.offsetx,e.offsety)};var nn=function(t,e,r,i,o,a,s,l,h){return null==h?u(t,e,r,i,o,a,s,l):n.findDotsAtSegment(t,e,r,i,o,a,s,l,c(t,e,r,i,o,a,s,l,h))},rn=function(t,e){return function(r,i,o){r=Pe(r);for(var a,s,l,u,c,h="",f={},p=0,d=0,g=r.length;g>d;d++){if(l=r[d],"M"==l[0])a=+l[1],s=+l[2];else{if(u=nn(a,s,l[1],l[2],l[3],l[4],l[5],l[6]),p+u>i){if(e&&!f.start){if(c=nn(a,s,l[1],l[2],l[3],l[4],l[5],l[6],i-p),h+=["C"+c.start.x,c.start.y,c.m.x,c.m.y,c.x,c.y],o)return h;f.start=h,h=["M"+c.x,c.y+"C"+c.n.x,c.n.y,c.end.x,c.end.y,l[5],l[6]].join(),p+=u,a=+l[5],s=+l[6];continue}if(!t&&!e)return c=nn(a,s,l[1],l[2],l[3],l[4],l[5],l[6],i-p),{x:c.x,y:c.y,alpha:c.alpha}}p+=u,a=+l[5],s=+l[6]}h+=l.shift()+l}return f.end=h,c=t?p:e?f:n.findDotsAtSegment(a,s,l[0],l[1],l[2],l[3],l[4],l[5],1),c.alpha&&(c={x:c.x,y:c.y,alpha:c.alpha}),c}},on=rn(1),an=rn(),sn=rn(0,1);n.getTotalLength=on,n.getPointAtLength=an,n.getSubpath=function(t,e,n){if(1e-6>this.getTotalLength(t)-n)return sn(t,e).end;var r=sn(t,n,1);return e?sn(r,e).end:r},Ze.getTotalLength=function(){var t=this.getPath();if(t)return this.node.getTotalLength?this.node.getTotalLength():on(t)},Ze.getPointAtLength=function(t){var e=this.getPath();if(e)return an(e,t)},Ze.getPath=function(){var t,e=n._getPath[this.type];if("text"!=this.type&&"set"!=this.type)return e&&(t=e(this)),t},Ze.getSubpath=function(t,e){var r=this.getPath();if(r)return n.getSubpath(r,t,e)};var ln=n.easing_formulas={linear:function(t){return t},"<":function(t){return W(t,1.7)},">":function(t){return W(t,.48)},"<>":function(t){var e=.48-t/1.04,n=H.sqrt(.1734+e*e),r=n-e,i=W(z(r),1/3)*(0>r?-1:1),o=-n-e,a=W(z(o),1/3)*(0>o?-1:1),s=i+a+.5;return 3*(1-s)*s*s+s*s*s},backIn:function(t){var e=1.70158;return t*t*((e+1)*t-e)},backOut:function(t){t-=1;var e=1.70158;return t*t*((e+1)*t+e)+1},elastic:function(t){return t==!!t?t:W(2,-10*t)*H.sin((t-.075)*2*$/.3)+1},bounce:function(t){var e,n=7.5625,r=2.75;return 1/r>t?e=n*t*t:2/r>t?(t-=1.5/r,e=n*t*t+.75):2.5/r>t?(t-=2.25/r,e=n*t*t+.9375):(t-=2.625/r,e=n*t*t+.984375),e}};ln.easeIn=ln["ease-in"]=ln["<"],ln.easeOut=ln["ease-out"]=ln[">"],ln.easeInOut=ln["ease-in-out"]=ln["<>"],ln["back-in"]=ln.backIn,ln["back-out"]=ln.backOut;var un=[],cn=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame||function(t){setTimeout(t,16)},hn=function(){for(var t=+new Date,r=0;un.length>r;r++){var i=un[r];if(!i.el.removed&&!i.paused){var o,a,s=t-i.start,l=i.ms,u=i.easing,c=i.from,h=i.diff,f=i.to,p=(i.t,i.el),d={},g={};if(i.initstatus?(s=(i.initstatus*i.anim.top-i.prev)/(i.percent-i.prev)*l,i.status=i.initstatus,delete i.initstatus,i.stop&&un.splice(r--,1)):i.status=(i.prev+(i.percent-i.prev)*(s/l))/i.anim.top,!(0>s))if(l>s){var v=u(s/l);for(var m in c)if(c[T](m)){switch(re[m]){case V:o=+c[m]+v*l*h[m];break;case"colour":o="rgb("+[fn(Z(c[m].r+v*l*h[m].r)),fn(Z(c[m].g+v*l*h[m].g)),fn(Z(c[m].b+v*l*h[m].b))].join(",")+")";break;case"path":o=[];for(var x=0,b=c[m].length;b>x;x++){o[x]=[c[m][x][0]];for(var w=1,_=c[m][x].length;_>w;w++)o[x][w]=+c[m][x][w]+v*l*h[m][x][w];o[x]=o[x].join(L)}o=o.join(L);break;case"transform":if(h[m].real)for(o=[],x=0,b=c[m].length;b>x;x++)for(o[x]=[c[m][x][0]],w=1,_=c[m][x].length;_>w;w++)o[x][w]=c[m][x][w]+v*l*h[m][x][w];else{var k=function(t){return+c[m][t]+v*l*h[m][t]};o=[["m",k(0),k(1),k(2),k(3),k(4),k(5)]]}break;case"csv":if("clip-rect"==m)for(o=[],x=4;x--;)o[x]=+c[m][x]+v*l*h[m][x];break;default:var C=[][B](c[m]);for(o=[],x=p.paper.customAttributes[m].length;x--;)o[x]=+C[x]+v*l*h[m][x]}d[m]=o}p.attr(d),function(t,n,r){setTimeout(function(){e("raphael.anim.frame."+t,n,r)})}(p.id,p,i.anim)}else{if(function(t,r,i){setTimeout(function(){e("raphael.anim.frame."+r.id,r,i),e("raphael.anim.finish."+r.id,r,i),n.is(t,"function")&&t.call(r)})}(i.callback,p,i.anim),p.attr(f),un.splice(r--,1),i.repeat>1&&!i.next){for(a in f)f[T](a)&&(g[a]=i.totalOrigin[a]);i.el.attr(g),y(i.anim,i.el,i.anim.percents[0],null,i.totalOrigin,i.repeat-1)}i.next&&!i.stop&&y(i.anim,i.el,i.next,null,i.totalOrigin,i.repeat)}}}n.svg&&p&&p.paper&&p.paper.safari(),un.length&&cn(hn)},fn=function(t){return t>255?255:0>t?0:t};Ze.animateWith=function(t,e,r,i,o,a){var s=this;if(s.removed)return a&&a.call(s),s;var l=r instanceof m?r:n.animation(r,i,o,a);y(l,s,l.percents[0],null,s.attr());for(var u=0,c=un.length;c>u;u++)if(un[u].anim==e&&un[u].el==t){un[c-1].start=un[u].start;break}return s},Ze.onAnimation=function(t){return t?e.on("raphael.anim.frame."+this.id,t):e.unbind("raphael.anim.frame."+this.id),this},m.prototype.delay=function(t){var e=new m(this.anim,this.ms);return e.times=this.times,e.del=+t||0,e},m.prototype.repeat=function(t){var e=new m(this.anim,this.ms);return e.del=this.del,e.times=H.floor(O(t,0))||1,e},n.animation=function(t,e,r,i){if(t instanceof m)return t;(n.is(r,"function")||!r)&&(i=i||r||null,r=null),t=Object(t),e=+e||0;var o,a,s={};for(a in t)t[T](a)&&K(a)!=a&&K(a)+"%"!=a&&(o=!0,s[a]=t[a]);if(o)return r&&(s.easing=r),i&&(s.callback=i),new m({100:s},e);if(i){var l=0;for(var u in t){var c=te(u);t[T](u)&&c>l&&(l=c)}l+="%",!t[l].callback&&(t[l].callback=i)}return new m(t,e)},Ze.animate=function(t,e,r,i){var o=this;if(o.removed)return i&&i.call(o),o;var a=t instanceof m?t:n.animation(t,e,r,i);return y(a,o,a.percents[0],null,o.attr()),o},Ze.setTime=function(t,e){return t&&null!=e&&this.status(t,I(e,t.ms)/t.ms),this},Ze.status=function(t,e){var n,r,i=[],o=0;if(null!=e)return y(t,this,-1,I(e,1)),this;for(n=un.length;n>o;o++)if(r=un[o],r.el.id==this.id&&(!t||r.anim==t)){if(t)return r.status;i.push({anim:r.anim,status:r.status})}return t?0:i},Ze.pause=function(t){for(var n=0;un.length>n;n++)un[n].el.id!=this.id||t&&un[n].anim!=t||e("raphael.anim.pause."+this.id,this,un[n].anim)!==!1&&(un[n].paused=!0);return this},Ze.resume=function(t){for(var n=0;un.length>n;n++)if(un[n].el.id==this.id&&(!t||un[n].anim==t)){var r=un[n];e("raphael.anim.resume."+this.id,this,r.anim)!==!1&&(delete r.paused,this.status(r.anim,r.status))}return this},Ze.stop=function(t){for(var n=0;un.length>n;n++)un[n].el.id!=this.id||t&&un[n].anim!=t||e("raphael.anim.stop."+this.id,this,un[n].anim)!==!1&&un.splice(n--,1);return this},e.on("raphael.remove",x),e.on("raphael.clear",x),Ze.toString=function(){return"Rapha\u00ebl\u2019s object"};var pn=function(t){if(this.items=[],this.length=0,this.type="set",t)for(var e=0,n=t.length;n>e;e++)!t[e]||t[e].constructor!=Ze.constructor&&t[e].constructor!=pn||(this[this.items.length]=this.items[this.items.length]=t[e],this.length++)},dn=pn.prototype;dn.push=function(){for(var t,e,n=0,r=arguments.length;r>n;n++)t=arguments[n],!t||t.constructor!=Ze.constructor&&t.constructor!=pn||(e=this.items.length,this[e]=this.items[e]=t,this.length++);return this},dn.pop=function(){return this.length&&delete this[this.length--],this.items.pop()},dn.forEach=function(t,e){for(var n=0,r=this.items.length;r>n;n++)if(t.call(e,this.items[n],n)===!1)return this;return this};for(var gn in Ze)Ze[T](gn)&&(dn[gn]=function(t){return function(){var e=arguments;return this.forEach(function(n){n[t][A](n,e)})}}(gn));return dn.attr=function(t,e){if(t&&n.is(t,Y)&&n.is(t[0],"object"))for(var r=0,i=t.length;i>r;r++)this.items[r].attr(t[r]);else for(var o=0,a=this.items.length;a>o;o++)this.items[o].attr(t,e);return this},dn.clear=function(){for(;this.length;)this.pop()},dn.splice=function(t,e){t=0>t?O(this.length+t,0):t,e=O(0,I(this.length-t,e));var n,r=[],i=[],o=[];for(n=2;arguments.length>n;n++)o.push(arguments[n]);for(n=0;e>n;n++)i.push(this[t+n]);for(;this.length-t>n;n++)r.push(this[t+n]);var a=o.length;for(n=0;a+r.length>n;n++)this.items[t+n]=this[t+n]=a>n?o[n]:r[n-a];for(n=this.items.length=this.length-=e-a;this[n];)delete this[n++];return new pn(i)},dn.exclude=function(t){for(var e=0,n=this.length;n>e;e++)if(this[e]==t)return this.splice(e,1),!0},dn.animate=function(t,e,r,i){(n.is(r,"function")||!r)&&(i=r||null);var o,a,s=this.items.length,l=s,u=this;if(!s)return this;i&&(a=function(){!--s&&i.call(u)}),r=n.is(r,X)?r:a;var c=n.animation(t,e,r,a);for(o=this.items[--l].animate(c);l--;)this.items[l]&&!this.items[l].removed&&this.items[l].animateWith(o,c,c),this.items[l]&&!this.items[l].removed||s--;return this},dn.insertAfter=function(t){for(var e=this.items.length;e--;)this.items[e].insertAfter(t);return this},dn.getBBox=function(){for(var t=[],e=[],n=[],r=[],i=this.items.length;i--;)if(!this.items[i].removed){var o=this.items[i].getBBox();t.push(o.x),e.push(o.y),n.push(o.x+o.width),r.push(o.y+o.height)}return t=I[A](0,t),e=I[A](0,e),n=O[A](0,n),r=O[A](0,r),{x:t,y:e,x2:n,y2:r,width:n-t,height:r-e}},dn.clone=function(t){t=this.paper.set();for(var e=0,n=this.items.length;n>e;e++)t.push(this.items[e].clone());return t},dn.toString=function(){return"Rapha\u00ebl\u2018s set"},dn.glow=function(t){var e=this.paper.set();return this.forEach(function(n){var r=n.glow(t);null!=r&&r.forEach(function(t){e.push(t)})}),e},dn.isPointInside=function(t,e){var n=!1;return this.forEach(function(r){return r.isPointInside(t,e)?(n=!0,!1):void 0}),n},n.registerFont=function(t){if(!t.face)return t;this.fonts=this.fonts||{};var e={w:t.w,face:{},glyphs:{}},n=t.face["font-family"];for(var r in t.face)t.face[T](r)&&(e.face[r]=t.face[r]);if(this.fonts[n]?this.fonts[n].push(e):this.fonts[n]=[e],!t.svg){e.face["units-per-em"]=te(t.face["units-per-em"],10);for(var i in t.glyphs)if(t.glyphs[T](i)){var o=t.glyphs[i];if(e.glyphs[i]={w:o.w,k:{},d:o.d&&"M"+o.d.replace(/[mlcxtrv]/g,function(t){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[t]||"M"})+"z"},o.k)for(var a in o.k)o[T](a)&&(e.glyphs[i].k[a]=o.k[a])}}return t},w.getFont=function(t,e,r,i){if(i=i||"normal",r=r||"normal",e=+e||{normal:400,bold:700,lighter:300,bolder:800}[e]||400,n.fonts){var o=n.fonts[t];if(!o){var a=RegExp("(^|\\s)"+t.replace(/[^\w\d\s+!~.:_-]/g,D)+"(\\s|$)","i");for(var s in n.fonts)if(n.fonts[T](s)&&a.test(s)){o=n.fonts[s];break}}var l;if(o)for(var u=0,c=o.length;c>u&&(l=o[u],l.face["font-weight"]!=e||l.face["font-style"]!=r&&l.face["font-style"]||l.face["font-stretch"]!=i);u++);return l}},w.print=function(t,e,r,i,o,a,s,l){a=a||"middle",s=O(I(s||0,1),-1),l=O(I(l||1,3),1);var u,c=q(r)[F](D),h=0,f=0,p=D;if(n.is(i,"string")&&(i=this.getFont(i)),i){u=(o||16)/i.face["units-per-em"];for(var d=i.face.bbox[F](_),g=+d[0],v=d[3]-d[1],m=0,y=+d[1]+("baseline"==a?v+ +i.face.descent:v/2),x=0,b=c.length;b>x;x++){if("\n"==c[x])h=0,k=0,f=0,m+=v*l;else{var w=f&&i.glyphs[c[x-1]]||{},k=i.glyphs[c[x]];h+=f?(w.w||i.w)+(w.k&&w.k[c[x]]||0)+i.w*s:0,f=1}k&&k.d&&(p+=n.transformPath(k.d,["t",h*u,m*u,"s",u,u,g,y,"t",(t-g)/u,(e-y)/u]))}}return this.path(p).attr({fill:"#000",stroke:"none"})},w.add=function(t){if(n.is(t,"array"))for(var e,r=this.set(),i=0,o=t.length;o>i;i++)e=t[i]||{},k[T](e.type)&&r.push(this[e.type]().attr(e));return r},n.format=function(t,e){var r=n.is(e,Y)?[0][B](e):arguments;return t&&n.is(t,X)&&r.length-1&&(t=t.replace(C,function(t,e){return null==r[++e]?D:r[e]})),t||D},n.fullfill=function(){var t=/\{([^\}]+)\}/g,e=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,n=function(t,n,r){var i=r;return n.replace(e,function(t,e,n,r,o){e=e||r,i&&(e in i&&(i=i[e]),"function"==typeof i&&o&&(i=i()))}),i=(null==i||i==r?t:i)+""};return function(e,r){return(e+"").replace(t,function(t,e){return n(t,e,r)})}}(),n.ninja=function(){return N.was?S.win.Raphael=N.is:delete Raphael,n},n.st=dn,e.on("raphael.DOMload",function(){b=!0}),function(t,e,r){function i(){/in/.test(t.readyState)?setTimeout(i,9):n.eve("raphael.DOMload")}null==t.readyState&&t.addEventListener&&(t.addEventListener(e,r=function(){t.removeEventListener(e,r,!1),t.readyState="complete"},!1),t.readyState="loading"),i()}(document,"DOMContentLoaded"),function(){if(n.svg){var t="hasOwnProperty",e=String,r=parseFloat,i=parseInt,o=Math,a=o.max,s=o.abs,l=o.pow,u=/[, ]+/,c=n.eve,h="",f=" ",p="http://www.w3.org/1999/xlink",d={block:"M5,0 0,2.5 5,5z",classic:"M5,0 0,2.5 5,5 3.5,3 3.5,2z",diamond:"M2.5,0 5,2.5 2.5,5 0,2.5z",open:"M6,1 1,3.5 6,6",oval:"M2.5,0A2.5,2.5,0,0,1,2.5,5 2.5,2.5,0,0,1,2.5,0z"},g={};n.toString=function(){return"Your browser supports SVG.\nYou are running Rapha\u00ebl "+this.version};var v=function(r,i){if(i){"string"==typeof r&&(r=v(r));for(var o in i)i[t](o)&&("xlink:"==o.substring(0,6)?r.setAttributeNS(p,o.substring(6),e(i[o])):r.setAttribute(o,e(i[o])))}else r=n._g.doc.createElementNS("http://www.w3.org/2000/svg",r),r.style&&(r.style.webkitTapHighlightColor="rgba(0,0,0,0)");return r},m=function(t,i){var u="linear",c=t.id+i,f=.5,p=.5,d=t.node,g=t.paper,m=d.style,y=n._g.doc.getElementById(c);if(!y){if(i=e(i).replace(n._radial_gradient,function(t,e,n){if(u="radial",e&&n){f=r(e),p=r(n);var i=2*(p>.5)-1;l(f-.5,2)+l(p-.5,2)>.25&&(p=o.sqrt(.25-l(f-.5,2))*i+.5)&&.5!=p&&(p=p.toFixed(5)-1e-5*i)}return h}),i=i.split(/\s*\-\s*/),"linear"==u){var x=i.shift();if(x=-r(x),isNaN(x))return null;var b=[0,0,o.cos(n.rad(x)),o.sin(n.rad(x))],w=1/(a(s(b[2]),s(b[3]))||1);b[2]*=w,b[3]*=w,0>b[2]&&(b[0]=-b[2],b[2]=0),0>b[3]&&(b[1]=-b[3],b[3]=0)}var _=n._parseDots(i);if(!_)return null;if(c=c.replace(/[\(\)\s,\xb0#]/g,"_"),t.gradient&&c!=t.gradient.id&&(g.defs.removeChild(t.gradient),delete t.gradient),!t.gradient){y=v(u+"Gradient",{id:c}),t.gradient=y,v(y,"radial"==u?{fx:f,fy:p}:{x1:b[0],y1:b[1],x2:b[2],y2:b[3],gradientTransform:t.matrix.invert()}),g.defs.appendChild(y);for(var k=0,C=_.length;C>k;k++)y.appendChild(v("stop",{offset:_[k].offset?_[k].offset:k?"100%":"0%","stop-color":_[k].color||"#fff"}))}}return v(d,{fill:"url('"+document.location+"#"+c+"')",opacity:1,"fill-opacity":1}),m.fill=h,m.opacity=1,m.fillOpacity=1,1},y=function(t){var e=t.getBBox(1);v(t.pattern,{patternTransform:t.matrix.invert()+" translate("+e.x+","+e.y+")"})},x=function(r,i,o){if("path"==r.type){for(var a,s,l,u,c,f=e(i).toLowerCase().split("-"),p=r.paper,m=o?"end":"start",y=r.node,x=r.attrs,b=x["stroke-width"],w=f.length,_="classic",k=3,C=3,T=5;w--;)switch(f[w]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":_=f[w];break;case"wide":C=5;break;case"narrow":C=2;break;case"long":k=5;break;case"short":k=2}if("open"==_?(k+=2,C+=2,T+=2,l=1,u=o?4:1,c={fill:"none",stroke:x.stroke}):(u=l=k/2,c={fill:x.stroke,stroke:"none"}),r._.arrows?o?(r._.arrows.endPath&&g[r._.arrows.endPath]--,r._.arrows.endMarker&&g[r._.arrows.endMarker]--):(r._.arrows.startPath&&g[r._.arrows.startPath]--,r._.arrows.startMarker&&g[r._.arrows.startMarker]--):r._.arrows={},"none"!=_){var S="raphael-marker-"+_,N="raphael-marker-"+m+_+k+C+"-obj"+r.id;n._g.doc.getElementById(S)?g[S]++:(p.defs.appendChild(v(v("path"),{"stroke-linecap":"round",d:d[_],id:S})),g[S]=1);var E,A=n._g.doc.getElementById(N);A?(g[N]++,E=A.getElementsByTagName("use")[0]):(A=v(v("marker"),{id:N,markerHeight:C,markerWidth:k,orient:"auto",refX:u,refY:C/2}),E=v(v("use"),{"xlink:href":"#"+S,transform:(o?"rotate(180 "+k/2+" "+C/2+") ":h)+"scale("+k/T+","+C/T+")","stroke-width":(1/((k/T+C/T)/2)).toFixed(4)}),A.appendChild(E),p.defs.appendChild(A),g[N]=1),v(E,c);var B=l*("diamond"!=_&&"oval"!=_);o?(a=r._.arrows.startdx*b||0,s=n.getTotalLength(x.path)-B*b):(a=B*b,s=n.getTotalLength(x.path)-(r._.arrows.enddx*b||0)),c={},c["marker-"+m]="url(#"+N+")",(s||a)&&(c.d=n.getSubpath(x.path,a,s)),v(y,c),r._.arrows[m+"Path"]=S,r._.arrows[m+"Marker"]=N,r._.arrows[m+"dx"]=B,r._.arrows[m+"Type"]=_,r._.arrows[m+"String"]=i}else o?(a=r._.arrows.startdx*b||0,s=n.getTotalLength(x.path)-a):(a=0,s=n.getTotalLength(x.path)-(r._.arrows.enddx*b||0)),r._.arrows[m+"Path"]&&v(y,{d:n.getSubpath(x.path,a,s)}),delete r._.arrows[m+"Path"],delete r._.arrows[m+"Marker"],delete r._.arrows[m+"dx"],delete r._.arrows[m+"Type"],delete r._.arrows[m+"String"];for(c in g)if(g[t](c)&&!g[c]){var j=n._g.doc.getElementById(c);j&&j.parentNode.removeChild(j)}}},b={"":[0],none:[0],"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},w=function(t,n,r){if(n=b[e(n).toLowerCase()]){for(var i=t.attrs["stroke-width"]||"1",o={round:i,square:i,butt:0}[t.attrs["stroke-linecap"]||r["stroke-linecap"]]||0,a=[],s=n.length;s--;)a[s]=n[s]*i+(s%2?1:-1)*o;v(t.node,{"stroke-dasharray":a.join(",")})}},_=function(r,o){var l=r.node,c=r.attrs,f=l.style.visibility;l.style.visibility="hidden";for(var d in o)if(o[t](d)){if(!n._availableAttrs[t](d))continue;var g=o[d];switch(c[d]=g,d){case"blur":r.blur(g);break;case"title":var b=l.getElementsByTagName("title");if(b.length&&(b=b[0]))b.firstChild.nodeValue=g;else{b=v("title");var _=n._g.doc.createTextNode(g);b.appendChild(_),l.appendChild(b)}break;case"href":case"target":var k=l.parentNode;if("a"!=k.tagName.toLowerCase()){var T=v("a");k.insertBefore(T,l),T.appendChild(l),k=T}"target"==d?k.setAttributeNS(p,"show","blank"==g?"new":g):k.setAttributeNS(p,d,g);break;case"cursor":l.style.cursor=g;break;case"transform":r.transform(g);break;case"arrow-start":x(r,g);break;case"arrow-end":x(r,g,1);break;case"clip-rect":var S=e(g).split(u);if(4==S.length){r.clip&&r.clip.parentNode.parentNode.removeChild(r.clip.parentNode);var N=v("clipPath"),E=v("rect");N.id=n.createUUID(),v(E,{x:S[0],y:S[1],width:S[2],height:S[3]}),N.appendChild(E),r.paper.defs.appendChild(N),v(l,{"clip-path":"url(#"+N.id+")"}),r.clip=E}if(!g){var A=l.getAttribute("clip-path");if(A){var B=n._g.doc.getElementById(A.replace(/(^url\(#|\)$)/g,h));B&&B.parentNode.removeChild(B),v(l,{"clip-path":h}),delete r.clip}}break;case"path":"path"==r.type&&(v(l,{d:g?c.path=n._pathToAbsolute(g):"M0,0"}),r._.dirty=1,r._.arrows&&("startString"in r._.arrows&&x(r,r._.arrows.startString),"endString"in r._.arrows&&x(r,r._.arrows.endString,1)));break;case"width":if(l.setAttribute(d,g),r._.dirty=1,!c.fx)break;d="x",g=c.x;case"x":c.fx&&(g=-c.x-(c.width||0));case"rx":if("rx"==d&&"rect"==r.type)break;case"cx":l.setAttribute(d,g),r.pattern&&y(r),r._.dirty=1;break;case"height":if(l.setAttribute(d,g),r._.dirty=1,!c.fy)break;d="y",g=c.y;case"y":c.fy&&(g=-c.y-(c.height||0));case"ry":if("ry"==d&&"rect"==r.type)break;case"cy":l.setAttribute(d,g),r.pattern&&y(r),r._.dirty=1;break;case"r":"rect"==r.type?v(l,{rx:g,ry:g}):l.setAttribute(d,g),r._.dirty=1;break;case"src":"image"==r.type&&l.setAttributeNS(p,"href",g);break;case"stroke-width":(1!=r._.sx||1!=r._.sy)&&(g/=a(s(r._.sx),s(r._.sy))||1),l.setAttribute(d,g),c["stroke-dasharray"]&&w(r,c["stroke-dasharray"],o),r._.arrows&&("startString"in r._.arrows&&x(r,r._.arrows.startString),"endString"in r._.arrows&&x(r,r._.arrows.endString,1));break;case"stroke-dasharray":w(r,g,o);break;case"fill":var j=e(g).match(n._ISURL);if(j){N=v("pattern");var D=v("image");N.id=n.createUUID(),v(N,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1}),v(D,{x:0,y:0,"xlink:href":j[1]}),N.appendChild(D),function(t){n._preload(j[1],function(){var e=this.offsetWidth,n=this.offsetHeight;v(t,{width:e,height:n}),v(D,{width:e,height:n}),r.paper.safari()})}(N),r.paper.defs.appendChild(N),v(l,{fill:"url(#"+N.id+")"}),r.pattern=N,r.pattern&&y(r);break}var L=n.getRGB(g);if(L.error){if(("circle"==r.type||"ellipse"==r.type||"r"!=e(g).charAt())&&m(r,g)){if("opacity"in c||"fill-opacity"in c){var q=n._g.doc.getElementById(l.getAttribute("fill").replace(/^url\(#|\)$/g,h));if(q){var F=q.getElementsByTagName("stop");v(F[F.length-1],{"stop-opacity":("opacity"in c?c.opacity:1)*("fill-opacity"in c?c["fill-opacity"]:1)})}}c.gradient=g,c.fill="none";break}}else delete o.gradient,delete c.gradient,!n.is(c.opacity,"undefined")&&n.is(o.opacity,"undefined")&&v(l,{opacity:c.opacity}),!n.is(c["fill-opacity"],"undefined")&&n.is(o["fill-opacity"],"undefined")&&v(l,{"fill-opacity":c["fill-opacity"]});L[t]("opacity")&&v(l,{"fill-opacity":L.opacity>1?L.opacity/100:L.opacity});case"stroke":L=n.getRGB(g),l.setAttribute(d,L.hex),"stroke"==d&&L[t]("opacity")&&v(l,{"stroke-opacity":L.opacity>1?L.opacity/100:L.opacity}),"stroke"==d&&r._.arrows&&("startString"in r._.arrows&&x(r,r._.arrows.startString),"endString"in r._.arrows&&x(r,r._.arrows.endString,1));break;case"gradient":("circle"==r.type||"ellipse"==r.type||"r"!=e(g).charAt())&&m(r,g);
break;case"opacity":c.gradient&&!c[t]("stroke-opacity")&&v(l,{"stroke-opacity":g>1?g/100:g});case"fill-opacity":if(c.gradient){q=n._g.doc.getElementById(l.getAttribute("fill").replace(/^url\(#|\)$/g,h)),q&&(F=q.getElementsByTagName("stop"),v(F[F.length-1],{"stop-opacity":g}));break}default:"font-size"==d&&(g=i(g,10)+"px");var P=d.replace(/(\-.)/g,function(t){return t.substring(1).toUpperCase()});l.style[P]=g,r._.dirty=1,l.setAttribute(d,g)}}C(r,o),l.style.visibility=f},k=1.2,C=function(r,o){if("text"==r.type&&(o[t]("text")||o[t]("font")||o[t]("font-size")||o[t]("x")||o[t]("y"))){var a=r.attrs,s=r.node,l=s.firstChild?i(n._g.doc.defaultView.getComputedStyle(s.firstChild,h).getPropertyValue("font-size"),10):10;if(o[t]("text")){for(a.text=o.text;s.firstChild;)s.removeChild(s.firstChild);for(var u,c=e(o.text).split("\n"),f=[],p=0,d=c.length;d>p;p++)u=v("tspan"),p&&v(u,{dy:l*k,x:a.x}),u.appendChild(n._g.doc.createTextNode(c[p])),s.appendChild(u),f[p]=u}else for(f=s.getElementsByTagName("tspan"),p=0,d=f.length;d>p;p++)p?v(f[p],{dy:l*k,x:a.x}):v(f[0],{dy:0});v(s,{x:a.x,y:a.y}),r._.dirty=1;var g=r._getBBox(),m=a.y-(g.y+g.height/2);m&&n.is(m,"finite")&&v(f[0],{dy:m})}},T=function(t){return t.parentNode&&"a"===t.parentNode.tagName.toLowerCase()?t.parentNode:t},S=function(t,e){this[0]=this.node=t,t.raphael=!0,this.id=n._oid++,t.raphaelid=this.id,this.matrix=n.matrix(),this.realPath=null,this.paper=e,this.attrs=this.attrs||{},this._={transform:[],sx:1,sy:1,deg:0,dx:0,dy:0,dirty:1},!e.bottom&&(e.bottom=this),this.prev=e.top,e.top&&(e.top.next=this),e.top=this,this.next=null},N=n.el;S.prototype=N,N.constructor=S,n._engine.path=function(t,e){var n=v("path");e.canvas&&e.canvas.appendChild(n);var r=new S(n,e);return r.type="path",_(r,{fill:"none",stroke:"#000",path:t}),r},N.rotate=function(t,n,i){if(this.removed)return this;if(t=e(t).split(u),t.length-1&&(n=r(t[1]),i=r(t[2])),t=r(t[0]),null==i&&(n=i),null==n||null==i){var o=this.getBBox(1);n=o.x+o.width/2,i=o.y+o.height/2}return this.transform(this._.transform.concat([["r",t,n,i]])),this},N.scale=function(t,n,i,o){if(this.removed)return this;if(t=e(t).split(u),t.length-1&&(n=r(t[1]),i=r(t[2]),o=r(t[3])),t=r(t[0]),null==n&&(n=t),null==o&&(i=o),null==i||null==o)var a=this.getBBox(1);return i=null==i?a.x+a.width/2:i,o=null==o?a.y+a.height/2:o,this.transform(this._.transform.concat([["s",t,n,i,o]])),this},N.translate=function(t,n){return this.removed?this:(t=e(t).split(u),t.length-1&&(n=r(t[1])),t=r(t[0])||0,n=+n||0,this.transform(this._.transform.concat([["t",t,n]])),this)},N.transform=function(e){var r=this._;if(null==e)return r.transform;if(n._extractTransform(this,e),this.clip&&v(this.clip,{transform:this.matrix.invert()}),this.pattern&&y(this),this.node&&v(this.node,{transform:this.matrix}),1!=r.sx||1!=r.sy){var i=this.attrs[t]("stroke-width")?this.attrs["stroke-width"]:1;this.attr({"stroke-width":i})}return this},N.hide=function(){return!this.removed&&this.paper.safari(this.node.style.display="none"),this},N.show=function(){return!this.removed&&this.paper.safari(this.node.style.display=""),this},N.remove=function(){var t=T(this.node);if(!this.removed&&t.parentNode){var e=this.paper;e.__set__&&e.__set__.exclude(this),c.unbind("raphael.*.*."+this.id),this.gradient&&e.defs.removeChild(this.gradient),n._tear(this,e),t.parentNode.removeChild(t),this.removeData();for(var r in this)this[r]="function"==typeof this[r]?n._removedFactory(r):null;this.removed=!0}},N._getBBox=function(){if("none"==this.node.style.display){this.show();var t=!0}var e,n=!1;this.paper.canvas.parentElement?e=this.paper.canvas.parentElement.style:this.paper.canvas.parentNode&&(e=this.paper.canvas.parentNode.style),e&&"none"==e.display&&(n=!0,e.display="");var r={};try{r=this.node.getBBox()}catch(i){r={x:this.node.clientLeft,y:this.node.clientTop,width:this.node.clientWidth,height:this.node.clientHeight}}finally{r=r||{},n&&(e.display="none")}return t&&this.hide(),r},N.attr=function(e,r){if(this.removed)return this;if(null==e){var i={};for(var o in this.attrs)this.attrs[t](o)&&(i[o]=this.attrs[o]);return i.gradient&&"none"==i.fill&&(i.fill=i.gradient)&&delete i.gradient,i.transform=this._.transform,i}if(null==r&&n.is(e,"string")){if("fill"==e&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;if("transform"==e)return this._.transform;for(var a=e.split(u),s={},l=0,h=a.length;h>l;l++)e=a[l],s[e]=e in this.attrs?this.attrs[e]:n.is(this.paper.customAttributes[e],"function")?this.paper.customAttributes[e].def:n._availableAttrs[e];return h-1?s:s[a[0]]}if(null==r&&n.is(e,"array")){for(s={},l=0,h=e.length;h>l;l++)s[e[l]]=this.attr(e[l]);return s}if(null!=r){var f={};f[e]=r}else null!=e&&n.is(e,"object")&&(f=e);for(var p in f)c("raphael.attr."+p+"."+this.id,this,f[p]);for(p in this.paper.customAttributes)if(this.paper.customAttributes[t](p)&&f[t](p)&&n.is(this.paper.customAttributes[p],"function")){var d=this.paper.customAttributes[p].apply(this,[].concat(f[p]));this.attrs[p]=f[p];for(var g in d)d[t](g)&&(f[g]=d[g])}return _(this,f),this},N.toFront=function(){if(this.removed)return this;var t=T(this.node);t.parentNode.appendChild(t);var e=this.paper;return e.top!=this&&n._tofront(this,e),this},N.toBack=function(){if(this.removed)return this;var t=T(this.node),e=t.parentNode;return e.insertBefore(t,e.firstChild),n._toback(this,this.paper),this.paper,this},N.insertAfter=function(t){if(this.removed||!t)return this;var e=T(this.node),r=T(t.node||t[t.length-1].node);return r.nextSibling?r.parentNode.insertBefore(e,r.nextSibling):r.parentNode.appendChild(e),n._insertafter(this,t,this.paper),this},N.insertBefore=function(t){if(this.removed||!t)return this;var e=T(this.node),r=T(t.node||t[0].node);return r.parentNode.insertBefore(e,r),n._insertbefore(this,t,this.paper),this},N.blur=function(t){var e=this;if(0!==+t){var r=v("filter"),i=v("feGaussianBlur");e.attrs.blur=t,r.id=n.createUUID(),v(i,{stdDeviation:+t||1.5}),r.appendChild(i),e.paper.defs.appendChild(r),e._blur=r,v(e.node,{filter:"url(#"+r.id+")"})}else e._blur&&(e._blur.parentNode.removeChild(e._blur),delete e._blur,delete e.attrs.blur),e.node.removeAttribute("filter");return e},n._engine.circle=function(t,e,n,r){var i=v("circle");t.canvas&&t.canvas.appendChild(i);var o=new S(i,t);return o.attrs={cx:e,cy:n,r:r,fill:"none",stroke:"#000"},o.type="circle",v(i,o.attrs),o},n._engine.rect=function(t,e,n,r,i,o){var a=v("rect");t.canvas&&t.canvas.appendChild(a);var s=new S(a,t);return s.attrs={x:e,y:n,width:r,height:i,rx:o||0,ry:o||0,fill:"none",stroke:"#000"},s.type="rect",v(a,s.attrs),s},n._engine.ellipse=function(t,e,n,r,i){var o=v("ellipse");t.canvas&&t.canvas.appendChild(o);var a=new S(o,t);return a.attrs={cx:e,cy:n,rx:r,ry:i,fill:"none",stroke:"#000"},a.type="ellipse",v(o,a.attrs),a},n._engine.image=function(t,e,n,r,i,o){var a=v("image");v(a,{x:n,y:r,width:i,height:o,preserveAspectRatio:"none"}),a.setAttributeNS(p,"href",e),t.canvas&&t.canvas.appendChild(a);var s=new S(a,t);return s.attrs={x:n,y:r,width:i,height:o,src:e},s.type="image",s},n._engine.text=function(t,e,r,i){var o=v("text");t.canvas&&t.canvas.appendChild(o);var a=new S(o,t);return a.attrs={x:e,y:r,"text-anchor":"middle",text:i,"font-family":n._availableAttrs["font-family"],"font-size":n._availableAttrs["font-size"],stroke:"none",fill:"#000"},a.type="text",_(a,a.attrs),a},n._engine.setSize=function(t,e){return this.width=t||this.width,this.height=e||this.height,this.canvas.setAttribute("width",this.width),this.canvas.setAttribute("height",this.height),this._viewBox&&this.setViewBox.apply(this,this._viewBox),this},n._engine.create=function(){var t=n._getContainer.apply(0,arguments),e=t&&t.container,r=t.x,i=t.y,o=t.width,a=t.height;if(!e)throw Error("SVG container not found.");var s,l=v("svg"),u="overflow:hidden;";return r=r||0,i=i||0,o=o||512,a=a||342,v(l,{height:a,version:1.1,width:o,xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}),1==e?(l.style.cssText=u+"position:absolute;left:"+r+"px;top:"+i+"px",n._g.doc.body.appendChild(l),s=1):(l.style.cssText=u+"position:relative",e.firstChild?e.insertBefore(l,e.firstChild):e.appendChild(l)),e=new n._Paper,e.width=o,e.height=a,e.canvas=l,e.clear(),e._left=e._top=0,s&&(e.renderfix=function(){}),e.renderfix(),e},n._engine.setViewBox=function(t,e,n,r,i){c("raphael.setViewBox",this,this._viewBox,[t,e,n,r,i]);var o,s,l=this.getSize(),u=a(n/l.width,r/l.height),h=this.top,p=i?"xMidYMid meet":"xMinYMin";for(null==t?(this._vbSize&&(u=1),delete this._vbSize,o="0 0 "+this.width+f+this.height):(this._vbSize=u,o=t+f+e+f+n+f+r),v(this.canvas,{viewBox:o,preserveAspectRatio:p});u&&h;)s="stroke-width"in h.attrs?h.attrs["stroke-width"]:1,h.attr({"stroke-width":s}),h._.dirty=1,h._.dirtyT=1,h=h.prev;return this._viewBox=[t,e,n,r,!!i],this},n.prototype.renderfix=function(){var t,e=this.canvas,n=e.style;try{t=e.getScreenCTM()||e.createSVGMatrix()}catch(r){t=e.createSVGMatrix()}var i=-t.e%1,o=-t.f%1;(i||o)&&(i&&(this._left=(this._left+i)%1,n.left=this._left+"px"),o&&(this._top=(this._top+o)%1,n.top=this._top+"px"))},n.prototype.clear=function(){n.eve("raphael.clear",this);for(var t=this.canvas;t.firstChild;)t.removeChild(t.firstChild);this.bottom=this.top=null,(this.desc=v("desc")).appendChild(n._g.doc.createTextNode("Created with Rapha\u00ebl "+n.version)),t.appendChild(this.desc),t.appendChild(this.defs=v("defs"))},n.prototype.remove=function(){c("raphael.remove",this),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas);for(var t in this)this[t]="function"==typeof this[t]?n._removedFactory(t):null};var E=n.st;for(var A in N)N[t](A)&&!E[t](A)&&(E[A]=function(t){return function(){var e=arguments;return this.forEach(function(n){n[t].apply(n,e)})}}(A))}}(),function(){if(n.vml){var t="hasOwnProperty",e=String,r=parseFloat,i=Math,o=i.round,a=i.max,s=i.min,l=i.abs,u="fill",c=/[, ]+/,h=n.eve,f=" progid:DXImageTransform.Microsoft",p=" ",d="",g={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},v=/([clmz]),?([^clmz]*)/gi,m=/ progid:\S+Blur\([^\)]+\)/g,y=/-?[^,\s-]+/g,x="position:absolute;left:0;top:0;width:1px;height:1px;behavior:url(#default#VML)",b=21600,w={path:1,rect:1,image:1},_={circle:1,ellipse:1},k=function(t){var r=/[ahqstv]/gi,i=n._pathToAbsolute;if(e(t).match(r)&&(i=n._path2curve),r=/[clmz]/g,i==n._pathToAbsolute&&!e(t).match(r)){var a=e(t).replace(v,function(t,e,n){var r=[],i="m"==e.toLowerCase(),a=g[e];return n.replace(y,function(t){i&&2==r.length&&(a+=r+g["m"==e?"l":"L"],r=[]),r.push(o(t*b))}),a+r});return a}var s,l,u=i(t);a=[];for(var c=0,h=u.length;h>c;c++){s=u[c],l=u[c][0].toLowerCase(),"z"==l&&(l="x");for(var f=1,m=s.length;m>f;f++)l+=o(s[f]*b)+(f!=m-1?",":d);a.push(l)}return a.join(p)},C=function(t,e,r){var i=n.matrix();return i.rotate(-t,.5,.5),{dx:i.x(e,r),dy:i.y(e,r)}},T=function(t,e,n,r,i,o){var a=t._,s=t.matrix,c=a.fillpos,h=t.node,f=h.style,d=1,g="",v=b/e,m=b/n;if(f.visibility="hidden",e&&n){if(h.coordsize=l(v)+p+l(m),f.rotation=o*(0>e*n?-1:1),o){var y=C(o,r,i);r=y.dx,i=y.dy}if(0>e&&(g+="x"),0>n&&(g+=" y")&&(d=-1),f.flip=g,h.coordorigin=r*-v+p+i*-m,c||a.fillsize){var x=h.getElementsByTagName(u);x=x&&x[0],h.removeChild(x),c&&(y=C(o,s.x(c[0],c[1]),s.y(c[0],c[1])),x.position=y.dx*d+p+y.dy*d),a.fillsize&&(x.size=a.fillsize[0]*l(e)+p+a.fillsize[1]*l(n)),h.appendChild(x)}f.visibility="visible"}};n.toString=function(){return"Your browser doesn\u2019t support SVG. Falling down to VML.\nYou are running Rapha\u00ebl "+this.version};var S=function(t,n,r){for(var i=e(n).toLowerCase().split("-"),o=r?"end":"start",a=i.length,s="classic",l="medium",u="medium";a--;)switch(i[a]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":s=i[a];break;case"wide":case"narrow":u=i[a];break;case"long":case"short":l=i[a]}var c=t.node.getElementsByTagName("stroke")[0];c[o+"arrow"]=s,c[o+"arrowlength"]=l,c[o+"arrowwidth"]=u},N=function(i,l){i.attrs=i.attrs||{};var h=i.node,f=i.attrs,g=h.style,v=w[i.type]&&(l.x!=f.x||l.y!=f.y||l.width!=f.width||l.height!=f.height||l.cx!=f.cx||l.cy!=f.cy||l.rx!=f.rx||l.ry!=f.ry||l.r!=f.r),m=_[i.type]&&(f.cx!=l.cx||f.cy!=l.cy||f.r!=l.r||f.rx!=l.rx||f.ry!=l.ry),y=i;for(var x in l)l[t](x)&&(f[x]=l[x]);if(v&&(f.path=n._getPath[i.type](i),i._.dirty=1),l.href&&(h.href=l.href),l.title&&(h.title=l.title),l.target&&(h.target=l.target),l.cursor&&(g.cursor=l.cursor),"blur"in l&&i.blur(l.blur),(l.path&&"path"==i.type||v)&&(h.path=k(~e(f.path).toLowerCase().indexOf("r")?n._pathToAbsolute(f.path):f.path),i._.dirty=1,"image"==i.type&&(i._.fillpos=[f.x,f.y],i._.fillsize=[f.width,f.height],T(i,1,1,0,0,0))),"transform"in l&&i.transform(l.transform),m){var C=+f.cx,N=+f.cy,A=+f.rx||+f.r||0,B=+f.ry||+f.r||0;h.path=n.format("ar{0},{1},{2},{3},{4},{1},{4},{1}x",o((C-A)*b),o((N-B)*b),o((C+A)*b),o((N+B)*b),o(C*b)),i._.dirty=1}if("clip-rect"in l){var D=e(l["clip-rect"]).split(c);if(4==D.length){D[2]=+D[2]+ +D[0],D[3]=+D[3]+ +D[1];var L=h.clipRect||n._g.doc.createElement("div"),q=L.style;q.clip=n.format("rect({1}px {2}px {3}px {0}px)",D),h.clipRect||(q.position="absolute",q.top=0,q.left=0,q.width=i.paper.width+"px",q.height=i.paper.height+"px",h.parentNode.insertBefore(L,h),L.appendChild(h),h.clipRect=L)}l["clip-rect"]||h.clipRect&&(h.clipRect.style.clip="auto")}if(i.textpath){var F=i.textpath.style;l.font&&(F.font=l.font),l["font-family"]&&(F.fontFamily='"'+l["font-family"].split(",")[0].replace(/^['"]+|['"]+$/g,d)+'"'),l["font-size"]&&(F.fontSize=l["font-size"]),l["font-weight"]&&(F.fontWeight=l["font-weight"]),l["font-style"]&&(F.fontStyle=l["font-style"])}if("arrow-start"in l&&S(y,l["arrow-start"]),"arrow-end"in l&&S(y,l["arrow-end"],1),null!=l.opacity||null!=l["stroke-width"]||null!=l.fill||null!=l.src||null!=l.stroke||null!=l["stroke-width"]||null!=l["stroke-opacity"]||null!=l["fill-opacity"]||null!=l["stroke-dasharray"]||null!=l["stroke-miterlimit"]||null!=l["stroke-linejoin"]||null!=l["stroke-linecap"]){var P=h.getElementsByTagName(u),M=!1;if(P=P&&P[0],!P&&(M=P=j(u)),"image"==i.type&&l.src&&(P.src=l.src),l.fill&&(P.on=!0),(null==P.on||"none"==l.fill||null===l.fill)&&(P.on=!1),P.on&&l.fill){var R=e(l.fill).match(n._ISURL);if(R){P.parentNode==h&&h.removeChild(P),P.rotate=!0,P.src=R[1],P.type="tile";var H=i.getBBox(1);P.position=H.x+p+H.y,i._.fillpos=[H.x,H.y],n._preload(R[1],function(){i._.fillsize=[this.offsetWidth,this.offsetHeight]})}else P.color=n.getRGB(l.fill).hex,P.src=d,P.type="solid",n.getRGB(l.fill).error&&(y.type in{circle:1,ellipse:1}||"r"!=e(l.fill).charAt())&&E(y,l.fill,P)&&(f.fill="none",f.gradient=l.fill,P.rotate=!1)}if("fill-opacity"in l||"opacity"in l){var O=((+f["fill-opacity"]+1||2)-1)*((+f.opacity+1||2)-1)*((+n.getRGB(l.fill).o+1||2)-1);O=s(a(O,0),1),P.opacity=O,P.src&&(P.color="none")}h.appendChild(P);var I=h.getElementsByTagName("stroke")&&h.getElementsByTagName("stroke")[0],z=!1;!I&&(z=I=j("stroke")),(l.stroke&&"none"!=l.stroke||l["stroke-width"]||null!=l["stroke-opacity"]||l["stroke-dasharray"]||l["stroke-miterlimit"]||l["stroke-linejoin"]||l["stroke-linecap"])&&(I.on=!0),("none"==l.stroke||null===l.stroke||null==I.on||0==l.stroke||0==l["stroke-width"])&&(I.on=!1);var W=n.getRGB(l.stroke);I.on&&l.stroke&&(I.color=W.hex),O=((+f["stroke-opacity"]+1||2)-1)*((+f.opacity+1||2)-1)*((+W.o+1||2)-1);var $=.75*(r(l["stroke-width"])||1);if(O=s(a(O,0),1),null==l["stroke-width"]&&($=f["stroke-width"]),l["stroke-width"]&&(I.weight=$),$&&1>$&&(O*=$)&&(I.weight=1),I.opacity=O,l["stroke-linejoin"]&&(I.joinstyle=l["stroke-linejoin"]||"miter"),I.miterlimit=l["stroke-miterlimit"]||8,l["stroke-linecap"]&&(I.endcap="butt"==l["stroke-linecap"]?"flat":"square"==l["stroke-linecap"]?"square":"round"),"stroke-dasharray"in l){var V={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"};I.dashstyle=V[t](l["stroke-dasharray"])?V[l["stroke-dasharray"]]:d}z&&h.appendChild(I)}if("text"==y.type){y.paper.canvas.style.display=d;var X=y.paper.span,Y=100,U=f.font&&f.font.match(/\d+(?:\.\d*)?(?=px)/);g=X.style,f.font&&(g.font=f.font),f["font-family"]&&(g.fontFamily=f["font-family"]),f["font-weight"]&&(g.fontWeight=f["font-weight"]),f["font-style"]&&(g.fontStyle=f["font-style"]),U=r(f["font-size"]||U&&U[0])||10,g.fontSize=U*Y+"px",y.textpath.string&&(X.innerHTML=e(y.textpath.string).replace(/</g,"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br>"));var G=X.getBoundingClientRect();y.W=f.w=(G.right-G.left)/Y,y.H=f.h=(G.bottom-G.top)/Y,y.X=f.x,y.Y=f.y+y.H/2,("x"in l||"y"in l)&&(y.path.v=n.format("m{0},{1}l{2},{1}",o(f.x*b),o(f.y*b),o(f.x*b)+1));for(var Q=["x","y","text","font","font-family","font-weight","font-style","font-size"],J=0,Z=Q.length;Z>J;J++)if(Q[J]in l){y._.dirty=1;break}switch(f["text-anchor"]){case"start":y.textpath.style["v-text-align"]="left",y.bbx=y.W/2;break;case"end":y.textpath.style["v-text-align"]="right",y.bbx=-y.W/2;break;default:y.textpath.style["v-text-align"]="center",y.bbx=0}y.textpath.style["v-text-kern"]=!0}},E=function(t,o,a){t.attrs=t.attrs||{};var s=(t.attrs,Math.pow),l="linear",u=".5 .5";if(t.attrs.gradient=o,o=e(o).replace(n._radial_gradient,function(t,e,n){return l="radial",e&&n&&(e=r(e),n=r(n),s(e-.5,2)+s(n-.5,2)>.25&&(n=i.sqrt(.25-s(e-.5,2))*(2*(n>.5)-1)+.5),u=e+p+n),d}),o=o.split(/\s*\-\s*/),"linear"==l){var c=o.shift();if(c=-r(c),isNaN(c))return null}var h=n._parseDots(o);if(!h)return null;if(t=t.shape||t.node,h.length){t.removeChild(a),a.on=!0,a.method="none",a.color=h[0].color,a.color2=h[h.length-1].color;for(var f=[],g=0,v=h.length;v>g;g++)h[g].offset&&f.push(h[g].offset+p+h[g].color);a.colors=f.length?f.join():"0% "+a.color,"radial"==l?(a.type="gradientTitle",a.focus="100%",a.focussize="0 0",a.focusposition=u,a.angle=0):(a.type="gradient",a.angle=(270-c)%360),t.appendChild(a)}return 1},A=function(t,e){this[0]=this.node=t,t.raphael=!0,this.id=n._oid++,t.raphaelid=this.id,this.X=0,this.Y=0,this.attrs={},this.paper=e,this.matrix=n.matrix(),this._={transform:[],sx:1,sy:1,dx:0,dy:0,deg:0,dirty:1,dirtyT:1},!e.bottom&&(e.bottom=this),this.prev=e.top,e.top&&(e.top.next=this),e.top=this,this.next=null},B=n.el;A.prototype=B,B.constructor=A,B.transform=function(t){if(null==t)return this._.transform;var r,i=this.paper._viewBoxShift,o=i?"s"+[i.scale,i.scale]+"-1-1t"+[i.dx,i.dy]:d;i&&(r=t=e(t).replace(/\.{3}|\u2026/g,this._.transform||d)),n._extractTransform(this,o+t);var a,s=this.matrix.clone(),l=this.skew,u=this.node,c=~e(this.attrs.fill).indexOf("-"),h=!e(this.attrs.fill).indexOf("url(");if(s.translate(1,1),h||c||"image"==this.type)if(l.matrix="1 0 0 1",l.offset="0 0",a=s.split(),c&&a.noRotation||!a.isSimple){u.style.filter=s.toFilter();var f=this.getBBox(),g=this.getBBox(1),v=f.x-g.x,m=f.y-g.y;u.coordorigin=v*-b+p+m*-b,T(this,1,1,v,m,0)}else u.style.filter=d,T(this,a.scalex,a.scaley,a.dx,a.dy,a.rotate);else u.style.filter=d,l.matrix=e(s),l.offset=s.offset();return null!==r&&(this._.transform=r,n._extractTransform(this,r)),this},B.rotate=function(t,n,i){if(this.removed)return this;if(null!=t){if(t=e(t).split(c),t.length-1&&(n=r(t[1]),i=r(t[2])),t=r(t[0]),null==i&&(n=i),null==n||null==i){var o=this.getBBox(1);n=o.x+o.width/2,i=o.y+o.height/2}return this._.dirtyT=1,this.transform(this._.transform.concat([["r",t,n,i]])),this}},B.translate=function(t,n){return this.removed?this:(t=e(t).split(c),t.length-1&&(n=r(t[1])),t=r(t[0])||0,n=+n||0,this._.bbox&&(this._.bbox.x+=t,this._.bbox.y+=n),this.transform(this._.transform.concat([["t",t,n]])),this)},B.scale=function(t,n,i,o){if(this.removed)return this;if(t=e(t).split(c),t.length-1&&(n=r(t[1]),i=r(t[2]),o=r(t[3]),isNaN(i)&&(i=null),isNaN(o)&&(o=null)),t=r(t[0]),null==n&&(n=t),null==o&&(i=o),null==i||null==o)var a=this.getBBox(1);return i=null==i?a.x+a.width/2:i,o=null==o?a.y+a.height/2:o,this.transform(this._.transform.concat([["s",t,n,i,o]])),this._.dirtyT=1,this},B.hide=function(){return!this.removed&&(this.node.style.display="none"),this},B.show=function(){return!this.removed&&(this.node.style.display=d),this},B.auxGetBBox=n.el.getBBox,B.getBBox=function(){var t=this.auxGetBBox();if(this.paper&&this.paper._viewBoxShift){var e={},n=1/this.paper._viewBoxShift.scale;return e.x=t.x-this.paper._viewBoxShift.dx,e.x*=n,e.y=t.y-this.paper._viewBoxShift.dy,e.y*=n,e.width=t.width*n,e.height=t.height*n,e.x2=e.x+e.width,e.y2=e.y+e.height,e}return t},B._getBBox=function(){return this.removed?{}:{x:this.X+(this.bbx||0)-this.W/2,y:this.Y-this.H,width:this.W,height:this.H}},B.remove=function(){if(!this.removed&&this.node.parentNode){this.paper.__set__&&this.paper.__set__.exclude(this),n.eve.unbind("raphael.*.*."+this.id),n._tear(this,this.paper),this.node.parentNode.removeChild(this.node),this.shape&&this.shape.parentNode.removeChild(this.shape);for(var t in this)this[t]="function"==typeof this[t]?n._removedFactory(t):null;this.removed=!0}},B.attr=function(e,r){if(this.removed)return this;if(null==e){var i={};for(var o in this.attrs)this.attrs[t](o)&&(i[o]=this.attrs[o]);return i.gradient&&"none"==i.fill&&(i.fill=i.gradient)&&delete i.gradient,i.transform=this._.transform,i}if(null==r&&n.is(e,"string")){if(e==u&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;for(var a=e.split(c),s={},l=0,f=a.length;f>l;l++)e=a[l],s[e]=e in this.attrs?this.attrs[e]:n.is(this.paper.customAttributes[e],"function")?this.paper.customAttributes[e].def:n._availableAttrs[e];return f-1?s:s[a[0]]}if(this.attrs&&null==r&&n.is(e,"array")){for(s={},l=0,f=e.length;f>l;l++)s[e[l]]=this.attr(e[l]);return s}var p;null!=r&&(p={},p[e]=r),null==r&&n.is(e,"object")&&(p=e);for(var d in p)h("raphael.attr."+d+"."+this.id,this,p[d]);if(p){for(d in this.paper.customAttributes)if(this.paper.customAttributes[t](d)&&p[t](d)&&n.is(this.paper.customAttributes[d],"function")){var g=this.paper.customAttributes[d].apply(this,[].concat(p[d]));this.attrs[d]=p[d];for(var v in g)g[t](v)&&(p[v]=g[v])}p.text&&"text"==this.type&&(this.textpath.string=p.text),N(this,p)}return this},B.toFront=function(){return!this.removed&&this.node.parentNode.appendChild(this.node),this.paper&&this.paper.top!=this&&n._tofront(this,this.paper),this},B.toBack=function(){return this.removed?this:(this.node.parentNode.firstChild!=this.node&&(this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild),n._toback(this,this.paper)),this)},B.insertAfter=function(t){return this.removed?this:(t.constructor==n.st.constructor&&(t=t[t.length-1]),t.node.nextSibling?t.node.parentNode.insertBefore(this.node,t.node.nextSibling):t.node.parentNode.appendChild(this.node),n._insertafter(this,t,this.paper),this)},B.insertBefore=function(t){return this.removed?this:(t.constructor==n.st.constructor&&(t=t[0]),t.node.parentNode.insertBefore(this.node,t.node),n._insertbefore(this,t,this.paper),this)},B.blur=function(t){var e=this.node.runtimeStyle,r=e.filter;return r=r.replace(m,d),0!==+t?(this.attrs.blur=t,e.filter=r+p+f+".Blur(pixelradius="+(+t||1.5)+")",e.margin=n.format("-{0}px 0 0 -{0}px",o(+t||1.5))):(e.filter=r,e.margin=0,delete this.attrs.blur),this},n._engine.path=function(t,e){var n=j("shape");n.style.cssText=x,n.coordsize=b+p+b,n.coordorigin=e.coordorigin;var r=new A(n,e),i={fill:"none",stroke:"#000"};t&&(i.path=t),r.type="path",r.path=[],r.Path=d,N(r,i),e.canvas.appendChild(n);var o=j("skew");return o.on=!0,n.appendChild(o),r.skew=o,r.transform(d),r},n._engine.rect=function(t,e,r,i,o,a){var s=n._rectPath(e,r,i,o,a),l=t.path(s),u=l.attrs;return l.X=u.x=e,l.Y=u.y=r,l.W=u.width=i,l.H=u.height=o,u.r=a,u.path=s,l.type="rect",l},n._engine.ellipse=function(t,e,n,r,i){var o=t.path();return o.attrs,o.X=e-r,o.Y=n-i,o.W=2*r,o.H=2*i,o.type="ellipse",N(o,{cx:e,cy:n,rx:r,ry:i}),o},n._engine.circle=function(t,e,n,r){var i=t.path();return i.attrs,i.X=e-r,i.Y=n-r,i.W=i.H=2*r,i.type="circle",N(i,{cx:e,cy:n,r:r}),i},n._engine.image=function(t,e,r,i,o,a){var s=n._rectPath(r,i,o,a),l=t.path(s).attr({stroke:"none"}),c=l.attrs,h=l.node,f=h.getElementsByTagName(u)[0];return c.src=e,l.X=c.x=r,l.Y=c.y=i,l.W=c.width=o,l.H=c.height=a,c.path=s,l.type="image",f.parentNode==h&&h.removeChild(f),f.rotate=!0,f.src=e,f.type="tile",l._.fillpos=[r,i],l._.fillsize=[o,a],h.appendChild(f),T(l,1,1,0,0,0),l},n._engine.text=function(t,r,i,a){var s=j("shape"),l=j("path"),u=j("textpath");r=r||0,i=i||0,a=a||"",l.v=n.format("m{0},{1}l{2},{1}",o(r*b),o(i*b),o(r*b)+1),l.textpathok=!0,u.string=e(a),u.on=!0,s.style.cssText=x,s.coordsize=b+p+b,s.coordorigin="0 0";var c=new A(s,t),h={fill:"#000",stroke:"none",font:n._availableAttrs.font,text:a};c.shape=s,c.path=l,c.textpath=u,c.type="text",c.attrs.text=e(a),c.attrs.x=r,c.attrs.y=i,c.attrs.w=1,c.attrs.h=1,N(c,h),s.appendChild(u),s.appendChild(l),t.canvas.appendChild(s);var f=j("skew");return f.on=!0,s.appendChild(f),c.skew=f,c.transform(d),c},n._engine.setSize=function(t,e){var r=this.canvas.style;return this.width=t,this.height=e,t==+t&&(t+="px"),e==+e&&(e+="px"),r.width=t,r.height=e,r.clip="rect(0 "+t+" "+e+" 0)",this._viewBox&&n._engine.setViewBox.apply(this,this._viewBox),this},n._engine.setViewBox=function(t,e,r,i,o){n.eve("raphael.setViewBox",this,this._viewBox,[t,e,r,i,o]);var a,s,l=this.getSize(),u=l.width,c=l.height;return o&&(a=c/i,s=u/r,u>r*a&&(t-=(u-r*a)/2/a),c>i*s&&(e-=(c-i*s)/2/s)),this._viewBox=[t,e,r,i,!!o],this._viewBoxShift={dx:-t,dy:-e,scale:l},this.forEach(function(t){t.transform("...")}),this};var j;n._engine.initWin=function(t){var e=t.document;31>e.styleSheets.length?e.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)"):e.styleSheets[0].addRule(".rvml","behavior:url(#default#VML)");try{!e.namespaces.rvml&&e.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),j=function(t){return e.createElement("<rvml:"+t+' class="rvml">')}}catch(n){j=function(t){return e.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}},n._engine.initWin(n._g.win),n._engine.create=function(){var t=n._getContainer.apply(0,arguments),e=t.container,r=t.height,i=t.width,o=t.x,a=t.y;if(!e)throw Error("VML container not found.");var s=new n._Paper,l=s.canvas=n._g.doc.createElement("div"),u=l.style;return o=o||0,a=a||0,i=i||512,r=r||342,s.width=i,s.height=r,i==+i&&(i+="px"),r==+r&&(r+="px"),s.coordsize=1e3*b+p+1e3*b,s.coordorigin="0 0",s.span=n._g.doc.createElement("span"),s.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;",l.appendChild(s.span),u.cssText=n.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",i,r),1==e?(n._g.doc.body.appendChild(l),u.left=o+"px",u.top=a+"px",u.position="absolute"):e.firstChild?e.insertBefore(l,e.firstChild):e.appendChild(l),s.renderfix=function(){},s},n.prototype.clear=function(){n.eve("raphael.clear",this),this.canvas.innerHTML=d,this.span=n._g.doc.createElement("span"),this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;",this.canvas.appendChild(this.span),this.bottom=this.top=null},n.prototype.remove=function(){n.eve("raphael.remove",this),this.canvas.parentNode.removeChild(this.canvas);for(var t in this)this[t]="function"==typeof this[t]?n._removedFactory(t):null;return!0};var D=n.st;for(var L in B)B[t](L)&&!D[t](L)&&(D[L]=function(t){return function(){var e=arguments;return this.forEach(function(n){n[t].apply(n,e)})}}(L))}}(),N.was?S.win.Raphael=n:Raphael=n,"object"==typeof exports&&(module.exports=n),n});

// ../bower_components/raphael.json/raphael.json.js
(function(){Raphael.fn.toJSON=function(t){for(var e,n=[],r=this,i=r.bottom;null!=i;i=i.next)e=t?t(i,{}):{},e&&n.push({data:e,type:i.type,attrs:i.attrs,transform:i.matrix.toTransformString(),id:i.id});var o=[],a=JSON.stringify(n,function(t,e){if("object"==typeof e&&null!==e){if(-1!==o.indexOf(e))return;o.push(e)}return e});return o=null,a},Raphael.fn.fromJSON=function(t,e){var n,r=this;"string"==typeof t&&(t=JSON.parse(t));for(var i in t)t.hasOwnProperty(i)&&(n=r[t[i].type]().attr(t[i].attrs).transform(t[i].transform),n.id=t[i].id,e&&(n=e(n,t[i].data)),n&&r.set().push(n))}})();

// ../bower_components/raphael.export/raphael.export.js
(function(t){function e(t){if("number"==typeof t)return""+t;var e={"<":"lt",">":"gt",'"':"quot","'":"apos"};for(var n in e)t=t.replace(RegExp(n,"g"),"&"+e[n]+";");return t}function n(t,e){var n,r=[],i="undefined";if(t.unshift!==void 0){var o=t.length;for(n=0;o>n;n++)if(typeof t[n]!=i){var a=e.call(this,t[n],n);null!==a&&r.push(a)}}else for(n in t)if(t.hasOwnProperty(n)){var a=e.call(this,t[n],n);null!==a&&r.push(a)}return r}function r(t,e,n){for(var r in t)t.hasOwnProperty(r)&&(n=e.call(this,n,t[r],r));return n}function o(r,i,o,a){return(a===void 0||null===a)&&(a=""),"object"==typeof i&&(i=n(i,function(n,r){switch(r){case"transform":return;case"fill":if(n.match(/^hsb/)){var i=n.replace(/^hsb\(|\)$/g,"").split(",");3===i.length&&(n=""+t.hsb2rgb(i[0],i[1],i[2]))}}return r+'="'+e(n)+'"'}).join(" ")),"<"+r+(o?' transform="matrix('+(""+o).replace(/^matrix\(|\)$/g,"")+')" ':" ")+i+">"+a+"</"+r+">"}function a(t){return{font:{family:t.attrs.font.replace(/^.*?"(\w+)".*$/,"$1"),size:t.attrs["font-size"]===void 0?null:parseInt(t.attrs["font-size"]),style:t.attrs["font-style"]===void 0?null:t.attrs["font-style"],weight:t.attrs["font-weight"]===void 0?null:t.attrs["font-weight"]},anchor:t.attrs["text-anchor"]===void 0?null:t.attrs["text-anchor"]}}function s(t){var e="normal",n="text-anchor: "+(t.anchor||"middle")+"; ",r=t.font;return n+["font:",r.style||e,e,r.weight||e,(r.size?r.size+"px":"10px")+"/normal",r.family].join(" ")}function l(t){return/^[0-9A-F]{6}$/i.test(t)&&(t="#"+t),t}function u(t,e,n){return null===t&&(t=10),3.5*4.5*t/13*(e-.2-n/2)}var c={text:function(t){var i=a(t),c=[],f=(""+t.attrs.text).split("\n"),h=f.length;return n(f,function(n,a){var f=r(t.attrs,function(t,n,r){return"text"!==r&&"w"!==r&&"h"!==r&&("font-size"===r&&(n=parseInt(n)+"px"),"stroke"===r&&(n=l(n)),t[r]=e(""+n)),t},{style:s(i)+";"});""!=t.node.className.baseVal&&(f["class"]=t.node.className.baseVal),c.push(o("text",f,t.matrix,o("tspan",{dy:u(i.font.size,a+1,h)},null,n.replace(/&/g,"&amp;"))))}),c},path:function(t){return 1===t.matrix.a&&1===t.matrix.d?{}:{transform:""+t.matrix},o("path",r(t.attrs,function(t,e,n){return"path"===n&&(n="d"),"stroke"===n&&(e=l(e)),t[n]=""+e,t},{}),t.matrix)}};t.fn.toSVG=function(){var n=this,r={svg:t.svg,vml:t.vml},o='<svg style="overflow: hidden; position: relative;" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="'+n.width+'" version="1.1" height="'+n.height+'">';t.svg=!0,t.vml=!1;for(var a=n.bottom;null!=a;a=a.next)if("none"!==a.node.style.display){var s="";if("function"!=typeof c[a.type]){switch(a.type){case"image":s+=' preserveAspectRatio="none"'}for(i in a.attrs){var u=i,f="";switch(i){case"r":if("rect"!=a.type)break;f=a.attrs.r,a.attrs.rx=f,a.attrs.ry=f;continue;case"src":u="xlink:href";break;case"transform":u="";break;case"fill":if(a.attrs.gradient)continue;break;case"gradient":var h=a.id,p=a.attrs.gradient,d=.5,g=.5;if(p=(p+"").replace(t._radial_gradient,function(t,e,n){if(type="radial",e&&n){d=parseFloat(e),g=parseFloat(n);var r=2*(g>.5)-1;Math.pow(d-.5,2)+Math.pow(g-.5,2)>.25&&(g=Math.sqrt(.25-Math.pow(d-.5,2))*r+.5)&&.5!=g&&(g=g.toFixed(5)-1e-5*r)}return""}),p=p.split(/\s*\-\s*/),a.attrs.gradient.match(/^r/g)){var v=t._parseDots(p);if(!v)continue;o+="<defs>",o+='	    <radialGradient id="radialgradient'+h+'" fx="'+d+'" fy="'+g+'" >';for(var m=0;v.length>m;m++){var y=100*(m/(v.length-1))+"%";v[m].offset&&(y=v[m].offset),o+='<stop stop-color="'+v[m].color+'" offset="'+y+'"/>'}o+="    </radialGradient>",o+="</defs>",u="fill",f="url(#radialgradient"+h+")"}else{var x=p.shift();if(x=-1*parseFloat(x),isNaN(x))continue;var v=t._parseDots(p);if(!v)continue;var b=[0,0,Math.cos(t.rad(x)),Math.sin(t.rad(x))],w=1/(Math.max(Math.abs(b[2]),Math.abs(b[3]))||1);b[2]*=w,b[3]*=w,0>b[2]&&(b[0]=-b[2],b[2]=0),0>b[3]&&(b[1]=-b[3],b[3]=0),o+="<defs>",o+='	    <linearGradient id="lineargradient'+h+'" x1="'+b[0]+'" y1="'+b[1]+'" x2="'+b[2]+'" y2="'+b[3]+'">';for(var m=0;v.length>m;m++){var y=100*(m/(v.length-1))+"%";v[m].offset&&(y=v[m].offset),o+='<stop stop-color="'+v[m].color+'" offset="'+y+'"/>'}o+="    </linearGradient>",o+="</defs>",u="fill",f="url(#lineargradient"+h+")"}break;case"stroke":f=f?l(f):l(""+a.attrs[i])}u&&(s+=f?" "+u+'="'+e(f)+'"':" "+u+'="'+e(""+a.attrs[i])+'"')}""!=a.node.className.baseVal&&(s+=' class="'+a.node.className.baseVal+'"'),o+="<"+a.type+' transform="matrix('+(""+a.matrix).replace(/^matrix\(|\)$/g,"")+')"'+s+"></"+a.type+">"}else o+=c[a.type](a)}return o+="</svg>",t.svg=r.svg,t.vml=r.vml,o}})(window.Raphael);

// ../bower_components/raphael.free_transform/raphael.free_transform.js
(function(t,e){"function"==typeof define&&define.amd?define(["raphael"],function(n){return e(n||t.Raphael)}):e(Raphael)})(this,function(t){t.fn.freeTransform=function(t,e,n){function r(t){("set"===t.type?t.items:[t]).map(function(t){"set"===t.type?r(t):h.items.push({el:t,attrs:{rotate:0,scale:{x:1,y:1},translate:{x:0,y:0}},transformString:t.matrix.toTransformString()})})}function i(t){var e,n,r=[],i=[{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}];return"number"!=typeof t&&(t=0),e={x:h.attrs.rotate*Math.PI/180,y:(h.attrs.rotate+90)*Math.PI/180},n={x:h.attrs.size.x/2*h.attrs.scale.x+t,y:h.attrs.size.y/2*h.attrs.scale.y+t},i.map(function(t){r.push({x:h.attrs.center.x+h.attrs.translate.x+t.x*n.x*Math.cos(e.x)+t.y*n.y*Math.cos(e.y),y:h.attrs.center.y+h.attrs.translate.y+t.x*n.x*Math.sin(e.x)+t.y*n.y*Math.sin(e.y)})}),r}function a(){var t={x:/^([0-9]+)%$/.exec(g.width),y:/^([0-9]+)%$/.exec(g.height)};return{x:t.x?g.canvas.clientWidth||.01*g.canvas.parentNode.clientWidth*parseInt(t.x[1],10):g.canvas.clientWidth||g.width,y:t.y?g.canvas.clientHeight||.01*g.canvas.parentNode.clientHeight*parseInt(t.y[1],10):g.canvas.clientHeight||g.height}}function s(t){var e,n,r,i={x:0,y:0},s={x:0,y:0};t&&h.opts.snap.drag&&(e=t.x,n=t.y,[0,1].map(function(){i.x=e-Math.round(e/h.opts.snap.drag)*h.opts.snap.drag,i.y=n-Math.round(n/h.opts.snap.drag)*h.opts.snap.drag,Math.abs(i.x)<=h.opts.snapDist.drag&&(s.x=i.x),Math.abs(i.y)<=h.opts.snapDist.drag&&(s.y=i.y),e+=t.width-s.x,n+=t.height-s.y}),h.attrs.translate.x-=s.x,h.attrs.translate.y-=s.y),h.opts.boundary&&(h.opts.boundarywidth=h.opts.boundarywidth||a().x*(h.o.viewBoxRatio&&h.o.viewBoxRatio.x||1),h.opts.boundaryheight=h.opts.boundaryheight||a().y*(h.o.viewBoxRatio&&h.o.viewBoxRatio.y||1),h.attrs.center.x+h.attrs.translate.x<h.opts.boundaryx&&(h.attrs.translate.x+=h.opts.boundaryx-(h.attrs.center.x+h.attrs.translate.x)),h.attrs.center.y+h.attrs.translate.y<h.opts.boundaryy&&(h.attrs.translate.y+=h.opts.boundaryy-(h.attrs.center.y+h.attrs.translate.y)),h.attrs.center.x+h.attrs.translate.x>h.opts.boundaryx+h.opts.boundarywidth&&(h.attrs.translate.x+=h.opts.boundaryx+h.opts.boundarywidth-(h.attrs.center.x+h.attrs.translate.x)),h.attrs.center.y+h.attrs.translate.y>h.opts.boundaryy+h.opts.boundaryheight&&(h.attrs.translate.y+=h.opts.boundaryy+h.opts.boundaryheight-(h.attrs.center.y+h.attrs.translate.y))),i=Math.abs(h.attrs.rotate%h.opts.snap.rotate),i=Math.min(i,h.opts.snap.rotate-i),h.opts.snapDist.rotate>i&&(h.attrs.rotate=Math.round(h.attrs.rotate/h.opts.snap.rotate)*h.opts.snap.rotate),i={x:Math.abs(h.attrs.scale.x*h.attrs.size.x%h.opts.snap.scale),y:Math.abs(h.attrs.scale.y*h.attrs.size.x%h.opts.snap.scale)},i={x:Math.min(i.x,h.opts.snap.scale-i.x),y:Math.min(i.y,h.opts.snap.scale-i.y)},i.x<h.opts.snapDist.scale&&(h.attrs.scale.x=Math.round(h.attrs.scale.x*h.attrs.size.x/h.opts.snap.scale)*h.opts.snap.scale/h.attrs.size.x),i.y<h.opts.snapDist.scale&&(h.attrs.scale.y=Math.round(h.attrs.scale.y*h.attrs.size.y/h.opts.snap.scale)*h.opts.snap.scale/h.attrs.size.y),h.opts.range.rotate&&(r=(360+h.attrs.rotate)%360,r>180&&(r-=360),h.opts.range.rotate[0]>r&&(h.attrs.rotate+=h.opts.range.rotate[0]-r),r>h.opts.range.rotate[1]&&(h.attrs.rotate+=h.opts.range.rotate[1]-r)),h.opts.range.scale&&(h.attrs.scale.x*h.attrs.size.x<h.opts.range.scale[0]&&(h.attrs.scale.x=h.opts.range.scale[0]/h.attrs.size.x),h.attrs.scale.y*h.attrs.size.y<h.opts.range.scale[0]&&(h.attrs.scale.y=h.opts.range.scale[0]/h.attrs.size.y),h.attrs.scale.x*h.attrs.size.x>h.opts.range.scale[1]&&(h.attrs.scale.x=h.opts.range.scale[1]/h.attrs.size.x),h.attrs.scale.y*h.attrs.size.y>h.opts.range.scale[1]&&(h.attrs.scale.y=h.opts.range.scale[1]/h.attrs.size.y))}function o(){return{x:h.attrs.scale.x*h.attrs.size.x>=h.opts.range.scale[0]&&h.attrs.scale.x*h.attrs.size.x<=h.opts.range.scale[1],y:h.attrs.scale.y*h.attrs.size.y>=h.opts.range.scale[0]&&h.attrs.scale.y*h.attrs.size.y<=h.opts.range.scale[1]}}function l(t){"x"===t?h.attrs.scale.y=h.attrs.scale.x/h.attrs.ratio:h.attrs.scale.x=h.attrs.scale.y*h.attrs.ratio}function u(t){var e,n={};for(e in t)n[e]="object"==typeof t[e]?u(t[e]):t[e];return n}function c(t){var e=[];h.callback&&(t.map(function(t){t&&e.push(t)}),clearTimeout(d),d=setTimeout(function(){h.callback&&h.callback(h,e,i())},.1))}var h,f,p,d,g=this,y=t.getBBox(!0);return t.freeTransform?t.freeTransform:(Array.prototype.hasOwnProperty("map")||(Array.prototype.map=function(t,e){p=[];for(f in this)this.hasOwnProperty(f)&&(p[f]=t.call(e,this[f],f,this));return p}),Array.prototype.hasOwnProperty("indexOf")||(Array.prototype.indexOf=function(t,e){for(f=e||0,j=this.length;j>f;f++)if(this[f]===t)return f;return-1}),h=t.freeTransform={attrs:{x:y.x,y:y.y,size:{x:y.width,y:y.height},center:{x:y.x+y.width/2,y:y.y+y.height/2},rotate:0,scale:{x:1,y:1},translate:{x:0,y:0},ratio:1},axes:null,bbox:null,callback:null,items:[],handles:{center:null,x:null,y:null},offset:{rotate:0,scale:{x:1,y:1},translate:{x:0,y:0}},opts:{animate:!1,attrs:{fill:"#fff",stroke:"#000"},boundary:{x:g._left||0,y:g._top||0,width:null,height:null},customCorners:!1,distance:1.3,drag:!0,draw:!1,keepRatio:!1,range:{rotate:[-180,180],scale:[-99999,99999]},rotate:!0,scale:!0,snap:{rotate:0,scale:0,drag:0},snapDist:{rotate:0,scale:0,drag:7},size:5},subject:t},h.updateHandles=function(){var t,e,n,r,s,o,l,u=[[-1,-1],[1,-1],[1,1],[-1,1],[0,-1],[1,0],[0,1],[-1,0]];return(h.handles.bbox||h.opts.rotate.indexOf("self")>=0)&&(e=t=i(0),h.opts.customCorners&&"number"==typeof h.opts.customCorners.distance&&(e=i(h.opts.customCorners.distance))),n={x:h.attrs.rotate*Math.PI/180,y:(h.attrs.rotate+90)*Math.PI/180},r={x:h.attrs.size.x/2*h.attrs.scale.x,y:h.attrs.size.y/2*h.attrs.scale.y},h.axes.map(function(t){h.handles[t]&&(s=h.attrs.center.x+h.attrs.translate.x+r[t]*h.opts.distance*Math.cos(n[t]),o=h.attrs.center.y+h.attrs.translate.y+r[t]*h.opts.distance*Math.sin(n[t]),l={x:1,y:1},g._viewBox&&(l={x:g._viewBox[2]/a().x,y:g._viewBox[3]/a().y}),h.opts.boundary&&(s=Math.max(Math.min(s,h.opts.boundary.x+(h.opts.boundary.width||a().x*l.x)),h.opts.boundary.x),o=Math.max(Math.min(o,h.opts.boundary.y+(h.opts.boundary.height||a().y*l.y)),h.opts.boundary.y)),h.handles[t].disc.attr({cx:s,cy:o}),h.handles[t].line.toFront().attr({path:[["M",h.attrs.center.x+h.attrs.translate.x,h.attrs.center.y+h.attrs.translate.y],["L",h.handles[t].disc.attrs.cx,h.handles[t].disc.attrs.cy]]}),h.handles[t].disc.toFront())}),h.bbox&&(h.bbox.toFront().attr({path:[["M",t[0].x,t[0].y],["L",t[1].x,t[1].y],["L",t[2].x,t[2].y],["L",t[3].x,t[3].y],["L",t[0].x,t[0].y]]}),h.handles.bbox&&h.handles.bbox.map(function(n,r){var i,a,s,o;n.isCorner?(i=e[r].x,a=e[r].y):(s=r%4,o=(s+1)%t.length,i=(e[s].x+e[o].x)/2,a=(e[s].y+e[o].y)/2),n.element.toFront().attr({x:i-(n.isCorner?h.opts.customCorners?Math.ceil(h.opts.customCorners.size/2):h.opts.size.bboxCorners:h.opts.size.bboxSides),y:a-(n.isCorner?h.opts.customCorners?Math.ceil(h.opts.customCorners.size/2):h.opts.size.bboxCorners:h.opts.size.bboxSides)}).transform(h.opts.customCorners?null:"R"+h.attrs.rotate),n.x=u[r][0],n.y=u[r][1]})),h.circle&&h.circle.attr({cx:h.attrs.center.x+h.attrs.translate.x,cy:h.attrs.center.y+h.attrs.translate.y,r:Math.max(r.x,r.y)*h.opts.distance}),h.handles.center&&h.handles.center.disc.toFront().attr({cx:h.attrs.center.x+h.attrs.translate.x,cy:h.attrs.center.y+h.attrs.translate.y}),h.opts.rotate.indexOf("self")>=0&&(r=Math.max(Math.sqrt(Math.pow(t[1].x-t[0].x,2)+Math.pow(t[1].y-t[0].y,2)),Math.sqrt(Math.pow(t[2].x-t[1].x,2)+Math.pow(t[2].y-t[1].y,2)))/2),h},h.showHandles=function(){var e,n,r,i,f=[];if(draggables=[],h.hideHandles(),h.axes.map(function(t){h.handles[t]={},h.handles[t].line=g.path(["M",h.attrs.center.x,h.attrs.center.y]).attr({stroke:h.opts.attrs.stroke,"stroke-dasharray":"- ",opacity:.5}),h.handles[t].disc=g.circle(h.attrs.center.x,h.attrs.center.y,h.opts.size.axes).attr(h.opts.attrs)}),h.opts.draw.indexOf("bbox")>=0)for(h.bbox=g.path("").attr({stroke:h.opts.attrs.stroke,"stroke-dasharray":"- ",opacity:.5}),h.handles.bbox=[],e=h.opts.scale.indexOf("bboxCorners")||h.opts.customCorners>=0?0:4;(-1===h.opts.scale.indexOf("bboxSides")?4:8)>e;e++)n={},n.index=e,n.axis=e%2?"x":"y",n.isCorner=4>e,n.element=n.isCorner&&h.opts.customCorners?g.image(h.opts.customCorners.corners[e].image,h.attrs.center.x,h.attrs.center.y,h.opts.customCorners.size,h.opts.customCorners.size):g.rect(h.attrs.center.x,h.attrs.center.y,2*h.opts.size[n.isCorner?"bboxCorners":"bboxSides"],2*h.opts.size[n.isCorner?"bboxCorners":"bboxSides"]).attr(h.opts.attrs),h.handles.bbox[e]=n;return-1!==h.opts.draw.indexOf("circle")&&(h.circle=g.circle(0,0,0).attr({stroke:h.opts.attrs.stroke,"stroke-dasharray":"- ",opacity:.3})),-1!==h.opts.drag.indexOf("center")&&(h.handles.center={},h.handles.center.disc=g.circle(h.attrs.center.x,h.attrs.center.y,h.opts.size.center).attr(h.opts.attrs)),h.axes.map(function(t){h.handles[t]&&f.push({element:h.handles[t].disc,rotate:-1!==h.opts.rotate.indexOf("axis"+t.toUpperCase()),scale:-1!==h.opts.scale.indexOf("axis"+t.toUpperCase()),axis:t,isCorner:!1})}),h.opts.customCorners&&h.handles.bbox.map(function(t){var e;h.opts.customCorners.corners[t.index]!==void 0&&(e=h.opts.customCorners.corners[t.index].action,("rotate"===e||"scale"===e)&&f.push({element:t.element,rotate:"rotate"===e,scale:"scale"===e,axis:"x",isCorner:!0}))}),f.map(function(t){t.element.drag(function(e,n){var r,i,o,u,f,p,d={x:0>h.o.scale.x,y:0>h.o.scale.y};h.o.viewBoxRatio&&(e*=h.o.viewBoxRatio.x,n*=h.o.viewBoxRatio.y),r=e+t.element.ox,i=n+t.element.oy,t.rotate&&(o=Math.atan2(i-h.o.center.y-h.o.translate.y,r-h.o.center.x-h.o.translate.x),h.attrs.rotate=180*o/Math.PI-h.o.angle,d[t.axis]&&(h.attrs.rotate-=180)),h.opts.boundary&&(r=Math.max(Math.min(r,h.opts.boundary.x+(h.opts.boundary.width||a().x*(h.o.viewBoxRatio&&h.o.viewBoxRatio.x||1))),h.opts.boundary.x),i=Math.max(Math.min(i,h.opts.boundary.y+(h.opts.boundary.height||a().y*(h.o.viewBoxRatio&&h.o.viewBoxRatio.y||1))),h.opts.boundary.y)),u=r-h.o.center.x-h.o.translate.x-(h.opts.customCorners?h.opts.customCorners.distance:0),f=i-h.o.center.y-h.o.translate.y-(h.opts.customCorners?h.opts.customCorners.distance:0),p=Math.sqrt(Math.pow(u,2)+Math.pow(f,2)),t.scale&&(h.attrs.scale[t.axis]=p/(h.o.size[t.axis]/2*h.o.distance),d[t.axis]&&(h.attrs.scale[t.axis]*=-1)),s(),-1!==h.opts.keepRatio.indexOf("axis"+t.axis.toUpperCase())?l(t.axis):h.attrs.ratio=h.attrs.scale.x/h.attrs.scale.y,h.attrs.scale.x&&h.attrs.scale.y&&h.apply(),c([t.rotate?"rotate":null,t.scale?"scale":null])},function(){h.o=u(h.attrs),g._viewBox&&(h.o.viewBoxRatio={x:g._viewBox[2]/a().x,y:g._viewBox[3]/a().y}),t.element.ox=this.attrs.cx?this.attrs.cx:this.attrs.x+this.attrs.width/2,t.element.oy=this.attrs.cy?this.attrs.cy:this.attrs.y+this.attrs.height/2,t.isCorner?(hypotenuse=Math.sqrt(Math.pow(h.o.size.x*h.o.scale.x,2)+Math.pow(h.o.size.y*h.o.scale.y,2))/2,opposite=h.o.size.x*h.o.scale.x/2,pos={x:t.element.ox-(h.o.center.x+h.o.x+h.o.translate.x),y:t.element.oy-(h.o.center.y+h.o.y+h.o.translate.y)},h.o.distance=hypotenuse/opposite,h.o.angle=90-180*Math.atan2(pos.x,pos.y)/Math.PI-h.o.rotate):(h.o.distance=h.opts.distance,h.o.angle="y"===t.axis?90:0),c([t.rotate?"rotate start":null,t.scale?"scale start":null])},function(){c([t.rotate?"rotate end":null,t.scale?"scale end":null])})}),h.opts.draw.indexOf("bbox")>=0&&!h.opts.customCorners&&(-1!==h.opts.scale.indexOf("bboxCorners")||-1!==h.opts.scale.indexOf("bboxSides"))&&h.handles.bbox.map(function(t){t.element.drag(function(e,n){var r,i,a,f,p,d,g,y,x,m,v,b,w,_=u(h.attrs),k={x:0,y:0};h.o.viewBoxRatio&&(e*=h.o.viewBoxRatio.x,n*=h.o.viewBoxRatio.y),r=h.o.rotate.sin,i=h.o.rotate.cos,a=e*i-n*r,f=e*r+n*i,a*=Math.abs(t.x),f*=Math.abs(t.y),p=a*i+f*r,d=a*-r+f*i,h.attrs.translate={x:h.o.translate.x+p/2,y:h.o.translate.y+d/2},g=h.o.handlePos.cx+e-h.attrs.center.x-h.attrs.translate.x,y=h.o.handlePos.cy+n-h.attrs.center.y-h.attrs.translate.y,a=g*i-y*r,f=g*r+y*i,t.isCorner&&-1!==h.opts.keepRatio.indexOf("bboxCorners")&&(v=h.attrs.size.x*h.attrs.scale.x/(h.attrs.size.y*h.attrs.scale.y),b=a*t.x*(1/v),w=f*t.y*v,w>b*v?a=w*t.x:f=b*t.y),x=2*a*t.x/h.o.size.x,m=2*f*t.y/h.o.size.y,h.attrs.scale={x:x||h.attrs.scale.x,y:m||h.attrs.scale.y},o().x&&o().y||(h.attrs=_),s(),(t.isCorner&&-1!==h.opts.keepRatio.indexOf("bboxCorners")||!t.isCorner&&-1!==h.opts.keepRatio.indexOf("bboxSides"))&&(l(t.axis),k.x=(h.attrs.scale.x-h.o.scale.x)*h.o.size.x*t.x,k.y=(h.attrs.scale.y-h.o.scale.y)*h.o.size.y*t.y,a=k.x*i+k.y*r,f=-k.x*r+k.y*i,h.attrs.translate.x=h.o.translate.x+a/2,h.attrs.translate.y=h.o.translate.y+f/2),h.attrs.ratio=h.attrs.scale.x/h.attrs.scale.y,c(["scale"]),h.apply()},function(){var e=(360-h.attrs.rotate)%360/180*Math.PI,n=t.element.attr(["x","y"]);h.o=u(h.attrs),h.o.handlePos={cx:n.x+h.opts.size[t.isCorner?"bboxCorners":"bboxSides"],cy:n.y+h.opts.size[t.isCorner?"bboxCorners":"bboxSides"]},h.o.rotate={sin:Math.sin(e),cos:Math.cos(e)},g._viewBox&&(h.o.viewBoxRatio={x:g._viewBox[2]/a().x,y:g._viewBox[3]/a().y}),c(["scale start"])},function(){c(["scale end"])})}),h.opts.customCorners&&h.handles.bbox.map(function(t){h.opts.customCorners.corners[t.index]!==void 0&&-1===["drag","rotate","scale"].indexOf(h.opts.customCorners.corners[t.index].action)&&(t.element.drag(function(){return!1}),t.element.click(function(){c(["custom:"+h.opts.customCorners.corners[t.index].action])}))}),h.opts.drag.indexOf("self")>=0&&-1===h.opts.scale.indexOf("self")&&-1===h.opts.rotate.indexOf("self")&&draggables.push(t),h.opts.drag.indexOf("center")>=0&&draggables.push(h.handles.center.disc),h.opts.customCorners&&h.handles.bbox.map(function(t){h.opts.customCorners.corners[t.index]!==void 0&&"drag"===h.opts.customCorners.corners[t.index].action&&draggables.push(t.element)}),draggables.map(function(e){e.drag(function(t,e){var n=u(h.o.bbox);h.o.viewBoxRatio&&(t*=h.o.viewBoxRatio.x,e*=h.o.viewBoxRatio.y),h.attrs.translate.x=h.o.translate.x+t,h.attrs.translate.y=h.o.translate.y+e,n.x+=t,n.y+=e,s(n),c(["drag"]),h.apply()},function(){h.o=u(h.attrs),h.opts.snap.drag&&(h.o.bbox=t.getBBox()),g._viewBox&&(h.o.viewBoxRatio={x:g._viewBox[2]/a().x,y:g._viewBox[3]/a().y}),h.axes.map(function(t){h.handles[t]&&(h.handles[t].disc.ox=h.handles[t].disc.attrs.cx,h.handles[t].disc.oy=h.handles[t].disc.attrs.cy)}),c(["drag start"])},function(){c(["drag end"])})}),r=h.opts.rotate.indexOf("self")>=0,i=h.opts.scale.indexOf("self")>=0,(r||i)&&t.drag(function(t,e,n,a){var o,l,u={x:0>h.o.scale.x,y:0>h.o.scale.y};r&&(o=Math.atan2(a-h.o.center.y-h.o.translate.y,n-h.o.center.x-h.o.translate.x),h.attrs.rotate=h.o.rotate+180*o/Math.PI-h.o.deg),i&&(l=Math.sqrt(Math.pow(n-h.o.center.x-h.o.translate.x,2)+Math.pow(a-h.o.center.y-h.o.translate.y,2)),h.attrs.scale.x=h.attrs.scale.y=(u.x?-1:1)*h.o.scale.x+(l-h.o.radius)/(h.o.size.x/2),u.x&&(h.attrs.scale.x*=-1),u.y&&(h.attrs.scale.y*=-1)),s(),h.apply(),c([r?"rotate":null,i?"scale":null])},function(t,e){h.o=u(h.attrs),h.o.deg=180*Math.atan2(e-h.o.center.y-h.o.translate.y,t-h.o.center.x-h.o.translate.x)/Math.PI,h.o.radius=Math.sqrt(Math.pow(t-h.o.center.x-h.o.translate.x,2)+Math.pow(e-h.o.center.y-h.o.translate.y,2)),g._viewBox&&(h.o.viewBoxRatio={x:g._viewBox[2]/a().x,y:g._viewBox[3]/a().y}),c([r?"rotate start":null,i?"scale start":null])},function(){c([r?"rotate end":null,i?"scale end":null])}),h.updateHandles(),h},h.hideHandles=function(t){var t=t||{};return void 0===t.undrag&&(t.undrag=!0),t.undrag&&h.items.map(function(t){t.el.undrag()}),h.handles.center&&(h.handles.center.disc.remove(),h.handles.center=null),["x","y"].map(function(t){h.handles[t]&&(h.handles[t].disc.remove(),h.handles[t].line.remove(),h.handles[t]=null)}),h.bbox&&(h.bbox.remove(),h.bbox=null,h.handles.bbox&&(h.handles.bbox.map(function(t){t.element.remove()}),h.handles.bbox=null)),h.circle&&(h.circle.remove(),h.circle=null),h},h.setOpts=function(t,e){var n,r;void 0!==e&&(h.callback="function"==typeof e?e:!1);for(n in t)if(t[n]&&t[n].constructor===Object){h.opts[n]===!1&&(h.opts[n]={});for(r in t[n])t[n].hasOwnProperty(r)&&(h.opts[n][r]=t[n][r])}else h.opts[n]=t[n];return h.opts.animate===!0&&(h.opts.animate={delay:700,easing:"linear"}),h.opts.drag===!0&&(h.opts.drag=["center","self"]),h.opts.keepRatio===!0&&(h.opts.keepRatio=["axisX","axisY","bboxCorners","bboxSides"]),h.opts.rotate===!0&&(h.opts.rotate=["axisX","axisY"]),h.opts.scale===!0&&(h.opts.scale=["axisX","axisY","bboxCorners","bboxSides"]),["drag","draw","keepRatio","rotate","scale"].map(function(t){h.opts[t]===!1&&(h.opts[t]=[])}),h.axes=[],(h.opts.rotate.indexOf("axisX")>=0||h.opts.scale.indexOf("axisX")>=0)&&h.axes.push("x"),(h.opts.rotate.indexOf("axisY")>=0||h.opts.scale.indexOf("axisY")>=0)&&h.axes.push("y"),["drag","rotate","scale"].map(function(t){h.opts.snapDist[t]||(h.opts.snapDist[t]=h.opts.snap[t])}),h.opts.range={rotate:[parseFloat(h.opts.range.rotate[0]),parseFloat(h.opts.range.rotate[1])],scale:[parseFloat(h.opts.range.scale[0]),parseFloat(h.opts.range.scale[1])]},h.opts.snap={drag:parseFloat(h.opts.snap.drag)||0,rotate:parseFloat(h.opts.snap.rotate)||0,scale:parseFloat(h.opts.snap.scale)||0},h.opts.snapDist={drag:parseFloat(h.opts.snapDist.drag)||0,rotate:parseFloat(h.opts.snapDist.rotate)||0,scale:parseFloat(h.opts.snapDist.scale)||0},"string"==typeof h.opts.size&&(h.opts.size=parseFloat(h.opts.size)||0),isNaN(h.opts.size)||(h.opts.size={axes:h.opts.size,bboxCorners:h.opts.size,bboxSides:h.opts.size,center:h.opts.size}),h.opts.customCorners&&(h.opts.customCorners.size=parseFloat(h.opts.customCorners.size)||0,h.opts.customCorners.distance=parseFloat(h.opts.customCorners.distance)||0),h.showHandles(),c(["init"]),h},h.setOpts(e,n),h.apply=function(){return h.items.map(function(t,e){var n={x:h.attrs.center.x+h.offset.translate.x,y:h.attrs.center.y+h.offset.translate.y},r=h.attrs.rotate-h.offset.rotate,i={x:h.attrs.scale.x/h.offset.scale.x,y:h.attrs.scale.y/h.offset.scale.y},a={x:h.attrs.translate.x-h.offset.translate.x,y:h.attrs.translate.y-h.offset.translate.y};h.opts.animate?(c(["animate start"]),t.el.animate({transform:["R",r,n.x,n.y,"S",i.x,i.y,n.x,n.y,"T",a.x,a.y]+h.items[e].transformString},h.opts.animate.delay,h.opts.animate.easing,function(){c(["animate end"]),h.updateHandles()})):(t.el.transform(["R",r,n.x,n.y,"S",i.x,i.y,n.x,n.y,"T",a.x,a.y]+h.items[e].transformString),c(["apply"]),h.updateHandles())}),h},h.unplug=function(){var e=h.attrs;return h.hideHandles(),delete t.freeTransform,e},r(t),h.items.map(function(t,e){t.el._&&t.el._.transform&&"object"==typeof t.el._.transform&&t.el._.transform.map(function(t){if(t[0])switch(t[0].toUpperCase()){case"T":h.items[e].attrs.translate.x+=t[1],h.items[e].attrs.translate.y+=t[2];break;case"S":h.items[e].attrs.scale.x*=t[1],h.items[e].attrs.scale.y*=t[2];break;case"R":h.items[e].attrs.rotate+=t[1]}})}),"set"!==t.type&&(h.attrs.rotate=h.items[0].attrs.rotate,h.attrs.scale=h.items[0].attrs.scale,h.attrs.translate=h.items[0].attrs.translate,h.items[0].attrs={rotate:0,scale:{x:1,y:1},translate:{x:0,y:0}},h.items[0].transformString=""),h.attrs.ratio=h.attrs.scale.x/h.attrs.scale.y,h.updateHandles(),h)}});

// ../bower_components/layout/version.js
enyo&&enyo.version&&(enyo.version.layout="2.5.2");

// ../bower_components/layout/contextual/source/ContextualLayout.js
(function(t){t.kind({name:"enyo.ContextualLayout",kind:"Layout",adjustPosition:function(){if(this.container.showing&&this.container.hasNode()){this.resetPositioning();var t=this.getViewWidth(),e=this.getViewHeight(),n=this.container.vertFlushMargin,r=e-this.container.vertFlushMargin,i=this.container.horizFlushMargin,o=t-this.container.horizFlushMargin;if(n>this.offset.top+this.offset.height||this.offset.top>r){if(this.applyVerticalFlushPositioning(i,o))return;if(this.applyHorizontalFlushPositioning(i,o))return;if(this.applyVerticalPositioning())return}else if((i>this.offset.left+this.offset.width||this.offset.left>o)&&this.applyHorizontalPositioning())return;var s=this.getBoundingRect(this.container.node);if(s.width>this.container.widePopup){if(this.applyVerticalPositioning())return}else if(s.height>this.container.longPopup&&this.applyHorizontalPositioning())return;if(this.applyVerticalPositioning())return;if(this.applyHorizontalPositioning())return}},initVerticalPositioning:function(){this.resetPositioning(),this.container.addClass("vertical");var t=this.getBoundingRect(this.container.node),e=this.getViewHeight();return this.container.floating?e/2>this.offset.top?(this.applyPosition({top:this.offset.top+this.offset.height,bottom:"auto"}),this.container.addClass("below")):(this.applyPosition({top:this.offset.top-t.height,bottom:"auto"}),this.container.addClass("above")):t.top+t.height>e&&e-t.bottom<t.top-t.height?this.container.addClass("above"):this.container.addClass("below"),t=this.getBoundingRect(this.container.node),t.top+t.height>e||0>t.top?!1:!0},applyVerticalPositioning:function(){if(!this.initVerticalPositioning())return!1;var t=this.getBoundingRect(this.container.node),e=this.getViewWidth();if(this.container.floating){var n=this.offset.left+this.offset.width/2-t.width/2;n+t.width>e?(this.applyPosition({left:this.offset.left+this.offset.width-t.width}),this.container.addClass("left")):0>n?(this.applyPosition({left:this.offset.left}),this.container.addClass("right")):this.applyPosition({left:n})}else{var r=this.offset.left+this.offset.width/2-t.left-t.width/2;t.right+r>e?(this.applyPosition({left:this.offset.left+this.offset.width-t.right}),this.container.addRemoveClass("left",!0)):0>t.left+r?this.container.addRemoveClass("right",!0):this.applyPosition({left:r})}return!0},applyVerticalFlushPositioning:function(t,e){if(!this.initVerticalPositioning())return!1;var n=this.getBoundingRect(this.container.node),r=this.getViewWidth();return t>this.offset.left+this.offset.width/2?(this.offset.left+this.offset.width/2<this.container.horizBuffer?this.applyPosition({left:this.container.horizBuffer+(this.container.floating?0:-n.left)}):this.applyPosition({left:this.offset.width/2+(this.container.floating?this.offset.left:0)}),this.container.addClass("right"),this.container.addClass("corner"),!0):this.offset.left+this.offset.width/2>e?(this.offset.left+this.offset.width/2>r-this.container.horizBuffer?this.applyPosition({left:r-this.container.horizBuffer-n.right}):this.applyPosition({left:this.offset.left+this.offset.width/2-n.right}),this.container.addClass("left"),this.container.addClass("corner"),!0):!1},initHorizontalPositioning:function(){this.resetPositioning();var t=this.getBoundingRect(this.container.node),e=this.getViewWidth();return this.container.floating?e/2>this.offset.left+this.offset.width?(this.applyPosition({left:this.offset.left+this.offset.width}),this.container.addRemoveClass("left",!0)):(this.applyPosition({left:this.offset.left-t.width}),this.container.addRemoveClass("right",!0)):this.offset.left-t.width>0?(this.applyPosition({left:this.offset.left-t.left-t.width}),this.container.addRemoveClass("right",!0)):(this.applyPosition({left:this.offset.width}),this.container.addRemoveClass("left",!0)),this.container.addRemoveClass("horizontal",!0),t=this.getBoundingRect(this.container.node),0>t.left||t.left+t.width>e?!1:!0},applyHorizontalPositioning:function(){if(!this.initHorizontalPositioning())return!1;var t=this.getBoundingRect(this.container.node),e=this.getViewHeight(),n=this.offset.top+this.offset.height/2;return this.container.floating?n>=e/2-.05*e&&e/2+.05*e>=n?this.applyPosition({top:this.offset.top+this.offset.height/2-t.height/2,bottom:"auto"}):e/2>this.offset.top+this.offset.height?(this.applyPosition({top:this.offset.top,bottom:"auto"}),this.container.addRemoveClass("high",!0)):(this.applyPosition({top:this.offset.top-t.height+2*this.offset.height,bottom:"auto"}),this.container.addRemoveClass("low",!0)):n>=e/2-.05*e&&e/2+.05*e>=n?this.applyPosition({top:(this.offset.height-t.height)/2}):e/2>this.offset.top+this.offset.height?(this.applyPosition({top:-this.offset.height}),this.container.addRemoveClass("high",!0)):(this.applyPosition({top:t.top-t.height-this.offset.top+this.offset.height}),this.container.addRemoveClass("low",!0)),!0},applyHorizontalFlushPositioning:function(t,e){if(!this.initHorizontalPositioning())return!1;var n=this.getBoundingRect(this.container.node),r=this.getViewHeight();return this.container.floating?r/2>this.offset.top?(this.applyPosition({top:this.offset.top+this.offset.height/2}),this.container.addRemoveClass("high",!0)):(this.applyPosition({top:this.offset.top+this.offset.height/2-n.height}),this.container.addRemoveClass("low",!0)):n.top+n.height>r&&r-n.bottom<n.top-n.height?(this.applyPosition({top:n.top-n.height-this.offset.top-this.offset.height/2}),this.container.addRemoveClass("low",!0)):(this.applyPosition({top:this.offset.height/2}),this.container.addRemoveClass("high",!0)),t>this.offset.left+this.offset.width?(this.container.addClass("left"),this.container.addClass("corner"),!0):this.offset.left>e?(this.container.addClass("right"),this.container.addClass("corner"),!0):!1},getBoundingRect:function(t){var e=t.getBoundingClientRect();return e.width&&e.height?e:{left:e.left,right:e.right,top:e.top,bottom:e.bottom,width:e.right-e.left,height:e.bottom-e.top}},getViewHeight:function(){return void 0===window.innerHeight?document.documentElement.clientHeight:window.innerHeight},getViewWidth:function(){return void 0===window.innerWidth?document.documentElement.clientWidth:window.innerWidth},applyPosition:function(t){var e="";for(var n in t)e+=n+":"+t[n]+(isNaN(t[n])?"; ":"px; ");this.container.addStyles(e)},resetPositioning:function(){this.container.removeClass("right"),this.container.removeClass("left"),this.container.removeClass("high"),this.container.removeClass("low"),this.container.removeClass("corner"),this.container.removeClass("below"),this.container.removeClass("above"),this.container.removeClass("vertical"),this.container.removeClass("horizontal"),this.applyPosition({left:"auto"}),this.applyPosition({top:"auto"})},reflow:function(){this.offset=this.container.activatorOffset,this.adjustPosition()}})})(enyo,this);

// ../bower_components/layout/fittable/source/FittableLayout.js
(function(t){t.kind({name:"enyo.FittableLayout",kind:"Layout",noDefer:!0,constructor:t.inherit(function(e){return function(){e.apply(this,arguments),this.container.addRemoveClass("force-left-to-right",t.Control.prototype.rtl&&!this.container.get("rtl")),this.useFlex=t.FittableLayout.flexAvailable&&this.container.useFlex===!0,this.useFlex?this.container.addClass(this.flexLayoutClass):this.container.addClass(this.fitLayoutClass)}}),calcFitIndex:function(){var t,e,n=this.container.children;for(e=0;n.length>e;e++)if(t=n[e],t.fit&&t.showing)return e},getFitControl:function(){var t=this.container.children,e=t[this.fitIndex];return e&&e.fit&&e.showing||(this.fitIndex=this.calcFitIndex(),e=t[this.fitIndex]),e},shouldReverse:function(){return this.container.rtl&&"h"===this.orient},destroy:t.inherit(function(t){return function(){t.apply(this,arguments),this.container&&this.container.removeClass(this.useFlex?this.flexLayoutClass:this.fitLayoutClass)}}),getFirstChild:function(){var t=this.getShowingChildren();return this.shouldReverse()?t[t.length-1]:t[0]},getLastChild:function(){var t=this.getShowingChildren();return this.shouldReverse()?t[0]:t[t.length-1]},getShowingChildren:function(){for(var t=[],e=0,n=this.container.children,r=n.length;r>e;e++)n[e].showing&&t.push(n[e]);return t},_reflow:function(e,n,r,i){this.container.addRemoveClass("enyo-stretch",!this.container.noStretch);var o,s,a,l,u,c=this.getFitControl(),h=this.container.hasNode(),f=0,p=0,d=0;if(c&&h){if(o=t.dom.calcPaddingExtents(h),s=c.getBounds(),f=h[n]-(o[r]+o[i]),this.shouldReverse()){l=this.getFirstChild(),d=f-(s[r]+s[e]);var g=t.dom.getComputedBoxValue(l.hasNode(),"margin",r)||0;if(l==c)p=g;else{var y=l.getBounds(),x=y[r];p=s[r]+g-x}}else{a=this.getLastChild(),p=s[r]-(o[r]||0);var m=t.dom.getComputedBoxValue(a.hasNode(),"margin",i)||0;if(a==c)d=m;else{var v=a.getBounds(),b=s[r]+s[e],w=v[r]+v[e]+m;d=w-b}}u=f-(p+d),c.applyStyle(e,u+"px")}},flow:function(){if(this.useFlex){var t,e,n=this.container.children;for(this.container.addClass(this.flexLayoutClass),this.container.addRemoveClass("nostretch",this.container.noStretch),t=0;n.length>t;t++)e=n[t],e.addClass("enyo-flex-item"),e.addRemoveClass("flex",e.fit)}},reflow:function(){this.useFlex||("h"==this.orient?this._reflow("width","clientWidth","left","right"):this._reflow("height","clientHeight","top","bottom"))},statics:{flexAvailable:!1}}),t.kind({name:"enyo.FittableColumnsLayout",kind:"FittableLayout",orient:"h",fitLayoutClass:"enyo-fittable-columns-layout",flexLayoutClass:"enyo-flex-container columns"}),t.kind({name:"enyo.FittableRowsLayout",kind:"FittableLayout",fitLayoutClass:"enyo-fittable-rows-layout",orient:"v",flexLayoutClass:"enyo-flex-container rows"}),function(){var e=document.createElement("div");t.FittableLayout.flexAvailable=void 0!==e.style.flexBasis||void 0!==e.style.webkitFlexBasis||void 0!==e.style.mozFlexBasis||void 0!==e.style.msFlexBasis}()})(enyo,this);

// ../bower_components/layout/fittable/source/FittableRows.js
(function(t){t.kind({name:"enyo.FittableRows",layoutKind:"FittableRowsLayout",noStretch:!1})})(enyo,this);

// ../bower_components/layout/fittable/source/FittableColumns.js
(function(t){t.kind({name:"enyo.FittableColumns",layoutKind:"FittableColumnsLayout",noStretch:!1})})(enyo,this);

// ../bower_components/layout/fittable/source/FittableHeaderLayout.js
(function(t){t.kind({name:"enyo.FittableHeaderLayout",kind:"FittableColumnsLayout",applyFitSize:t.inherit(function(t){return function(e,n,r,i){var o=r-i,s=this.getFitControl();0>o?(s.applyStyle("padding-left",Math.abs(o)+"px"),s.applyStyle("padding-right",null)):o>0?(s.applyStyle("padding-left",null),s.applyStyle("padding-right",Math.abs(o)+"px")):(s.applyStyle("padding-left",null),s.applyStyle("padding-right",null)),t.apply(this,arguments)}})})})(enyo,this);

// ../bower_components/layout/list/source/FlyweightRepeater.js
(function(t){var e=t.HTMLStringDelegate,n=Object.create(e);n.generateInnerHtml=function(t){var n="";t.index=null;for(var r=0,i=0;t.count>r;r++)i=t.rowOffset+(this.bottomUp?t.count-r-1:r),t.setupItem(i),t.$.client.setAttribute("data-enyo-index",i),"h"==t.orient&&t.$.client.setStyle("display:inline-block;"),n+=e.generateChildHtml(t),t.$.client.teardownRender();return n},t.kind({name:"enyo.FlyweightRepeater",kind:"enyo.Control",published:{count:0,noSelect:!1,multiSelect:!1,toggleSelected:!1,clientClasses:"",clientStyle:"",rowOffset:0,orient:"v"},events:{onSetupItem:"",onRenderRow:""},bottomUp:!1,renderDelegate:n,components:[{kind:"Selection",onSelect:"selectDeselect",onDeselect:"selectDeselect"},{name:"client"}],create:t.inherit(function(t){return function(){t.apply(this,arguments),this.noSelectChanged(),this.multiSelectChanged(),this.clientClassesChanged(),this.clientStyleChanged()}}),noSelectChanged:function(){this.noSelect&&this.$.selection.clear()},multiSelectChanged:function(){this.$.selection.setMulti(this.multiSelect)},clientClassesChanged:function(){this.$.client.setClasses(this.clientClasses)},clientStyleChanged:function(){this.$.client.setStyle(this.clientStyle)},setupItem:function(t){this.doSetupItem({index:t,selected:this.isSelected(t)})},generateChildHtml:function(){return this.renderDelegate.generateInnerHtml(this)},previewDomEvent:function(t){var e=this.index=this.rowForEvent(t);t.rowIndex=t.index=e,t.flyweight=this},decorateEvent:t.inherit(function(t){return function(e,n){var r=n&&null!=n.index?n.index:this.index;n&&null!=r&&(n.index=r,n.flyweight=this),t.apply(this,arguments)}}),tap:function(t,e){this.noSelect||-1===e.index||(this.toggleSelected?this.$.selection.toggle(e.index):this.$.selection.select(e.index))},selectDeselect:function(t,e){this.renderRow(e.key)},getSelection:function(){return this.$.selection},isSelected:function(t){return this.getSelection().isSelected(t)},renderRow:function(e){if(!(this.rowOffset>e||e>=this.count+this.rowOffset)){this.setupItem(e);var n=this.fetchRowNode(e);if(n){var r=t.HTMLStringDelegate;t.dom.setInnerHtml(n,r.generateChildHtml(this.$.client)),this.$.client.teardownChildren(),this.doRenderRow({rowIndex:e})}}},fetchRowNode:function(t){return this.hasNode()?this.node.querySelector('[data-enyo-index="'+t+'"]'):void 0},rowForEvent:function(t){if(!this.hasNode())return-1;for(var e=t.target;e&&e!==this.node;){var n=e.getAttribute&&e.getAttribute("data-enyo-index");if(null!==n)return Number(n);e=e.parentNode}return-1},prepareRow:function(e){if(!(this.rowOffset>e||e>=this.count+this.rowOffset)){this.setupItem(e);var n=this.fetchRowNode(e);t.FlyweightRepeater.claimNode(this.$.client,n)}},lockRow:function(){this.$.client.teardownChildren()},performOnRow:function(e,n,r){this.rowOffset>e||e>=this.count+this.rowOffset||n&&(this.prepareRow(e),t.call(r||null,n),this.lockRow())},statics:{claimNode:function(t,e){var n;e&&(n=e.id!==t.id?e.querySelector("#"+t.id):e),t.generated=Boolean(n||!t.tag),t.node=n,t.node&&t.rendered();for(var r,i=0,o=t.children;r=o[i];i++)this.claimNode(r,e)}}})})(enyo,this);

// ../bower_components/layout/list/source/List.js
(function(t){t.kind({name:"enyo.List",kind:"Scroller",classes:"enyo-list",published:{count:0,rowsPerPage:50,orient:"v",bottomUp:!1,noSelect:!1,multiSelect:!1,toggleSelected:!1,fixedSize:!1,reorderable:!1,centerReorderContainer:!0,reorderComponents:[],pinnedReorderComponents:[],swipeableComponents:[],enableSwipe:!1,persistSwipeableItem:!1},events:{onSetupItem:"",onSetupReorderComponents:"",onSetupPinnedReorderComponents:"",onReorder:"",onSetupSwipeItem:"",onSwipeDrag:"",onSwipe:"",onSwipeComplete:""},handlers:{onAnimateFinish:"animateFinish",onRenderRow:"rowRendered",ondragstart:"dragstart",ondrag:"drag",ondragfinish:"dragfinish",onup:"up",onholdpulse:"holdpulse",onflick:"flick"},rowSize:0,listTools:[{name:"port",classes:"enyo-list-port enyo-border-box",components:[{name:"generator",kind:"FlyweightRepeater",canGenerate:!1,components:[{tag:null,name:"client"}]},{name:"holdingarea",allowHtml:!0,classes:"enyo-list-holdingarea"},{name:"page0",allowHtml:!0,classes:"enyo-list-page"},{name:"page1",allowHtml:!0,classes:"enyo-list-page"},{name:"placeholder",classes:"enyo-list-placeholder"},{name:"swipeableComponents",style:"position:absolute; display:block; top:-1000px; left:0;"}]}],reorderHoldTimeMS:600,draggingRowIndex:-1,initHoldCounter:3,holdCounter:3,holding:!1,placeholderRowIndex:-1,dragToScrollThreshold:.1,scrollDistance:0,prevScrollTop:0,autoScrollTimeoutMS:20,autoScrollTimeout:null,autoscrollPageY:0,pinnedReorderMode:!1,initialPinPosition:-1,itemMoved:!1,currentPageNumber:-1,completeReorderTimeout:null,swipeIndex:null,swipeDirection:null,persistentItemVisible:!1,persistentItemOrigin:null,swipeComplete:!1,completeSwipeTimeout:null,completeSwipeDelayMS:500,normalSwipeSpeedMS:200,fastSwipeSpeedMS:100,percentageDraggedThreshold:.2,importProps:t.inherit(function(t){return function(e){e&&e.reorderable&&(this.touch=!0),t.apply(this,arguments)}}),create:t.inherit(function(t){return function(){this.pageSizes=[],this.orientV="v"==this.orient,this.vertical=this.orientV?"default":"hidden",t.apply(this,arguments),this.$.generator.orient=this.orient,this.getStrategy().translateOptimized=!0,this.$.port.addRemoveClass("horizontal",!this.orientV),this.$.port.addRemoveClass("vertical",this.orientV),this.$.page0.addRemoveClass("vertical",this.orientV),this.$.page1.addRemoveClass("vertical",this.orientV),this.bottomUpChanged(),this.noSelectChanged(),this.multiSelectChanged(),this.toggleSelectedChanged(),this.$.generator.setRowOffset(0),this.$.generator.setCount(this.count)}}),initComponents:t.inherit(function(t){return function(){this.createReorderTools(),t.apply(this,arguments),this.createSwipeableComponents()}}),createReorderTools:function(){this.createComponent({name:"reorderContainer",classes:"enyo-list-reorder-container",ondown:"sendToStrategy",ondrag:"sendToStrategy",ondragstart:"sendToStrategy",ondragfinish:"sendToStrategy",onflick:"sendToStrategy"})},createStrategy:t.inherit(function(t){return function(){this.controlParentName="strategy",t.apply(this,arguments),this.createChrome(this.listTools),this.controlParentName="client",this.discoverControlParent()}}),createSwipeableComponents:function(){for(var t=0;this.swipeableComponents.length>t;t++)this.$.swipeableComponents.createComponent(this.swipeableComponents[t],{owner:this.owner})},rendered:t.inherit(function(t){return function(){t.apply(this,arguments),this.$.generator.node=this.$.port.hasNode(),this.$.generator.generated=!0,this.reset()}}),handleResize:t.inherit(function(t){return function(){t.apply(this,arguments),this.refresh()}}),bottomUpChanged:function(){this.$.generator.bottomUp=this.bottomUp,this.$.page0.applyStyle(this.pageBound,null),this.$.page1.applyStyle(this.pageBound,null),this.pageBound=this.orientV?this.bottomUp?"bottom":"top":this.rtl?this.bottomUp?"left":"right":this.bottomUp?"right":"left",!this.orientV&&this.bottomUp&&(this.$.page0.applyStyle("left","auto"),this.$.page1.applyStyle("left","auto")),this.hasNode()&&this.reset()},noSelectChanged:function(){this.$.generator.setNoSelect(this.noSelect)},multiSelectChanged:function(){this.$.generator.setMultiSelect(this.multiSelect)},toggleSelectedChanged:function(){this.$.generator.setToggleSelected(this.toggleSelected)},countChanged:function(){this.hasNode()&&this.updateMetrics()},sendToStrategy:function(t,e){this.$.strategy.dispatchEvent("on"+e.type,e,t)},updateMetrics:function(){this.defaultPageSize=this.rowsPerPage*(this.rowSize||100),this.pageCount=Math.ceil(this.count/this.rowsPerPage),this.portSize=0;for(var t=0;this.pageCount>t;t++)this.portSize+=this.getPageSize(t);this.adjustPortSize()},holdpulse:function(t,e){return this.getReorderable()&&!this.isReordering()?e.holdTime>=this.reorderHoldTimeMS&&this.shouldStartReordering(t,e)?(this.startReordering(e),!1):void 0:void 0},dragstart:function(t,e){return this.isReordering()?!0:this.isSwipeable()?this.swipeDragStart(t,e):void 0},drag:function(t,e){return this.shouldDoReorderDrag(e)?(e.preventDefault(),this.reorderDrag(e),!0):this.isSwipeable()?(e.preventDefault(),this.swipeDrag(t,e),!0):void 0},dragfinish:function(t,e){this.isReordering()?this.finishReordering(t,e):this.isSwipeable()&&this.swipeDragFinish(t,e)},up:function(t,e){this.isReordering()&&this.finishReordering(t,e)},generatePage:function(t,e){this.page=t;var n=this.rowsPerPage*this.page;this.$.generator.setRowOffset(n);var i=Math.min(this.count-n,this.rowsPerPage);this.$.generator.setCount(i);var r=this.$.generator.generateChildHtml();e.setContent(r),this.getReorderable()&&this.draggingRowIndex>-1&&this.hideReorderingRow();var o=e.getBounds(),s=this.orientV?o.height:o.width;if(!this.rowSize&&s>0&&(this.rowSize=Math.floor(s/i),this.updateMetrics()),!this.fixedSize){var a=this.getPageSize(t);a!=s&&s>0&&(this.pageSizes[t]=s,this.portSize+=s-a)}},pageForRow:function(t){return Math.floor(t/this.rowsPerPage)},update:function(t){var e=!1,n=this.positionToPageInfo(t),i=n.pos+this.scrollerSize/2,r=Math.floor(i/Math.max(n.size,this.scrollerSize)+.5)+n.no,o=0===r%2?r:r-1;this.p0!=o&&this.isPageInRange(o)&&(this.removedInitialPage=this.removedInitialPage||this.draggingRowPage==this.p0,this.generatePage(o,this.$.page0),this.positionPage(o,this.$.page0),this.p0=o,e=!0,this.p0RowBounds=this.getPageRowSizes(this.$.page0)),o=0===r%2?Math.max(1,r-1):r,this.p1!=o&&this.isPageInRange(o)&&(this.removedInitialPage=this.removedInitialPage||this.draggingRowPage==this.p1,this.generatePage(o,this.$.page1),this.positionPage(o,this.$.page1),this.p1=o,e=!0,this.p1RowBounds=this.getPageRowSizes(this.$.page1)),e&&(this.$.generator.setRowOffset(0),this.$.generator.setCount(this.count),this.fixedSize||(this.adjustBottomPage(),this.adjustPortSize()))},getPageRowSizes:function(e){for(var n,i,r={},o=e.hasNode().querySelectorAll("div[data-enyo-index]"),s=0;o.length>s;s++)n=o[s].getAttribute("data-enyo-index"),null!==n&&(i=t.dom.getBounds(o[s]),r[parseInt(n,10)]={height:i.height,width:i.width});return r},updateRowBounds:function(t){this.p0RowBounds[t]?this.updateRowBoundsAtIndex(t,this.p0RowBounds,this.$.page0):this.p1RowBounds[t]&&this.updateRowBoundsAtIndex(t,this.p1RowBounds,this.$.page1)},updateRowBoundsAtIndex:function(e,n,i){var r=i.hasNode().querySelector('div[data-enyo-index="'+e+'"]'),o=t.dom.getBounds(r);n[e].height=o.height,n[e].width=o.width},updateForPosition:function(t){this.update(this.calcPos(t))},calcPos:function(t){return this.bottomUp?this.portSize-this.scrollerSize-t:t},adjustBottomPage:function(){var t=this.p0>=this.p1?this.$.page0:this.$.page1;this.positionPage(t.pageNo,t)},adjustPortSize:function(){this.scrollerSize=this.orientV?this.getBounds().height:this.getBounds().width;var t=Math.max(this.scrollerSize,this.portSize);this.$.port.applyStyle(this.orientV?"height":"width",t+"px"),this.orientV||this.$.port.applyStyle("height",this.getBounds().height+"px")},positionPage:function(t,e){e.pageNo=t;var n=this.pageToPosition(t);e.applyStyle(this.pageBound,n+"px")},pageToPosition:function(t){for(var e=0;t>0;)t--,e+=this.getPageSize(t);return e},positionToPageInfo:function(t){for(var e=-1,n=this.calcPos(t),i=this.defaultPageSize;n>=0;)e++,i=this.getPageSize(e),n-=i;return e=Math.max(e,0),{no:e,size:i,pos:n+i,startRow:e*this.rowsPerPage,endRow:Math.min((e+1)*this.rowsPerPage-1,this.count-1)}},isPageInRange:function(t){return t==Math.max(0,Math.min(this.pageCount-1,t))},getPageSize:function(t){var e=this.pageSizes[t];if(!e){var n=this.rowsPerPage*t,i=Math.min(this.count-n,this.rowsPerPage);e=this.defaultPageSize*(i/this.rowsPerPage)}return Math.max(1,e)},invalidatePages:function(){this.p0=this.p1=null,this.p0RowBounds={},this.p1RowBounds={},this.$.page0.setContent(""),this.$.page1.setContent("")},invalidateMetrics:function(){this.pageSizes=[],this.rowSize=0,this.updateMetrics()},scroll:t.inherit(function(t){return function(e,n){var i=t.apply(this,arguments),r=this.orientV?this.getScrollTop():this.getScrollLeft();return this.lastPos===r?i:(this.lastPos=r,this.update(r),this.pinnedReorderMode&&this.reorderScroll(e,n),i)}}),setScrollTop:t.inherit(function(t){return function(e){this.update(e),t.apply(this,arguments),this.twiddle()}}),getScrollPosition:function(){return this.calcPos(this[this.orientV?"getScrollTop":"getScrollLeft"]())},setScrollPosition:function(t){this[this.orientV?"setScrollTop":"setScrollLeft"](this.calcPos(t))},scrollToBottom:t.inherit(function(t){return function(){this.update(this.getScrollBounds().maxTop),t.apply(this,arguments)}}),scrollToRow:function(t){var e=this.pageForRow(t),n=this.pageToPosition(e);if(this.updateForPosition(n),n=this.pageToPosition(e),this.setScrollPosition(n),e==this.p0||e==this.p1){var i=this.$.generator.fetchRowNode(t);if(i){var r=this.orientV?i.offsetTop:i.offsetLeft;this.bottomUp&&(r=this.getPageSize(e)-(this.orientV?i.offsetHeight:i.offsetWidth)-r);var o=this.getScrollPosition()+r;this.setScrollPosition(o)}}},scrollToStart:function(){this[this.bottomUp?this.orientV?"scrollToBottom":"scrollToRight":"scrollToTop"]()},scrollToEnd:function(){this[this.bottomUp?this.orientV?"scrollToTop":"scrollToLeft":this.orientV?"scrollToBottom":"scrollToRight"]()},refresh:function(){this.invalidatePages(),this.update(this[this.orientV?"getScrollTop":"getScrollLeft"]()),this.stabilize(),4===t.platform.android&&this.twiddle()},reset:function(){this.getSelection().clear(),this.invalidateMetrics(),this.invalidatePages(),this.stabilize(),this.scrollToStart()},getSelection:function(){return this.$.generator.getSelection()},select:function(t,e){return this.getSelection().select(t,e)},deselect:function(t){return this.getSelection().deselect(t)},isSelected:function(t){return this.$.generator.isSelected(t)},renderRow:function(t){this.$.generator.renderRow(t)},rowRendered:function(t,e){this.updateRowBounds(e.rowIndex)},prepareRow:function(t){this.$.generator.prepareRow(t)},lockRow:function(){this.$.generator.lockRow()},performOnRow:function(t,e,n){this.$.generator.performOnRow(t,e,n)},animateFinish:function(){return this.twiddle(),!0},twiddle:function(){var e=this.getStrategy();t.call(e,"twiddle")},pageForPageNumber:function(t,e){return 0===t%2?e&&t!==this.p0?null:this.$.page0:e&&t!==this.p1?null:this.$.page1},shouldStartReordering:function(t,e){return!this.getReorderable()||null==e.rowIndex||0>e.rowIndex||this.pinnedReorderMode||null==e.index||0>e.index?!1:!0},startReordering:function(t){this.$.strategy.listReordering=!0,this.buildReorderContainer(),this.doSetupReorderComponents({index:t.index}),this.styleReorderContainer(t),this.draggingRowIndex=this.placeholderRowIndex=t.rowIndex,this.draggingRowPage=this.pageForRow(this.draggingRowIndex),this.removeDraggingRowNode=t.dispatchTarget.retainNode(t.target),this.removedInitialPage=!1,this.itemMoved=!1,this.initialPageNumber=this.currentPageNumber=this.pageForRow(t.rowIndex),this.prevScrollTop=this.getScrollTop(),this.replaceNodeWithPlaceholder(t.rowIndex)},buildReorderContainer:function(){this.$.reorderContainer.destroyClientControls();for(var t=0;this.reorderComponents.length>t;t++)this.$.reorderContainer.createComponent(this.reorderComponents[t],{owner:this.owner});this.$.reorderContainer.render()},styleReorderContainer:function(t){this.setItemPosition(this.$.reorderContainer,t.rowIndex),this.setItemBounds(this.$.reorderContainer,t.rowIndex),this.$.reorderContainer.setShowing(!0),this.centerReorderContainer&&this.centerReorderContainerOnPointer(t)},appendNodeToReorderContainer:function(t){this.$.reorderContainer.createComponent({allowHtml:!0,content:t.innerHTML}).render()},centerReorderContainerOnPointer:function(e){var n=t.dom.calcNodePosition(this.hasNode()),i=this.$.reorderContainer.getBounds(),r=e.pageX-n.left-parseInt(i.width,10)/2,o=e.pageY-n.top+this.getScrollTop()-parseInt(i.height,10)/2;"ScrollStrategy"!=this.getStrategyKind()&&(r-=this.getScrollLeft(),o-=this.getScrollTop()),this.positionReorderContainer(r,o)},positionReorderContainer:function(t,e){this.$.reorderContainer.addClass("enyo-animatedTopAndLeft"),this.$.reorderContainer.addStyles("left:"+t+"px;top:"+e+"px;"),this.setPositionReorderContainerTimeout()},setPositionReorderContainerTimeout:function(){this.clearPositionReorderContainerTimeout(),this.positionReorderContainerTimeout=setTimeout(this.bindSafely(function(){this.$.reorderContainer.removeClass("enyo-animatedTopAndLeft"),this.clearPositionReorderContainerTimeout()}),100)},clearPositionReorderContainerTimeout:function(){this.positionReorderContainerTimeout&&(clearTimeout(this.positionReorderContainerTimeout),this.positionReorderContainerTimeout=null)},shouldDoReorderDrag:function(){return!this.getReorderable()||0>this.draggingRowIndex||this.pinnedReorderMode?!1:!0},reorderDrag:function(t){this.positionReorderNode(t),this.checkForAutoScroll(t),this.updatePlaceholderPosition(t.pageY)},updatePlaceholderPosition:function(t){var e=this.getRowIndexFromCoordinate(t);-1!==e&&(e>=this.placeholderRowIndex?this.movePlaceholderToIndex(Math.min(this.count,e+1)):this.movePlaceholderToIndex(e))},positionReorderNode:function(t){var e=this.$.reorderContainer.getBounds(),n=e.left+t.ddx,i=e.top+t.ddy;i="ScrollStrategy"==this.getStrategyKind()?i+(this.getScrollTop()-this.prevScrollTop):i,this.$.reorderContainer.addStyles("top: "+i+"px ; left: "+n+"px"),this.prevScrollTop=this.getScrollTop()},checkForAutoScroll:function(e){var n,i=t.dom.calcNodePosition(this.hasNode()),r=this.getBounds();this.autoscrollPageY=e.pageY,e.pageY-i.top<r.height*this.dragToScrollThreshold?(n=100*(1-(e.pageY-i.top)/(r.height*this.dragToScrollThreshold)),this.scrollDistance=-1*n):e.pageY-i.top>r.height*(1-this.dragToScrollThreshold)?(n=100*((e.pageY-i.top-r.height*(1-this.dragToScrollThreshold))/(r.height-r.height*(1-this.dragToScrollThreshold))),this.scrollDistance=1*n):this.scrollDistance=0,0===this.scrollDistance?this.stopAutoScrolling():this.autoScrollTimeout||this.startAutoScrolling()},stopAutoScrolling:function(){this.autoScrollTimeout&&(clearTimeout(this.autoScrollTimeout),this.autoScrollTimeout=null)},startAutoScrolling:function(){this.autoScrollTimeout=setInterval(this.bindSafely(this.autoScroll),this.autoScrollTimeoutMS)},autoScroll:function(){0===this.scrollDistance?this.stopAutoScrolling():this.autoScrollTimeout||this.startAutoScrolling(),this.setScrollPosition(this.getScrollPosition()+this.scrollDistance),this.positionReorderNode({ddx:0,ddy:0}),this.updatePlaceholderPosition(this.autoscrollPageY)},movePlaceholderToIndex:function(t){var e,n;if(!(0>t)){t>=this.count?(e=null,n=this.pageForPageNumber(this.pageForRow(this.count-1)).hasNode()):(e=this.$.generator.fetchRowNode(t),n=e.parentNode);var i=this.pageForRow(t);i>=this.pageCount&&(i=this.currentPageNumber),n.insertBefore(this.placeholderNode,e),this.currentPageNumber!==i&&(this.updatePageSize(this.currentPageNumber),this.updatePageSize(i),this.updatePagePositions(i)),this.placeholderRowIndex=t,this.currentPageNumber=i,this.itemMoved=!0}},finishReordering:function(t,e){return!this.isReordering()||this.pinnedReorderMode||this.completeReorderTimeout?void 0:(this.stopAutoScrolling(),this.$.strategy.listReordering=!1,this.moveReorderedContainerToDroppedPosition(e),this.completeReorderTimeout=setTimeout(this.bindSafely(this.completeFinishReordering,e),100),e.preventDefault(),!0)},moveReorderedContainerToDroppedPosition:function(){var t=this.getRelativeOffset(this.placeholderNode,this.hasNode()),e="ScrollStrategy"==this.getStrategyKind()?t.top:t.top-this.getScrollTop(),n=t.left-this.getScrollLeft();this.positionReorderContainer(n,e)},completeFinishReordering:function(t){return this.completeReorderTimeout=null,this.placeholderRowIndex>this.draggingRowIndex&&(this.placeholderRowIndex=Math.max(0,this.placeholderRowIndex-1)),this.draggingRowIndex!=this.placeholderRowIndex||!this.pinnedReorderComponents.length||this.pinnedReorderMode||this.itemMoved?(this.removeDraggingRowNode(),this.removePlaceholderNode(),this.emptyAndHideReorderContainer(),this.pinnedReorderMode=!1,this.reorderRows(t),this.draggingRowIndex=this.placeholderRowIndex=-1,this.refresh(),void 0):(this.beginPinnedReorder(t),void 0)},beginPinnedReorder:function(e){this.buildPinnedReorderContainer(),this.doSetupPinnedReorderComponents(t.mixin(e,{index:this.draggingRowIndex})),this.pinnedReorderMode=!0,this.initialPinPosition=e.pageY},emptyAndHideReorderContainer:function(){this.$.reorderContainer.destroyComponents(),this.$.reorderContainer.setShowing(!1)},buildPinnedReorderContainer:function(){this.$.reorderContainer.destroyClientControls();for(var t=0;this.pinnedReorderComponents.length>t;t++)this.$.reorderContainer.createComponent(this.pinnedReorderComponents[t],{owner:this.owner});this.$.reorderContainer.render()},reorderRows:function(t){this.doReorder(this.makeReorderEvent(t)),this.positionReorderedNode(),this.updateListIndices()},makeReorderEvent:function(t){return t.reorderFrom=this.draggingRowIndex,t.reorderTo=this.placeholderRowIndex,t},positionReorderedNode:function(){if(!this.removedInitialPage){var t=this.$.generator.fetchRowNode(this.placeholderRowIndex);if(t&&(t.parentNode.insertBefore(this.hiddenNode,t),this.showNode(this.hiddenNode)),this.hiddenNode=null,this.currentPageNumber!=this.initialPageNumber){var e,n,i=this.pageForPageNumber(this.currentPageNumber),r=this.pageForPageNumber(this.currentPageNumber+1);this.initialPageNumber<this.currentPageNumber?(e=i.hasNode().firstChild,r.hasNode().appendChild(e)):(e=i.hasNode().lastChild,n=r.hasNode().firstChild,r.hasNode().insertBefore(e,n)),this.correctPageSizes(),this.updatePagePositions(this.initialPageNumber)}}},updateListIndices:function(){if(this.shouldDoRefresh())return this.refresh(),this.correctPageSizes(),void 0;var t,e,n,i,r=Math.min(this.draggingRowIndex,this.placeholderRowIndex),o=Math.max(this.draggingRowIndex,this.placeholderRowIndex),s=this.draggingRowIndex-this.placeholderRowIndex>0?1:-1;if(1===s){for(t=this.$.generator.fetchRowNode(this.draggingRowIndex),t&&t.setAttribute("data-enyo-index","reordered"),e=o-1,n=o;e>=r;e--)t=this.$.generator.fetchRowNode(e),t&&(i=parseInt(t.getAttribute("data-enyo-index"),10),n=i+1,t.setAttribute("data-enyo-index",n));t=this.hasNode().querySelector('[data-enyo-index="reordered"]'),t.setAttribute("data-enyo-index",this.placeholderRowIndex)}else for(t=this.$.generator.fetchRowNode(this.draggingRowIndex),t&&t.setAttribute("data-enyo-index",this.placeholderRowIndex),e=r+1,n=r;o>=e;e++)t=this.$.generator.fetchRowNode(e),t&&(i=parseInt(t.getAttribute("data-enyo-index"),10),n=i-1,t.setAttribute("data-enyo-index",n))},shouldDoRefresh:function(){return Math.abs(this.initialPageNumber-this.currentPageNumber)>1},getNodeStyle:function(e){var n=this.$.generator.fetchRowNode(e);if(n){var i=this.getRelativeOffset(n,this.hasNode()),r=t.dom.getBounds(n);return{h:r.height,w:r.width,left:i.left,top:i.top}}},getRelativeOffset:function(t,e){var n={top:0,left:0};if(t!==e&&t.parentNode)do n.top+=t.offsetTop||0,n.left+=t.offsetLeft||0,t=t.offsetParent;while(t&&t!==e);return n},replaceNodeWithPlaceholder:function(e){var n=this.$.generator.fetchRowNode(e);if(!n)return t.log("No node - "+e),void 0;this.placeholderNode=this.createPlaceholderNode(n),this.hiddenNode=this.hideNode(n);var i=this.pageForPageNumber(this.currentPageNumber);i.hasNode().insertBefore(this.placeholderNode,this.hiddenNode)},createPlaceholderNode:function(e){var n=this.$.placeholder.hasNode().cloneNode(!0),i=t.dom.getBounds(e);return n.style.height=i.height+"px",n.style.width=i.width+"px",n},removePlaceholderNode:function(){this.removeNode(this.placeholderNode),this.placeholderNode=null},removeNode:function(t){t&&t.parentNode&&t.parentNode.removeChild(t)},updatePageSize:function(t){if(!(0>t)){var e=this.pageForPageNumber(t,!0);if(e){var n=this.pageSizes[t],i=Math.max(1,e.getBounds().height);this.pageSizes[t]=i,this.portSize+=i-n}}},updatePagePositions:function(t){this.positionPage(this.currentPageNumber,this.pageForPageNumber(this.currentPageNumber)),this.positionPage(t,this.pageForPageNumber(t))},correctPageSizes:function(){var t=this.initialPageNumber%2;this.updatePageSize(this.currentPageNumber,this.$["page"+this.currentPage]),t!=this.currentPageNumber&&this.updatePageSize(this.initialPageNumber,this.$["page"+t])},hideNode:function(t){return t.style.display="none",t},showNode:function(t){return t.style.display="block",t},dropPinnedRow:function(t){this.moveReorderedContainerToDroppedPosition(t),this.completeReorderTimeout=setTimeout(this.bindSafely(this.completeFinishReordering,t),100)},cancelPinnedMode:function(t){this.placeholderRowIndex=this.draggingRowIndex,this.dropPinnedRow(t)},getRowIndexFromCoordinate:function(e){var n=this.getScrollTop()+e-t.dom.calcNodePosition(this.hasNode()).top;if(0>n)return-1;var i=this.positionToPageInfo(n),r=i.no==this.p0?this.p0RowBounds:this.p1RowBounds;if(!r)return this.count;for(var o=i.pos,s=this.placeholderNode?t.dom.getBounds(this.placeholderNode).height:0,a=0,l=i.startRow;i.endRow>=l;++l){if(l===this.placeholderRowIndex&&(a+=s,a>=o))return-1;if(l!==this.draggingRowIndex&&(a+=r[l].height,a>=o))return l}return l},getIndexPosition:function(e){return t.dom.calcNodePosition(this.$.generator.fetchRowNode(e))},setItemPosition:function(t,e){var n=this.getNodeStyle(e),i="ScrollStrategy"==this.getStrategyKind()?n.top:n.top-this.getScrollTop(),r="top:"+i+"px; left:"+n.left+"px;";t.addStyles(r)},setItemBounds:function(t,e){var n=this.getNodeStyle(e),i="width:"+n.w+"px; height:"+n.h+"px;";t.addStyles(i)},reorderScroll:function(){"ScrollStrategy"==this.getStrategyKind()&&this.$.reorderContainer.addStyles("top:"+(this.initialPinPosition+this.getScrollTop()-this.rowSize)+"px;"),this.updatePlaceholderPosition(this.initialPinPosition)},hideReorderingRow:function(){var t=this.hasNode().querySelector('[data-enyo-index="'+this.draggingRowIndex+'"]');t&&(this.hiddenNode=this.hideNode(t))},isReordering:function(){return this.draggingRowIndex>-1},isSwiping:function(){return null!=this.swipeIndex&&!this.swipeComplete&&null!=this.swipeDirection},swipeDragStart:function(t,e){return null==e.index||e.vertical?!0:(this.completeSwipeTimeout&&this.completeSwipe(e),this.swipeComplete=!1,this.swipeIndex!=e.index&&(this.clearSwipeables(),this.swipeIndex=e.index),this.swipeDirection=e.xDirection,this.persistentItemVisible||this.startSwipe(e),this.draggedXDistance=0,this.draggedYDistance=0,!0)},swipeDrag:function(t,e){return this.persistentItemVisible?(this.dragPersistentItem(e),this.preventDragPropagation):this.isSwiping()?(this.dragSwipeableComponents(this.calcNewDragPosition(e.ddx)),this.draggedXDistance=e.dx,this.draggedYDistance=e.dy,e.xDirection!=this.lastSwipeDirection&&e.xDirection&&(this.lastSwipeDirection=e.xDirection),!0):!1},swipeDragFinish:function(t,e){if(this.persistentItemVisible)this.dragFinishPersistentItem(e);else{if(!this.isSwiping())return!1;var n=this.calcPercentageDragged(this.draggedXDistance);n>this.percentageDraggedThreshold&&this.lastSwipeDirection===this.swipeDirection?this.swipe(this.fastSwipeSpeedMS):this.backOutSwipe(e)}return this.preventDragPropagation},isSwipeable:function(){return this.enableSwipe&&0!==this.$.swipeableComponents.controls.length&&!this.isReordering()&&!this.pinnedReorderMode},positionSwipeableContainer:function(e,n){var i=this.$.generator.fetchRowNode(e);if(i){var r=this.getRelativeOffset(i,this.hasNode()),o=t.dom.getBounds(i),s=1==n?-1*o.width:o.width;this.$.swipeableComponents.addStyles("top: "+r.top+"px; left: "+s+"px; height: "+o.height+"px; width: "+o.width+"px;")}},calcNewDragPosition:function(t){var e=this.$.swipeableComponents.getBounds(),n=e.left,i=this.$.swipeableComponents.getBounds(),r=1==this.swipeDirection?0:-1*i.width,o=1==this.swipeDirection?n+t>r?r:n+t:r>n+t?r:n+t;return o},dragSwipeableComponents:function(t){this.$.swipeableComponents.applyStyle("left",t+"px")},startSwipe:function(t){t.index=this.swipeIndex,this.positionSwipeableContainer(this.swipeIndex,t.xDirection),this.$.swipeableComponents.setShowing(!0),this.setPersistentItemOrigin(t.xDirection),this.doSetupSwipeItem(t)},dragPersistentItem:function(t){var e=0,n="right"==this.persistentItemOrigin?Math.max(e,e+t.dx):Math.min(e,e+t.dx);this.$.swipeableComponents.applyStyle("left",n+"px")},dragFinishPersistentItem:function(t){var e=this.calcPercentageDragged(t.dx)>.2,n=t.dx>0?"right":0>t.dx?"left":null;this.persistentItemOrigin==n?e?this.slideAwayItem():this.bounceItem(t):this.bounceItem(t)},setPersistentItemOrigin:function(t){this.persistentItemOrigin=1==t?"left":"right"},calcPercentageDragged:function(t){return Math.abs(t/this.$.swipeableComponents.getBounds().width)},swipe:function(t){this.swipeComplete=!0,this.animateSwipe(0,t)},backOutSwipe:function(){var t=this.$.swipeableComponents.getBounds(),e=1==this.swipeDirection?-1*t.width:t.width;this.animateSwipe(e,this.fastSwipeSpeedMS),this.swipeDirection=null},bounceItem:function(){var t=this.$.swipeableComponents.getBounds();t.left!=t.width&&this.animateSwipe(0,this.normalSwipeSpeedMS)},slideAwayItem:function(){var t=this.$.swipeableComponents,e=t.getBounds().width,n="left"==this.persistentItemOrigin?-1*e:e;this.animateSwipe(n,this.normalSwipeSpeedMS),this.persistentItemVisible=!1,this.setPersistSwipeableItem(!1)},clearSwipeables:function(){this.$.swipeableComponents.setShowing(!1),this.persistentItemVisible=!1,this.setPersistSwipeableItem(!1)},completeSwipe:function(){this.completeSwipeTimeout&&(clearTimeout(this.completeSwipeTimeout),this.completeSwipeTimeout=null),this.getPersistSwipeableItem()?this.swipeComplete&&(this.persistentItemVisible=!0):(this.$.swipeableComponents.setShowing(!1),this.swipeComplete&&this.doSwipeComplete({index:this.swipeIndex,xDirection:this.swipeDirection})),this.swipeIndex=null,this.swipeDirection=null},animateSwipe:function(e,n){var i=t.now(),r=this.$.swipeableComponents,o=parseInt(r.getBounds().left,10),s=e-o;this.stopAnimateSwipe();var a=this.bindSafely(function(){var e=t.now()-i,l=e/n,h=o+s*Math.min(l,1);r.applyStyle("left",h+"px"),this.job=t.requestAnimationFrame(a),e/n>=1&&(this.stopAnimateSwipe(),this.completeSwipeTimeout=setTimeout(this.bindSafely(function(){this.completeSwipe()}),this.completeSwipeDelayMS))});this.job=t.requestAnimationFrame(a)},stopAnimateSwipe:function(){this.job&&(this.job=t.cancelRequestAnimationFrame(this.job))}})})(enyo,this);

// ../bower_components/layout/list/source/PulldownList.js
(function(t){t.kind({name:"enyo.PulldownList",kind:"List",touch:!0,pully:null,pulldownTools:[{name:"pulldown",classes:"enyo-list-pulldown",components:[{name:"puller",kind:"Puller"}]}],events:{onPullStart:"",onPullCancel:"",onPull:"",onPullRelease:"",onPullComplete:""},handlers:{onScrollStart:"scrollStartHandler",onScrollStop:"scrollStopHandler",ondragfinish:"dragfinish"},pullingMessage:"Pull down to refresh...",pulledMessage:"Release to refresh...",loadingMessage:"Loading...",pullingIconClass:"enyo-puller-arrow enyo-puller-arrow-down",pulledIconClass:"enyo-puller-arrow enyo-puller-arrow-up",loadingIconClass:"",create:t.inherit(function(t){return function(){var e={kind:"Puller",showing:!1,text:this.loadingMessage,iconClass:this.loadingIconClass,onCreate:"setPully"};this.listTools.splice(0,0,e),t.apply(this,arguments),this.setPulling()}}),initComponents:t.inherit(function(e){return function(){this.createChrome(this.pulldownTools),this.accel=t.dom.canAccelerate(),this.translation=this.accel?"translate3d":"translate",this.strategyKind=this.resetStrategyKind(),e.apply(this,arguments)}}),resetStrategyKind:function(){return t.platform.android>=3?"TranslateScrollStrategy":"TouchScrollStrategy"},setPully:function(t,e){this.pully=e.originator},scrollStartHandler:function(){this.firedPullStart=!1,this.firedPull=!1,this.firedPullCancel=!1},scroll:t.inherit(function(e){return function(){var n=e.apply(this,arguments);this.completingPull&&this.pully.setShowing(!1);var i=this.getStrategy().$.scrollMath||this.getStrategy(),r=-1*this.getScrollTop();return i.isInOverScroll()&&r>0&&(t.dom.transformValue(this.$.pulldown,this.translation,"0,"+r+"px"+(this.accel?",0":"")),this.firedPullStart||(this.firedPullStart=!0,this.pullStart(),this.pullHeight=this.$.pulldown.getBounds().height),r>this.pullHeight&&!this.firedPull&&(this.firedPull=!0,this.firedPullCancel=!1,this.pull()),this.firedPull&&!this.firedPullCancel&&this.pullHeight>r&&(this.firedPullCancel=!0,this.firedPull=!1,this.pullCancel())),n}}),scrollStopHandler:function(){this.completingPull&&(this.completingPull=!1,this.doPullComplete())},dragfinish:function(){if(this.firedPull){var t=this.getStrategy().$.scrollMath||this.getStrategy();t.setScrollY(-1*this.getScrollTop()-this.pullHeight),this.pullRelease()}},completePull:function(){this.completingPull=!0;var t=this.getStrategy().$.scrollMath||this.getStrategy();t.setScrollY(this.pullHeight),t.start()},pullStart:function(){this.setPulling(),this.pully.setShowing(!1),this.$.puller.setShowing(!0),this.doPullStart()},pull:function(){this.setPulled(),this.doPull()},pullCancel:function(){this.setPulling(),this.doPullCancel()},pullRelease:function(){this.$.puller.setShowing(!1),this.pully.setShowing(!0),this.doPullRelease()},setPulling:function(){this.$.puller.setText(this.pullingMessage),this.$.puller.setIconClass(this.pullingIconClass)},setPulled:function(){this.$.puller.setText(this.pulledMessage),this.$.puller.setIconClass(this.pulledIconClass)}}),t.kind({name:"enyo.Puller",kind:"enyo.Control",classes:"enyo-puller",published:{text:"",iconClass:""},events:{onCreate:""},components:[{name:"icon"},{name:"text",tag:"span",classes:"enyo-puller-text"}],create:t.inherit(function(t){return function(){t.apply(this,arguments),this.doCreate(),this.textChanged(),this.iconClassChanged()}}),textChanged:function(){this.$.text.setContent(this.text)},iconClassChanged:function(){this.$.icon.setClasses(this.iconClass)}})})(enyo,this);

// ../bower_components/layout/list/source/AroundList.js
(function(t){t.kind({name:"enyo.AroundList",kind:"enyo.List",listTools:[{name:"port",classes:"enyo-list-port enyo-border-box",components:[{name:"aboveClient"},{name:"generator",kind:"FlyweightRepeater",canGenerate:!1,components:[{tag:null,name:"client"}]},{name:"holdingarea",allowHtml:!0,classes:"enyo-list-holdingarea"},{name:"page0",allowHtml:!0,classes:"enyo-list-page"},{name:"page1",allowHtml:!0,classes:"enyo-list-page"},{name:"belowClient"},{name:"placeholder"},{name:"swipeableComponents",style:"position:absolute; display:block; top:-1000px; left:0px;"}]}],aboveComponents:null,belowComponents:null,initComponents:t.inherit(function(t){return function(){t.apply(this,arguments),this.aboveComponents&&this.$.aboveClient.createComponents(this.aboveComponents,{owner:this.owner}),this.belowComponents&&this.$.belowClient.createComponents(this.belowComponents,{owner:this.owner})}}),updateMetrics:function(){this.defaultPageSize=this.rowsPerPage*(this.rowSize||100),this.pageCount=Math.ceil(this.count/this.rowsPerPage),this.aboveHeight=this.$.aboveClient.getBounds().height,this.belowHeight=this.$.belowClient.getBounds().height,this.portSize=this.aboveHeight+this.belowHeight;for(var t=0;this.pageCount>t;t++)this.portSize+=this.getPageSize(t);this.adjustPortSize()},positionPage:function(t,e){e.pageNo=t;var n=this.pageToPosition(t),i=this.bottomUp?this.belowHeight:this.aboveHeight;n+=i,e.applyStyle(this.pageBound,n+"px")},scrollToContentStart:function(){var t=this.bottomUp?this.belowHeight:this.aboveHeight;this.setScrollPosition(t)}})})(enyo,this);

// ../bower_components/layout/list/source/GridListImageItem.js
(function(t){t.kind({name:"enyo.GridListImageItem",classes:"enyo-gridlist-imageitem",components:[{name:"image",kind:"enyo.Image",classes:"image"},{name:"caption",classes:"caption"},{name:"subCaption",classes:"sub-caption"}],published:{source:"",caption:"",subCaption:"",selected:!1,centered:!0,imageSizing:"",useCaption:!0,useSubCaption:!0},bindings:[{from:".source",to:".$.image.src"},{from:".caption",to:".$.caption.content"},{from:".caption",to:".$.caption.showing",kind:"enyo.EmptyBinding"},{from:".subCaption",to:".$.subCaption.content"},{from:".subCaption",to:".$.subCaption.showing",kind:"enyo.EmptyBinding"}],create:t.inherit(function(t){return function(){t.apply(this,arguments),this.selectedChanged(),this.imageSizingChanged(),this.centeredChanged()}}),selectedChanged:function(){this.addRemoveClass("selected",this.selected)},disabledChanged:function(){this.addRemoveClass("disabled",this.disabled)},imageSizingChanged:function(){this.$.image.setSizing(this.imageSizing),this.addRemoveClass("sized-image",!!this.imageSizing),this.imageSizing&&(this.useCaptionChanged(),this.useSubCaptionChanged())},useCaptionChanged:function(){this.addRemoveClass("use-caption",this.useCaption)},useSubCaptionChanged:function(){this.addRemoveClass("use-subcaption",this.useSubCaption)},centeredChanged:function(){this.addRemoveClass("centered",this.centered)}})})(enyo,this);

// ../bower_components/layout/slideable/source/Slideable.js
(function(t){t.kind({name:"enyo.Slideable",kind:"Control",published:{axis:"h",value:0,unit:"px",min:0,max:0,accelerated:"auto",overMoving:!0,draggable:!0},events:{onAnimateFinish:"",onChange:""},preventDragPropagation:!1,tools:[{kind:"Animator",onStep:"animatorStep",onEnd:"animatorComplete"}],handlers:{ondragstart:"dragstart",ondrag:"drag",ondragfinish:"dragfinish"},kDragScalar:1,dragEventProp:"dx",unitModifier:!1,canTransform:!1,dragMoveProp:"dx",shouldDragProp:"horizontal",transform:"translateX",dimension:"width",boundary:"left",create:t.inherit(function(t){return function(){t.apply(this,arguments),this.acceleratedChanged(),this.transformChanged(),this.axisChanged(),this.valueChanged(),this.addClass("enyo-slideable")}}),initComponents:t.inherit(function(t){return function(){this.createComponents(this.tools),t.apply(this,arguments)}}),rendered:t.inherit(function(t){return function(){t.apply(this,arguments),this.canModifyUnit(),this.updateDragScalar()}}),handleResize:t.inherit(function(t){return function(){t.apply(this,arguments),this.updateDragScalar()}}),canModifyUnit:function(){if(!this.canTransform){var t=this.getInitialStyleValue(this.hasNode(),this.boundary);t.match(/px/i)&&"%"===this.unit&&(this.unitModifier=this.getBounds()[this.dimension])}},getInitialStyleValue:function(e,n){var i=t.dom.getComputedStyle(e);return i?i.getPropertyValue(n):e&&e.currentStyle?e.currentStyle[n]:"0"},updateBounds:function(t,e){var n={};n[this.boundary]=t,this.setBounds(n,this.unit),this.setInlineStyles(t,e)},updateDragScalar:function(){if("%"==this.unit){var t=this.getBounds()[this.dimension];this.kDragScalar=t?100/t:1,this.canTransform||this.updateBounds(this.value,100)}},transformChanged:function(){this.canTransform=t.dom.canTransform()},acceleratedChanged:function(){(!t.platform.android||2>=t.platform.android)&&t.dom.accelerate(this,this.accelerated)},axisChanged:function(){var t="h"==this.axis;this.dragMoveProp=t?"dx":"dy",this.shouldDragProp=t?"horizontal":"vertical",this.transform=t?"translateX":"translateY",this.dimension=t?"width":"height",this.boundary=t?"left":"top"},setInlineStyles:function(t,e){var n={};this.unitModifier?(n[this.boundary]=this.percentToPixels(t,this.unitModifier),n[this.dimension]=this.unitModifier,this.setBounds(n)):(e?n[this.dimension]=e:n[this.boundary]=t,this.setBounds(n,this.unit))},valueChanged:function(e){var n=this.value;this.isOob(n)&&!this.isAnimating()&&(this.value=this.overMoving?this.dampValue(n):this.clampValue(n)),t.platform.android>2&&(this.value?(0===e||void 0===e)&&t.dom.accelerate(this,this.accelerated):t.dom.accelerate(this,!1)),this.canTransform?t.dom.transformValue(this,this.transform,this.value+this.unit):this.setInlineStyles(this.value,!1),this.doChange()},getAnimator:function(){return this.$.animator},isAtMin:function(){return this.value<=this.calcMin()},isAtMax:function(){return this.value>=this.calcMax()},calcMin:function(){return this.min},calcMax:function(){return this.max},clampValue:function(t){var e=this.calcMin(),n=this.calcMax();return Math.max(e,Math.min(t,n))},dampValue:function(t){return this.dampBound(this.dampBound(t,this.min,1),this.max,-1)},dampBound:function(t,e,n){var i=t;return e*n>i*n&&(i=e+(i-e)/4),i},percentToPixels:function(t,e){return Math.floor(e/100*t)},pixelsToPercent:function(t){var e=this.unitModifier?this.getBounds()[this.dimension]:this.container.getBounds()[this.dimension];return 100*(t/e)},shouldDrag:function(t){return this.draggable&&t[this.shouldDragProp]},isOob:function(t){return t>this.calcMax()||this.calcMin()>t},dragstart:function(t,e){return this.shouldDrag(e)?(e.preventDefault(),this.$.animator.stop(),e.dragInfo={},this.dragging=!0,this.drag0=this.value,this.dragd0=0,this.preventDragPropagation):void 0},drag:function(t,e){if(this.dragging){e.preventDefault();var n=this.canTransform?e[this.dragMoveProp]*this.kDragScalar:this.pixelsToPercent(e[this.dragMoveProp]),i=this.drag0+n,r=n-this.dragd0;return this.dragd0=n,r&&(e.dragInfo.minimizing=0>r),this.setValue(i),this.preventDragPropagation}},dragfinish:function(t,e){return this.dragging?(this.dragging=!1,this.completeDrag(e),e.preventTap(),this.preventDragPropagation):void 0},completeDrag:function(t){this.value!==this.calcMax()&&this.value!=this.calcMin()&&this.animateToMinMax(t.dragInfo.minimizing)},isAnimating:function(){return this.$.animator.isAnimating()},play:function(t,e){this.$.animator.play({startValue:t,endValue:e,node:this.hasNode()})},animateTo:function(t){this.play(this.value,t)},animateToMin:function(){this.animateTo(this.calcMin())},animateToMax:function(){this.animateTo(this.calcMax())},animateToMinMax:function(t){t?this.animateToMin():this.animateToMax()},animatorStep:function(t){return this.setValue(t.value),!0},animatorComplete:function(t){return this.doAnimateFinish(t),!0},toggleMinMax:function(){this.animateToMinMax(!this.isAtMin())}})})(enyo,this);

// ../bower_components/layout/panels/source/arrangers/Arranger.js
(function(t){t.kind({name:"enyo.Arranger",kind:"Layout",layoutClass:"enyo-arranger",accelerated:"auto",dragProp:"ddx",dragDirectionProp:"xDirection",canDragProp:"horizontal",incrementalPoints:!1,destroy:t.inherit(function(t){return function(){for(var e,n=this.container.getPanels(),i=0;e=n[i];i++)e._arranger=null;t.apply(this,arguments)}}),arrange:function(){},size:function(){},start:function(){var t=this.container.fromIndex,e=this.container.toIndex,n=this.container.transitionPoints=[t];if(this.incrementalPoints)for(var i=Math.abs(e-t)-2,r=t;i>=0;)r+=t>e?-1:1,n.push(r),i--;n.push(this.container.toIndex)},finish:function(){},calcArrangementDifference:function(){},canDragEvent:function(t){return t[this.canDragProp]},calcDragDirection:function(t){return t[this.dragDirectionProp]},calcDrag:function(t){return t[this.dragProp]},drag:function(t,e,n,i,r){var o=this.measureArrangementDelta(-t,e,n,i,r);return o},measureArrangementDelta:function(t,e,n,i,r){var o=this.calcArrangementDifference(e,n,i,r),s=o?t/Math.abs(o):0;return s*=this.container.fromIndex>this.container.toIndex?-1:1},_arrange:function(t){this.containerBounds||this.reflow();var e=this.getOrderedControls(t);this.arrange(e,t)},arrangeControl:function(e,n){e._arranger=t.mixin(e._arranger||{},n)},flow:function(){this.c$=[].concat(this.container.getPanels()),this.controlsIndex=0;for(var e,n=0,i=this.container.getPanels();e=i[n];n++)if(t.dom.accelerate(e,!e.preventAccelerate&&this.accelerated),t.platform.safari)for(var r,o=e.children,s=0;r=o[s];s++)t.dom.accelerate(r,this.accelerated)},reflow:function(){var t=this.container.hasNode();this.containerBounds=t?{width:t.clientWidth,height:t.clientHeight}:{},this.size()},flowArrangement:function(){var t=this.container.arrangement;if(t)for(var e,n=0,i=this.container.getPanels();(e=i[n])&&t[n];n++)this.flowControl(e,t[n])},flowControl:function(e,n){t.Arranger.positionControl(e,n);var i=n.opacity;null!=i&&t.Arranger.opacifyControl(e,i)},getOrderedControls:function(t){for(var e=Math.floor(t),n=e-this.controlsIndex,i=n>0,r=this.c$||[],o=0;Math.abs(n)>o;o++)i?r.push(r.shift()):r.unshift(r.pop());return this.controlsIndex=e,r},statics:{positionControl:function(e,n,i){if(i=i||"px",!this.updating)if(!t.dom.canTransform()||e.preventTransform||t.platform.android||10===t.platform.ie)t.dom.canTransform()&&e.preventTransform&&t.dom.transform(e,{translateX:null,translateY:null}),e.setBounds(n,i);else{var r=n.left,o=n.top;r=t.isString(r)?r:r&&r+i,o=t.isString(o)?o:o&&o+i,t.dom.transform(e,{translateX:r||null,translateY:o||null})}},opacifyControl:function(e,n){var i=n;i=i>.99?1:.01>i?0:i,9>t.platform.ie?e.applyStyle("filter","progid:DXImageTransform.Microsoft.Alpha(Opacity="+100*i+")"):e.applyStyle("opacity",i)}}})})(enyo,this);

// ../bower_components/layout/panels/source/arrangers/CardArranger.js
(function(t){t.kind({name:"enyo.CardArranger",kind:"Arranger",layoutClass:"enyo-arranger enyo-arranger-fit",calcArrangementDifference:function(){return this.containerBounds.width},arrange:function(t){for(var e,n,i=0;e=t[i];i++)n=0===i?1:0,this.arrangeControl(e,{opacity:n})},start:t.inherit(function(t){return function(){t.apply(this,arguments);for(var e,n=this.container.getPanels(),i=0;e=n[i];i++){var r=e.showing;e.setShowing(i==this.container.fromIndex||i==this.container.toIndex),e.showing&&!r&&e.resize()}}}),finish:t.inherit(function(t){return function(){t.apply(this,arguments);for(var e,n=this.container.getPanels(),i=0;e=n[i];i++)e.setShowing(i==this.container.toIndex)}}),destroy:t.inherit(function(e){return function(){for(var n,i=this.container.getPanels(),r=0;n=i[r];r++)t.Arranger.opacifyControl(n,1),n.showing||n.setShowing(!0);e.apply(this,arguments)}})})})(enyo,this);

// ../bower_components/layout/panels/source/arrangers/CardSlideInArranger.js
(function(t){t.kind({name:"enyo.CardSlideInArranger",kind:"CardArranger",start:function(){for(var t,e=this.container.getPanels(),n=0;t=e[n];n++){var i=t.showing;t.setShowing(n==this.container.fromIndex||n==this.container.toIndex),t.showing&&!i&&t.resize()}var r=this.container.fromIndex;n=this.container.toIndex,this.container.transitionPoints=[n+"."+r+".s",n+"."+r+".f"]},finish:t.inherit(function(t){return function(){t.apply(this,arguments);for(var e,n=this.container.getPanels(),i=0;e=n[i];i++)e.setShowing(i==this.container.toIndex)}}),arrange:function(t,e){for(var n,i,r=e.split("."),o=r[0],s=r[1],a="s"==r[2],l=this.containerBounds.width,h=0,u=this.container.getPanels();n=u[h];h++)i=l,s==h&&(i=a?0:-l),o==h&&(i=a?l:0),s==h&&s==o&&(i=0),this.arrangeControl(n,{left:i})},destroy:t.inherit(function(e){return function(){for(var n,i=this.container.getPanels(),r=0;n=i[r];r++)t.Arranger.positionControl(n,{left:null});e.apply(this,arguments)}})})})(enyo,this);

// ../bower_components/layout/panels/source/arrangers/CarouselArranger.js
(function(t){t.kind({name:"enyo.CarouselArranger",kind:"Arranger",size:function(){var e,n,i,r,o,s=this.container.getPanels(),a=this.containerPadding=this.container.hasNode()?t.dom.calcPaddingExtents(this.container.node):{},l=this.containerBounds;l.height-=a.top+a.bottom,l.width-=a.left+a.right;var h;for(e=0,i=0;o=s[e];e++)r=t.dom.calcMarginExtents(o.hasNode()),o.width=o.getBounds().width,o.marginWidth=r.right+r.left,i+=(o.fit?0:o.width)+o.marginWidth,o.fit&&(h=o);if(h){var u=l.width-i;h.width=u>=0?u:h.width}for(e=0,n=a.left;o=s[e];e++)o.setBounds({top:a.top,bottom:a.bottom,width:o.fit?o.width:null})},arrange:function(t,e){this.container.wrap?this.arrangeWrap(t,e):this.arrangeNoWrap(t,e)},arrangeNoWrap:function(t,e){var n,i,r,o,s=this.container.getPanels(),a=this.container.clamp(e),l=this.containerBounds.width;for(n=a,r=0;(o=s[n])&&(r+=o.width+o.marginWidth,!(r>l));n++);var h=l-r,u=0;if(h>0)for(n=a-1,i=0;o=s[n];n--)if(i+=o.width+o.marginWidth,0>=h-i){u=h-i,a=n;break}var c,d;for(n=0,d=this.containerPadding.left+u;o=s[n];n++)c=o.width+o.marginWidth,a>n?this.arrangeControl(o,{left:-c}):(this.arrangeControl(o,{left:Math.floor(d)}),d+=c)},arrangeWrap:function(t){for(var e,n=0,i=this.containerPadding.left;e=t[n];n++)this.arrangeControl(e,{left:i}),i+=e.width+e.marginWidth},calcArrangementDifference:function(t,e,n,i){var r=Math.abs(t%this.c$.length);return e[r].left-i[r].left},destroy:t.inherit(function(e){return function(){for(var n,i=this.container.getPanels(),r=0;n=i[r];r++)t.Arranger.positionControl(n,{left:null,top:null}),n.applyStyle("top",null),n.applyStyle("bottom",null),n.applyStyle("left",null),n.applyStyle("width",null);e.apply(this,arguments)}})})})(enyo,this);

// ../bower_components/layout/panels/source/arrangers/CollapsingArranger.js
(function(t){t.kind({name:"enyo.CollapsingArranger",kind:"CarouselArranger",peekWidth:0,size:t.inherit(function(t){return function(){this.clearLastSize(),t.apply(this,arguments)}}),clearLastSize:function(){for(var t,e=0,n=this.container.getPanels();t=n[e];e++)t._fit&&e!=n.length-1&&(t.applyStyle("width",null),t._fit=null)},constructor:t.inherit(function(t){return function(){t.apply(this,arguments),this.peekWidth=null!=this.container.peekWidth?this.container.peekWidth:this.peekWidth}}),arrange:function(t,e){for(var n,i=this.container.getPanels(),r=0,o=this.containerPadding.left,s=0;n=i[r];r++)n.getShowing()?(this.arrangeControl(n,{left:o+s*this.peekWidth}),r>=e&&(o+=n.width+n.marginWidth-this.peekWidth),s++):(this.arrangeControl(n,{left:o}),r>=e&&(o+=n.width+n.marginWidth)),r==i.length-1&&0>e&&this.arrangeControl(n,{left:o-e})},calcArrangementDifference:function(t,e,n,i){var r=this.container.getPanels().length-1;return Math.abs(i[r].left-e[r].left)},flowControl:t.inherit(function(t){return function(e,n){if(t.apply(this,arguments),this.container.realtimeFit){var i=this.container.getPanels(),r=i.length-1,o=i[r];e==o&&this.fitControl(e,n.left)}}}),finish:t.inherit(function(t){return function(){if(t.apply(this,arguments),!this.container.realtimeFit&&this.containerBounds){var e=this.container.getPanels(),n=this.container.arrangement,i=e.length-1,r=e[i];this.fitControl(r,n[i].left)}}}),fitControl:function(t,e){t._fit=!0,t.applyStyle("width",this.containerBounds.width-e+"px"),t.resize()}})})(enyo,this);

// ../bower_components/layout/panels/source/arrangers/DockRightArranger.js
(function(t){t.kind({name:"enyo.DockRightArranger",kind:"Arranger",basePanel:!1,overlap:0,layoutWidth:0,constructor:t.inherit(function(t){return function(){t.apply(this,arguments),this.overlap=null!=this.container.overlap?this.container.overlap:this.overlap,this.layoutWidth=null!=this.container.layoutWidth?this.container.layoutWidth:this.layoutWidth}}),size:function(){var e,n,i,r=this.container.getPanels(),o=this.containerPadding=this.container.hasNode()?t.dom.calcPaddingExtents(this.container.node):{},s=this.containerBounds;s.width-=o.left+o.right;var a,l=s.width,h=r.length;for(this.container.transitionPositions={},e=0;i=r[e];e++)i.width=0===e&&this.container.basePanel?l:i.getBounds().width;for(e=0;i=r[e];e++){0===e&&this.container.basePanel&&i.setBounds({width:l}),i.setBounds({top:o.top,bottom:o.bottom});for(var u=0;i=r[u];u++){var c;if(0===e&&this.container.basePanel)c=0;else if(e>u)c=l;else{if(e!==u)break;a=l>this.layoutWidth?this.overlap:0,c=l-r[e].width+a}this.container.transitionPositions[e+"."+u]=c}if(h>u)for(var d=!1,p=e+1;h>p;p++){if(a=0,d)a=0;else if(r[e].width+r[p].width-this.overlap>l)a=0,d=!0;else{for(a=r[e].width-this.overlap,n=e;p>n;n++){var f=a+r[n+1].width-this.overlap;if(!(l>f)){a=l;break}a=f}a=l-a}this.container.transitionPositions[e+"."+p]=a}}},arrange:function(t,e){var n,i,r=this.container.getPanels(),o=this.container.clamp(e);for(n=0;i=r[n];n++){var s=this.container.transitionPositions[n+"."+o];this.arrangeControl(i,{left:s})}},calcArrangementDifference:function(t,e,n){var i=this.container.getPanels(),r=n>t?i[n].width:i[t].width;return r},destroy:t.inherit(function(e){return function(){for(var n,i=this.container.getPanels(),r=0;n=i[r];r++)t.Arranger.positionControl(n,{left:null,top:null}),n.applyStyle("top",null),n.applyStyle("bottom",null),n.applyStyle("left",null),n.applyStyle("width",null);e.apply(this,arguments)}})})})(enyo,this);

// ../bower_components/layout/panels/source/arrangers/OtherArrangers.js
(function(t){t.kind({name:"enyo.LeftRightArranger",kind:"Arranger",margin:40,axisSize:"width",offAxisSize:"height",axisPosition:"left",constructor:t.inherit(function(t){return function(){t.apply(this,arguments),this.margin=null!=this.container.margin?this.container.margin:this.margin}}),size:function(){for(var t,e,n=this.container.getPanels(),i=this.containerBounds[this.axisSize],r=i-this.margin-this.margin,o=0;e=n[o];o++)t={},t[this.axisSize]=r,t[this.offAxisSize]="100%",e.setBounds(t)},start:t.inherit(function(t){return function(){t.apply(this,arguments);for(var e,n=this.container.fromIndex,i=this.container.toIndex,r=this.getOrderedControls(i),o=Math.floor(r.length/2),s=0;e=r[s];s++)n>i?s==r.length-o?e.applyStyle("z-index",0):e.applyStyle("z-index",1):s==r.length-1-o?e.applyStyle("z-index",0):e.applyStyle("z-index",1)}}),arrange:function(t,e){var n,i,r;if(1==this.container.getPanels().length)return r={},r[this.axisPosition]=this.margin,this.arrangeControl(this.container.getPanels()[0],r),void 0;var o=Math.floor(this.container.getPanels().length/2),s=this.getOrderedControls(Math.floor(e)-o),a=this.containerBounds[this.axisSize]-this.margin-this.margin,l=this.margin-a*o;for(n=0;i=s[n];n++)r={},r[this.axisPosition]=l,this.arrangeControl(i,r),l+=a},calcArrangementDifference:function(t,e,n,i){if(1==this.container.getPanels().length)return 0;var r=Math.abs(t%this.c$.length);return e[r][this.axisPosition]-i[r][this.axisPosition]},destroy:t.inherit(function(e){return function(){for(var n,i=this.container.getPanels(),r=0;n=i[r];r++)t.Arranger.positionControl(n,{left:null,top:null}),t.Arranger.opacifyControl(n,1),n.applyStyle("left",null),n.applyStyle("top",null),n.applyStyle("height",null),n.applyStyle("width",null);e.apply(this,arguments)}})}),t.kind({name:"enyo.TopBottomArranger",kind:"LeftRightArranger",dragProp:"ddy",dragDirectionProp:"yDirection",canDragProp:"vertical",axisSize:"height",offAxisSize:"width",axisPosition:"top"}),t.kind({name:"enyo.SpiralArranger",kind:"Arranger",incrementalPoints:!0,inc:20,size:function(){for(var t,e=this.container.getPanels(),n=this.containerBounds,i=this.controlWidth=n.width/3,r=this.controlHeight=n.height/3,o=0;t=e[o];o++)t.setBounds({width:i,height:r})},arrange:function(t){for(var e,n=this.inc,i=0,r=t.length;e=t[i];i++){var o=Math.cos(2*(i/r)*Math.PI)*i*n+this.controlWidth,s=Math.sin(2*(i/r)*Math.PI)*i*n+this.controlHeight;this.arrangeControl(e,{left:o,top:s})}},start:t.inherit(function(t){return function(){t.apply(this,arguments);for(var e,n=this.getOrderedControls(this.container.toIndex),i=0;e=n[i];i++)e.applyStyle("z-index",n.length-i)}}),calcArrangementDifference:function(){return this.controlWidth},destroy:t.inherit(function(e){return function(){for(var n,i=this.container.getPanels(),r=0;n=i[r];r++)n.applyStyle("z-index",null),t.Arranger.positionControl(n,{left:null,top:null}),n.applyStyle("left",null),n.applyStyle("top",null),n.applyStyle("height",null),n.applyStyle("width",null);e.apply(this,arguments)}})}),t.kind({name:"enyo.GridArranger",kind:"Arranger",incrementalPoints:!0,colWidth:100,colHeight:100,size:function(){for(var t,e=this.container.getPanels(),n=this.colWidth,i=this.colHeight,r=0;t=e[r];r++)t.setBounds({width:n,height:i})},arrange:function(t){for(var e,n=this.colWidth,i=this.colHeight,r=Math.max(1,Math.floor(this.containerBounds.width/n)),o=0,s=0;t.length>s;o++)for(var a=0;r>a&&(e=t[s]);a++,s++)this.arrangeControl(e,{left:n*a,top:i*o})},flowControl:t.inherit(function(e){return function(n,i){e.apply(this,arguments),t.Arranger.opacifyControl(n,0!==i.top%this.colHeight?.25:1)}}),calcArrangementDifference:function(){return this.colWidth},destroy:t.inherit(function(e){return function(){for(var n,i=this.container.getPanels(),r=0;n=i[r];r++)t.Arranger.positionControl(n,{left:null,top:null}),n.applyStyle("left",null),n.applyStyle("top",null),n.applyStyle("height",null),n.applyStyle("width",null);e.apply(this,arguments)}})})})(enyo,this);

// ../bower_components/layout/panels/source/Panels.js
(function(t){t.kind({name:"enyo.Panels",classes:"enyo-panels",published:{index:0,draggable:!0,animate:!0,wrap:!1,arrangerKind:"CardArranger",narrowFit:!0},events:{onTransitionStart:"",onTransitionFinish:""},handlers:{ondragstart:"dragstart",ondrag:"drag",ondragfinish:"dragfinish",onscroll:"domScroll"},tools:[{kind:"Animator",onStep:"step",onEnd:"completed"}],fraction:0,create:t.inherit(function(t){return function(){this.transitionPoints=[],t.apply(this,arguments),this.arrangerKindChanged(),this.narrowFitChanged(),this.indexChanged()}}),rendered:t.inherit(function(e){return function(){e.apply(this,arguments),t.makeBubble(this,"scroll")}}),domScroll:function(){this.hasNode()&&this.node.scrollLeft>0&&(this.node.scrollLeft=0)},initComponents:t.inherit(function(t){return function(){this.createChrome(this.tools),t.apply(this,arguments)}}),arrangerKindChanged:function(){this.setLayoutKind(this.arrangerKind)},narrowFitChanged:function(){this.addRemoveClass(t.Panels.getNarrowClass(),this.narrowFit)},destroy:t.inherit(function(t){return function(){this.destroying=!0,t.apply(this,arguments)}}),removeControl:t.inherit(function(e){return function(n){if(this.destroying)return e.apply(this,arguments);var i=-1,r=t.indexOf(n,this.controls);r===this.index&&(i=Math.max(r-1,0)),e.apply(this,arguments),-1!==i&&this.controls.length>0&&(this.setIndex(i),this.flow(),this.reflow())}}),isPanel:function(){return!0},flow:t.inherit(function(t){return function(){this.arrangements=[],t.apply(this,arguments)}}),reflow:t.inherit(function(t){return function(){this.arrangements=[],t.apply(this,arguments),this.refresh()}}),getPanels:function(){var t=this.controlParent||this;return t.children},getActive:function(){var t=this.getPanels(),e=this.index%t.length;return 0>e&&(e+=t.length),t[e]},getAnimator:function(){return this.$.animator},setIndex:function(t){var e=this.get("index"),n=this.clamp(t);this.index=n,this.notifyObservers("index",e,n)},setIndexDirect:function(t){this.setIndex(t),this.completed()},selectPanelByName:function(t){if(t)for(var e=0,n=this.getPanels(),i=n.length;i>e;++e)if(t===n[e].name)return this.setIndex(e),e},previous:function(){var t=this.index-1;this.wrap&&0>t&&(t=this.getPanels().length-1),this.setIndex(t)},next:function(){var t=this.index+1;this.wrap&&t>=this.getPanels().length&&(t=0),this.setIndex(t)},clamp:function(t){var e=this.getPanels().length;return this.wrap?(t%=e,0>t?t+e:t):Math.max(0,Math.min(t,e-1))},indexChanged:function(t){this.lastIndex=t,!this.dragging&&this.$.animator&&(this.$.animator.isAnimating()&&(this.finishTransitionInfo&&(this.finishTransitionInfo.animating=!0),this.completed()),this.$.animator.stop(),this.hasNode()&&(this.animate?(this.startTransition(!0),this.$.animator.play({startValue:this.fraction})):this.refresh()))},step:function(t){return this.fraction=t.value,this.stepTransition(),!0},completed:function(){return this.$.animator.isAnimating()&&this.$.animator.stop(),this.fraction=1,this.stepTransition(),this.finishTransition(!0),!0},dragstart:function(t,e){return this.draggable&&this.layout&&this.layout.canDragEvent(e)?(e.preventDefault(),this.dragstartTransition(e),this.dragging=!0,this.$.animator.stop(),!0):void 0},drag:function(t,e){this.dragging&&(e.preventDefault(),this.dragTransition(e))},dragfinish:function(t,e){this.dragging&&(this.dragging=!1,e.preventTap(),this.dragfinishTransition(e))},dragstartTransition:function(t){if(this.$.animator.isAnimating())this.verifyDragTransition(t);else{var e=this.fromIndex=this.index;this.toIndex=e-(this.layout?this.layout.calcDragDirection(t):0)}this.fromIndex=this.clamp(this.fromIndex),this.toIndex=this.clamp(this.toIndex),this.fireTransitionStart(),this.layout&&this.layout.start()},dragTransition:function(t){var e=this.layout?this.layout.calcDrag(t):0,n=this.transitionPoints,i=n[0],r=n[n.length-1],o=this.fetchArrangement(i),s=this.fetchArrangement(r),a=this.layout?this.layout.drag(e,i,o,r,s):0,l=e&&!a;this.fraction+=a;var h=this.fraction;(h>1||0>h||l)&&((h>0||l)&&this.dragfinishTransition(t),this.dragstartTransition(t),this.fraction=0),this.stepTransition()},dragfinishTransition:function(t){this.verifyDragTransition(t),this.setIndex(this.toIndex),this.dragging&&this.fireTransitionFinish()},verifyDragTransition:function(t){var e=this.layout?this.layout.calcDragDirection(t):0,n=Math.min(this.fromIndex,this.toIndex),i=Math.max(this.fromIndex,this.toIndex);if(e>0){var r=n;n=i,i=r}n!=this.fromIndex&&(this.fraction=1-this.fraction),this.fromIndex=n,this.toIndex=i},refresh:function(){this.$.animator&&this.$.animator.isAnimating()&&this.$.animator.stop(),this.startTransition(!1),this.fraction=1,this.stepTransition(),this.finishTransition(!1)},startTransition:function(t){this.fromIndex=null!=this.fromIndex?this.fromIndex:this.lastIndex||0,this.toIndex=null!=this.toIndex?this.toIndex:this.index,this.layout&&this.layout.start(),t&&this.fireTransitionStart()},finishTransition:function(t){this.layout&&this.layout.finish(),this.transitionPoints=[],this.fraction=0,this.fromIndex=this.toIndex=null,t&&this.fireTransitionFinish()},fireTransitionStart:function(){var e=this.startTransitionInfo;!this.hasNode()||e&&e.fromIndex==this.fromIndex&&e.toIndex==this.toIndex||(this.startTransitionInfo={fromIndex:this.fromIndex,toIndex:this.toIndex},this.doTransitionStart(t.clone(this.startTransitionInfo)))},fireTransitionFinish:function(){var e=this.finishTransitionInfo;!this.hasNode()||e&&e.fromIndex==this.lastIndex&&e.toIndex==this.index||(this.finishTransitionInfo=e&&e.animating?{fromIndex:e.toIndex,toIndex:this.lastIndex}:{fromIndex:this.lastIndex,toIndex:this.index},this.doTransitionFinish(t.clone(this.finishTransitionInfo)))},stepTransition:function(){if(this.hasNode()){var e=this.transitionPoints,n=(this.fraction||0)*(e.length-1),i=Math.floor(n);n-=i;var r=e[i],o=e[i+1],s=this.fetchArrangement(r),a=this.fetchArrangement(o);this.arrangement=s&&a?t.Panels.lerp(s,a,n):s||a,this.arrangement&&this.layout&&this.layout.flowArrangement()}},fetchArrangement:function(t){return null!=t&&!this.arrangements[t]&&this.layout&&(this.layout._arrange(t),this.arrangements[t]=this.readArrangement(this.getPanels())),this.arrangements[t]},readArrangement:function(e){for(var n,i=[],r=0,o=e;n=o[r];r++)i.push(t.clone(n._arranger));return i},statics:{isScreenNarrow:function(){return t.Panels.isNarrowDevice()?!0:800>=t.dom.getWindowWidth()},getNarrowClass:function(){return t.Panels.isNarrowDevice()?"enyo-panels-force-narrow":"enyo-panels-fit-narrow"},lerp:function(e,n,i){for(var r,o=[],s=0,a=t.keys(e);r=a[s];s++)o.push(this.lerpObject(e[r],n[r],i));return o},lerpObject:function(e,n,i){var r,o,s=t.clone(e);if(n)for(var a in e)r=e[a],o=n[a],r!=o&&(s[a]=r-(r-o)*i);return s},isNarrowDevice:function(){var e=navigator.userAgent;switch(t.platform.platformName){case"ios":return/iP(?:hone|od;(?: U;)? CPU) OS (\d+)/.test(e);case"android":return/Mobile/.test(e)&&t.platform.android>2;case"androidChrome":return/Mobile/.test(e)}return!1}}})})(enyo,this);

// ../bower_components/layout/tree/source/Node.js
(function(t){t.kind({name:"enyo.Node",published:{expandable:!1,expanded:!1,icon:"",onlyIconExpands:!1,selected:!1},style:"padding: 0 0 0 16px;",content:"Node",defaultKind:"Node",classes:"enyo-node",components:[{name:"icon",kind:"Image",showing:!1},{kind:"Control",name:"caption",Xtag:"span",style:"display: inline-block; padding: 4px;",allowHtml:!0},{kind:"Control",name:"extra",tag:"span",allowHtml:!0}],childClient:[{kind:"Control",name:"box",classes:"enyo-node-box",Xstyle:"border: 1px solid orange;",components:[{kind:"Control",name:"client",classes:"enyo-node-client",Xstyle:"border: 1px solid lightblue;"}]}],handlers:{ondblclick:"dblclick"},events:{onNodeTap:"nodeTap",onNodeDblClick:"nodeDblClick",onExpand:"nodeExpand",onDestroyed:"nodeDestroyed"},create:t.inherit(function(t){return function(){t.apply(this,arguments),this.selectedChanged(),this.iconChanged()}}),destroy:t.inherit(function(t){return function(){this.doDestroyed(),t.apply(this,arguments)}}),initComponents:t.inherit(function(t){return function(){this.expandable&&(this.kindComponents=this.kindComponents.concat(this.childClient)),t.apply(this,arguments)}}),contentChanged:function(){this.$.caption.setContent(this.content)},iconChanged:function(){this.$.icon.setSrc(this.icon),this.$.icon.setShowing(Boolean(this.icon))},selectedChanged:function(){this.addRemoveClass("enyo-selected",this.selected)},rendered:t.inherit(function(t){return function(){t.apply(this,arguments),this.expandable&&!this.expanded&&this.quickCollapse()}}),addNodes:function(t){this.destroyClientControls();for(var e,n=0;e=t[n];n++)this.createComponent(e);this.$.client.render()},addTextNodes:function(t){this.destroyClientControls();for(var e,n=0;e=t[n];n++)this.createComponent({content:e});this.$.client.render()},tap:function(t,e){return this.onlyIconExpands?e.target==this.$.icon.hasNode()?this.toggleExpanded():this.doNodeTap():(this.toggleExpanded(),this.doNodeTap()),!0},dblclick:function(){return this.doNodeDblClick(),!0},toggleExpanded:function(){this.setExpanded(!this.expanded)},quickCollapse:function(){this.removeClass("enyo-animate"),this.$.box.applyStyle("height","0");var t=this.$.client.getBounds().height;this.$.client.setBounds({top:-t})},_expand:function(){this.addClass("enyo-animate");var t=this.$.client.getBounds().height;this.$.box.setBounds({height:t}),this.$.client.setBounds({top:0}),setTimeout(this.bindSafely(function(){this.expanded&&(this.removeClass("enyo-animate"),this.$.box.applyStyle("height","auto"))}),225)},_collapse:function(){this.removeClass("enyo-animate");var t=this.$.client.getBounds().height;this.$.box.setBounds({height:t}),setTimeout(this.bindSafely(function(){this.addClass("enyo-animate"),this.$.box.applyStyle("height","0"),this.$.client.setBounds({top:-t})}),25)},expandedChanged:function(){if(this.expandable){var t={expanded:this.expanded};this.doExpand(t),t.wait||this.effectExpanded()}else this.expanded=!1},effectExpanded:function(){this.$.client&&(this.expanded?this._expand():this._collapse())}})})(enyo,this);

// ../bower_components/layout/imageview/source/PanZoomView.js
(function(t){t.kind({name:"enyo.PanZoomView",kind:"enyo.Scroller",touchOverscroll:!1,thumb:!1,animate:!0,verticalDragPropagation:!0,horizontalDragPropagation:!0,published:{scale:"auto",disableZoom:!1,contentWidth:null,contentHeight:null},events:{onZoom:""},touch:!0,preventDragPropagation:!1,handlers:{ondragstart:"dragPropagation",onSetDimensions:"setDimensions"},components:[{name:"animator",kind:"Animator",onStep:"zoomAnimationStep",onEnd:"zoomAnimationEnd"},{name:"viewport",style:"overflow:hidden;min-height:100%;min-width:100%;",classes:"enyo-fit",ongesturechange:"gestureTransform",ongestureend:"saveState",ontap:"singleTap",ondblclick:"doubleClick",onmousewheel:"mousewheel",components:[{name:"content"}]}],create:t.inherit(function(e){return function(){this.scaleKeyword=this.scale;var n=this.components;if(this.components=[],e.apply(this,arguments),this.$.content.applyStyle("width",this.contentWidth+"px"),this.$.content.applyStyle("height",this.contentHeight+"px"),this.unscaledComponents){var i=this.hasOwnProperty("unscaledComponents")?this.getInstanceOwner():this;this.createComponents(this.unscaledComponents,{owner:i})}this.controlParentName="content",this.discoverControlParent(),this.createComponents(n),this.canTransform=t.dom.canTransform(),this.canTransform||this.$.content.applyStyle("position","relative"),this.canAccelerate=t.dom.canAccelerate(),this.getStrategy().setDragDuringGesture(!1)}}),rendered:t.inherit(function(t){return function(){t.apply(this,arguments),this.getOriginalScale()}}),dragPropagation:function(t,e){var n=this.getStrategy().getScrollBounds(),i=0===n.top&&e.dy>0||n.top>=n.maxTop-2&&0>e.dy,r=0===n.left&&e.dx>0||n.left>=n.maxLeft-2&&0>e.dx;return!(i&&this.verticalDragPropagation||r&&this.horizontalDragPropagation)},mousewheel:function(t,e){e.pageX|=e.clientX+e.target.scrollLeft,e.pageY|=e.clientY+e.target.scrollTop;var n=(this.maxScale-this.minScale)/10,i=this.scale;return e.wheelDelta>0||0>e.detail?this.scale=this.limitScale(this.scale+n):(0>e.wheelDelta||e.detail>0)&&(this.scale=this.limitScale(this.scale-n)),this.eventPt=this.calcEventLocation(e),this.transform(this.scale),i!=this.scale&&this.doZoom({scale:this.scale}),this.ratioX=this.ratioY=null,e.preventDefault(),!0},handleResize:t.inherit(function(t){return function(){t.apply(this,arguments),this.scaleChanged()}}),setDimensions:function(t,e){return this.$.content.applyStyle("width",e.width+"px"),this.$.content.applyStyle("height",e.height+"px"),this.originalWidth=e.width,this.originalHeight=e.height,this.scale=this.scaleKeyword,this.scaleChanged(),!0},getOriginalScale:function(){this.$.content.hasNode()&&(this.originalWidth=this.$.content.node.clientWidth,this.originalHeight=this.$.content.node.clientHeight,this.scale=this.scaleKeyword,this.scaleChanged())},scaleChanged:function(){var t=this.hasNode();if(t){this.containerWidth=t.clientWidth,this.containerHeight=t.clientHeight;var e=this.containerWidth/this.originalWidth,n=this.containerHeight/this.originalHeight;this.minScale=Math.min(e,n),this.maxScale=1>3*this.minScale?1:3*this.minScale,"auto"==this.scale?this.scale=this.minScale:"width"==this.scale?this.scale=e:"height"==this.scale?this.scale=n:"fit"==this.scale?(this.fitAlignment="center",this.scale=Math.max(e,n)):(this.maxScale=Math.max(this.maxScale,this.scale),this.scale=this.limitScale(this.scale))}this.eventPt=this.calcEventLocation(),this.transform(this.scale),this.getStrategy().$.scrollMath&&this.getStrategy().$.scrollMath.start(),this.align()},align:function(){if(this.fitAlignment&&"center"===this.fitAlignment){var t=this.getScrollBounds();this.setScrollLeft(t.maxLeft/2),this.setScrollTop(t.maxTop/2)}},gestureTransform:function(t,e){this.eventPt=this.calcEventLocation(e),this.transform(this.limitScale(this.scale*e.scale))},calcEventLocation:function(t){var e={x:0,y:0};if(t&&this.hasNode()){var n=this.node.getBoundingClientRect();e.x=Math.round(t.pageX-n.left-this.bounds.x),e.x=Math.max(0,Math.min(this.bounds.width,e.x)),e.y=Math.round(t.pageY-n.top-this.bounds.y),e.y=Math.max(0,Math.min(this.bounds.height,e.y))}return e},transform:function(e){this.tapped=!1;var n=this.bounds||this.innerBounds(e);this.bounds=this.innerBounds(e),this.scale>this.minScale?this.$.viewport.applyStyle("cursor","move"):this.$.viewport.applyStyle("cursor",null),this.$.viewport.setBounds({width:this.bounds.width+"px",height:this.bounds.height+"px"}),this.ratioX=this.ratioX||(this.eventPt.x+this.getScrollLeft())/n.width,this.ratioY=this.ratioY||(this.eventPt.y+this.getScrollTop())/n.height;var i,r;if(this.$.animator.ratioLock?(i=this.$.animator.ratioLock.x*this.bounds.width-this.containerWidth/2,r=this.$.animator.ratioLock.y*this.bounds.height-this.containerHeight/2):(i=this.ratioX*this.bounds.width-this.eventPt.x,r=this.ratioY*this.bounds.height-this.eventPt.y),i=Math.max(0,Math.min(this.bounds.width-this.containerWidth,i)),r=Math.max(0,Math.min(this.bounds.height-this.containerHeight,r)),this.canTransform){var o={scale:e};o=this.canAccelerate?t.mixin({translate3d:Math.round(this.bounds.left)+"px, "+Math.round(this.bounds.top)+"px, 0px"},o):t.mixin({translate:this.bounds.left+"px, "+this.bounds.top+"px"},o),t.dom.transform(this.$.content,o)}else if(t.platform.ie){var s='"progid:DXImageTransform.Microsoft.Matrix(M11='+e+", M12=0, M21=0, M22="+e+", SizingMethod='auto expand')\"";this.$.content.applyStyle("-ms-filter",s),this.$.content.setBounds({width:this.bounds.width*e+"px",height:this.bounds.height*e+"px",left:this.bounds.left+"px",top:this.bounds.top+"px"}),this.$.content.applyStyle("width",e*this.bounds.width),this.$.content.applyStyle("height",e*this.bounds.height)}this.setScrollLeft(i),this.setScrollTop(r),this.positionClientControls(e)},limitScale:function(t){return this.disableZoom?t=this.scale:t>this.maxScale?t=this.maxScale:this.minScale>t&&(t=this.minScale),t},innerBounds:function(t){var e=this.originalWidth*t,n=this.originalHeight*t,i={x:0,y:0,transX:0,transY:0};return this.containerWidth>e&&(i.x+=(this.containerWidth-e)/2),this.containerHeight>n&&(i.y+=(this.containerHeight-n)/2),this.canTransform&&(i.transX-=(this.originalWidth-e)/2,i.transY-=(this.originalHeight-n)/2),{left:i.x+i.transX,top:i.y+i.transY,width:e,height:n,x:i.x,y:i.y}},saveState:function(t,e){var n=this.scale;this.scale*=e.scale,this.scale=this.limitScale(this.scale),n!=this.scale&&this.doZoom({scale:this.scale}),this.ratioX=this.ratioY=null},doubleClick:function(e,n){8==t.platform.ie&&(this.tapped=!0,n.pageX=n.clientX+n.target.scrollLeft,n.pageY=n.clientY+n.target.scrollTop,this.singleTap(e,n),n.preventDefault())},singleTap:function(t,e){setTimeout(this.bindSafely(function(){this.tapped=!1}),300),this.tapped?(this.tapped=!1,this.smartZoom(t,e)):this.tapped=!0},smartZoom:function(t,e){var n=this.hasNode(),i=this.$.content.hasNode();if(n&&i&&this.hasNode()&&!this.disableZoom){var r=this.scale;if(this.scale=this.scale!=this.minScale?this.minScale:this.maxScale,this.eventPt=this.calcEventLocation(e),this.animate){var o={x:(this.eventPt.x+this.getScrollLeft())/this.bounds.width,y:(this.eventPt.y+this.getScrollTop())/this.bounds.height};this.$.animator.play({duration:350,ratioLock:o,baseScale:r,deltaScale:this.scale-r})}else this.transform(this.scale),this.doZoom({scale:this.scale})}},zoomAnimationStep:function(){var t=this.$.animator.baseScale+this.$.animator.deltaScale*this.$.animator.value;return this.transform(t),!0},zoomAnimationEnd:function(){return this.stabilize(),this.doZoom({scale:this.scale}),this.$.animator.ratioLock=void 0,!0},positionClientControls:function(t){this.waterfallDown("onPositionPin",{scale:t,bounds:this.bounds})}})})(enyo,this);

// ../bower_components/layout/imageview/source/ImageViewPin.js
(function(t){t.kind({name:"enyo.ImageViewPin",kind:"enyo.Control",published:{highlightAnchorPoint:!1,anchor:{top:0,left:0},position:{top:0,left:0}},style:"position:absolute;z-index:1000;width:0px;height:0px;",handlers:{onPositionPin:"reAnchor"},create:t.inherit(function(t){return function(){t.apply(this,arguments),this.styleClientControls(),this.positionClientControls(),this.highlightAnchorPointChanged(),this.anchorChanged()}}),styleClientControls:function(){for(var t=this.getClientControls(),e=0;t.length>e;e++)t[e].applyStyle("position","absolute")},positionClientControls:function(){for(var t=this.getClientControls(),e=0;t.length>e;e++)for(var n in this.position)t[e].applyStyle(n,this.position[n]+"px")},highlightAnchorPointChanged:function(){this.addRemoveClass("pinDebug",this.highlightAnchorPoint)},anchorChanged:function(){var t=null,e=null;for(e in this.anchor)t=(""+this.anchor[e]).match(/^(\d+(?:\.\d+)?)(.*)$/),t&&(this.anchor[e+"Coords"]={value:t[1],units:t[2]||"px"})},reAnchor:function(t,e){var n=e.scale,i=e.bounds,r=this.anchor.right?"px"==this.anchor.rightCoords.units?i.width+i.x-this.anchor.rightCoords.value*n:i.width*(100-this.anchor.rightCoords.value)/100+i.x:"px"==this.anchor.leftCoords.units?this.anchor.leftCoords.value*n+i.x:i.width*this.anchor.leftCoords.value/100+i.x,o=this.anchor.bottom?"px"==this.anchor.bottomCoords.units?i.height+i.y-this.anchor.bottomCoords.value*n:i.height*(100-this.anchor.bottomCoords.value)/100+i.y:"px"==this.anchor.topCoords.units?this.anchor.topCoords.value*n+i.y:i.height*this.anchor.topCoords.value/100+i.y;this.applyStyle("left",r+"px"),this.applyStyle("top",o+"px")}})})(enyo,this);

// ../bower_components/layout/imageview/source/ImageView.js
(function(t){t.kind({name:"enyo.ImageView",kind:"enyo.PanZoomView",subKindComponents:[{kind:"Image",ondown:"down",style:"vertical-align: text-top;"}],create:t.inherit(function(e){return function(){this.unscaledComponents=this.components,this.components=[],this.kindComponents[1].components[0].components=this.subKindComponents,e.apply(this,arguments),this.$.content.applyStyle("display","inline-block"),this.bufferImage=new Image,this.bufferImage.onload=t.bind(this,"imageLoaded"),this.bufferImage.onerror=t.bind(this,"imageError"),this.srcChanged(),this.getStrategy().$.scrollMath&&this.getStrategy().$.scrollMath.start()}}),destroy:t.inherit(function(t){return function(){this.bufferImage&&(this.bufferImage.onerror=void 0,this.bufferImage.onerror=void 0,delete this.bufferImage),t.apply(this,arguments)}}),down:function(t,e){e.preventDefault()},srcChanged:function(){this.src&&this.src.length>0&&this.bufferImage&&this.src!=this.bufferImage.src&&(this.bufferImage.src=this.src)},imageLoaded:function(){if(this.scale=this.scaleKeyword,this.originalWidth=this.contentWidth=this.bufferImage.width,this.originalHeight=this.contentHeight=this.bufferImage.height,this.scaleChanged(),this.$.image.setSrc(this.bufferImage.src),t.platform.safari){var e=this.$.image.hasNode(),n=this.bufferImage.src;e&&setTimeout(function(){e.src=n},100)}t.dom.transformValue(this.getStrategy().$.client,"translate3d","0px, 0px, 0"),this.positionClientControls(this.scale),this.align()},imageError:function(e){t.error("Error loading image: "+this.src),this.bubble("onerror",e)}})})(enyo,this);

// ../bower_components/layout/imageview/source/ImageCarousel.js
(function(t){t.kind({name:"enyo.ImageCarousel",kind:"enyo.Panels",arrangerKind:"enyo.CarouselArranger",defaultScale:"auto",disableZoom:!1,lowMemory:!1,published:{images:[]},handlers:{onTransitionStart:"transitionStart",onTransitionFinish:"transitionFinish"},create:t.inherit(function(t){return function(){t.apply(this,arguments),this.imageCount=this.images.length,this.images.length>0&&(this.initContainers(),this.loadNearby())}}),initContainers:function(){for(var t=0;this.images.length>t;t++)this.$["container"+t]||(this.createComponent({name:"container"+t,style:"height:100%; width:100%;"}),this.$["container"+t].render());for(t=this.images.length;this.imageCount>t;t++)this.$["image"+t]&&this.$["image"+t].destroy(),this.$["container"+t].destroy();this.imageCount=this.images.length},loadNearby:function(){var t=this.getBufferRange();for(var e in t)this.loadImageView(t[e])},getBufferRange:function(){var t=[];if(this.layout.containerBounds){var e,n,i,r,o=1,s=this.layout.containerBounds;for(n=this.index-1,i=0,r=s.width*o;n>=0&&r>=i;)e=this.$["container"+n],i+=e.width+e.marginWidth,t.unshift(n),n--;for(n=this.index,i=0,r=s.width*(o+1);this.images.length>n&&r>=i;)e=this.$["container"+n],i+=e.width+e.marginWidth,t.push(n),n++}return t},reflow:t.inherit(function(t){return function(){t.apply(this,arguments),this.loadNearby()}}),loadImageView:function(t){return this.wrap&&(t=(t%this.images.length+this.images.length)%this.images.length),t>=0&&this.images.length-1>=t&&(this.$["image"+t]?this.$["image"+t].src!=this.images[t]&&(this.$["image"+t].setSrc(this.images[t]),this.$["image"+t].setScale(this.defaultScale),this.$["image"+t].setDisableZoom(this.disableZoom)):(this.$["container"+t].createComponent({name:"image"+t,kind:"ImageView",scale:this.defaultScale,disableZoom:this.disableZoom,src:this.images[t],verticalDragPropagation:!1,style:"height:100%; width:100%;"},{owner:this}),this.$["image"+t].render())),this.$["image"+t]},setImages:function(t){this.set("images",t)},imagesChanged:function(){this.initContainers(),this.loadNearby()},indexChanged:t.inherit(function(t){return function(){this.loadNearby(),this.lowMemory&&this.cleanupMemory(),t.apply(this,arguments)}}),transitionStart:function(t,e){return e.fromIndex==e.toIndex?!0:void 0},transitionFinish:function(){this.loadNearby(),this.lowMemory&&this.cleanupMemory()},getActiveImage:function(){return this.getImageByIndex(this.index)},getImageByIndex:function(t){return this.$["image"+t]||this.loadImageView(t)},cleanupMemory:function(){for(var e=this.getBufferRange(),n=0;this.images.length>n;n++)-1===t.indexOf(n,e)&&this.$["image"+n]&&this.$["image"+n].destroy()}})})(enyo,this);

// ../bower_components/onyx/version.js
(function(t){t&&t.version&&(t.version.onyx="2.5.2")})(enyo,this);

// ../bower_components/onyx/source/Icon.js
(function(t){t.kind({name:"onyx.Icon",classes:"onyx-icon",published:{src:"",disabled:!1},create:function(){this.inherited(arguments),this.src&&this.srcChanged(),this.disabledChanged()},disabledChanged:function(){this.addRemoveClass("disabled",this.disabled)},srcChanged:function(){this.applyStyle("background-image","url("+t.path.rewrite(this.src)+")")}})})(enyo,this);

// ../bower_components/onyx/source/Button.js
(function(t){t.kind({name:"onyx.Button",kind:"enyo.Button",classes:"onyx-button enyo-unselectable",handlers:{ondown:"down",onenter:"enter",ondragfinish:"dragfinish",onleave:"leave",onup:"up"},down:function(){return this.disabled?!0:(this.addClass("pressed"),this._isPressed=!0,void 0)},enter:function(){return this.disabled?!0:(this._isPressed&&this.addClass("pressed"),void 0)},dragfinish:function(){return this.disabled?!0:(this.removeClass("pressed"),this._isPressed=!1,void 0)},leave:function(){return this.disabled?!0:(this.removeClass("pressed"),void 0)},up:function(){return this.disabled?!0:(this.removeClass("pressed"),this._isPressed=!1,void 0)}})})(enyo,this);

// ../bower_components/onyx/source/IconButton.js
(function(t){t.kind({name:"onyx.IconButton",kind:"onyx.Icon",published:{active:!1},classes:"onyx-icon-button",handlers:{ondown:"down",onenter:"enter",ondragfinish:"dragfinish",onleave:"leave",onup:"up"},rendered:function(){this.inherited(arguments),this.activeChanged()},tap:function(){return this.disabled?!0:(this.setActive(!0),void 0)},down:function(){return this.disabled?!0:(this.addClass("pressed"),this._isPressed=!0,void 0)},enter:function(){return this.disabled?!0:(this._isPressed&&this.addClass("pressed"),void 0)},dragfinish:function(){return this.disabled?!0:(this.removeClass("pressed"),this._isPressed=!1,void 0)},leave:function(){return this.disabled?!0:(this.removeClass("pressed"),void 0)},up:function(){return this.disabled?!0:(this.removeClass("pressed"),this._isPressed=!1,void 0)},activeChanged:function(){this.bubble("onActivate")}})})(enyo,this);

// ../bower_components/onyx/source/Checkbox.js
(function(t){t.kind({name:"onyx.Checkbox",classes:"onyx-checkbox",kind:"enyo.Checkbox",tag:"div",handlers:{onclick:""},tap:function(){return this.disabled||(this.setChecked(!this.getChecked()),this.bubble("onchange")),!this.disabled},dragstart:t.nop})})(enyo,this);

// ../bower_components/onyx/source/Drawer.js
(function(t){t.kind({name:"onyx.Drawer",kind:"enyo.Drawer"})})(enyo,this);

// ../bower_components/onyx/source/Grabber.js
(function(t){t.kind({name:"onyx.Grabber",classes:"onyx-grabber"})})(enyo,this);

// ../bower_components/onyx/source/Groupbox.js
(function(t){t.kind({name:"onyx.Groupbox",classes:"onyx-groupbox"}),t.kind({name:"onyx.GroupboxHeader",classes:"onyx-groupbox-header"})})(enyo,this);

// ../bower_components/onyx/source/Input.js
(function(t){t.kind({name:"onyx.Input",kind:"enyo.Input",classes:"onyx-input"})})(enyo,this);

// ../bower_components/onyx/source/Popup.js
(function(t){t.kind({name:"onyx.Popup",kind:"enyo.Popup",classes:"onyx-popup"})})(enyo,this);

// ../bower_components/onyx/source/TextArea.js
(function(t){t.kind({name:"onyx.TextArea",kind:"enyo.TextArea",classes:"onyx-textarea"})})(enyo,this);

// ../bower_components/onyx/source/RichText.js
(function(t){t.kind({name:"onyx.RichText",kind:"enyo.RichText",classes:"onyx-richtext"})})(enyo,this);

// ../bower_components/onyx/source/InputDecorator.js
(function(t){t.kind({name:"onyx.InputDecorator",kind:"enyo.ToolDecorator",tag:"label",classes:"onyx-input-decorator",published:{alwaysLooksFocused:!1},handlers:{onDisabledChange:"disabledChange",onfocus:"receiveFocus",onblur:"receiveBlur"},create:function(){this.inherited(arguments),this.updateFocus(!1)},alwaysLooksFocusedChanged:function(){this.updateFocus(this.focus)},updateFocus:function(t){this.focused=t,this.addRemoveClass("onyx-focused",this.alwaysLooksFocused||this.focused)},receiveFocus:function(){this.updateFocus(!0)},receiveBlur:function(){this.updateFocus(!1)},disabledChange:function(t,e){this.addRemoveClass("onyx-disabled",e.originator.disabled)}})})(enyo,this);

// ../bower_components/onyx/source/Tooltip.js
(function(t){t.kind({name:"onyx.Tooltip",kind:"onyx.Popup",classes:"onyx-tooltip below left-arrow",autoDismiss:!1,showDelay:500,defaultLeft:-6,handlers:{onRequestShowTooltip:"requestShow",onRequestHideTooltip:"requestHide"},requestShow:function(){return this.showJob=setTimeout(this.bindSafely("show"),this.showDelay),!0},cancelShow:function(){clearTimeout(this.showJob)},requestHide:function(){return this.cancelShow(),this.inherited(arguments)},showingChanged:function(){this.cancelShow(),this.adjustPosition(!0),this.inherited(arguments)},applyPosition:function(t){var e="";for(var n in t)e+=n+":"+t[n]+(isNaN(t[n])?"; ":"px; ");this.addStyles(e)},adjustPosition:function(){if(this.showing&&this.hasNode()){var t=this.node.getBoundingClientRect();t.top+t.height>window.innerHeight?(this.addRemoveClass("below",!1),this.addRemoveClass("above",!0)):(this.addRemoveClass("above",!1),this.addRemoveClass("below",!0)),t.left+t.width>window.innerWidth&&(this.applyPosition({"margin-left":-t.width,bottom:"auto"}),this.addRemoveClass("left-arrow",!1),this.addRemoveClass("right-arrow",!0))}},handleResize:function(){this.applyPosition({"margin-left":this.defaultLeft,bottom:"auto"}),this.addRemoveClass("left-arrow",!0),this.addRemoveClass("right-arrow",!1),this.adjustPosition(!0),this.inherited(arguments)}})})(enyo,this);

// ../bower_components/onyx/source/TooltipDecorator.js
(function(t){t.kind({name:"onyx.TooltipDecorator",kind:"enyo.Control",defaultKind:"onyx.Button",classes:"onyx-popup-decorator",handlers:{onenter:"enter",onleave:"leave"},enter:function(){this.requestShowTooltip()},leave:function(){this.requestHideTooltip()},tap:function(){this.requestHideTooltip()},requestShowTooltip:function(){this.waterfallDown("onRequestShowTooltip")},requestHideTooltip:function(){this.waterfallDown("onRequestHideTooltip")}})})(enyo,this);

// ../bower_components/onyx/source/MenuDecorator.js
(function(t){t.kind({name:"onyx.MenuDecorator",kind:"onyx.TooltipDecorator",defaultKind:"onyx.Button",classes:"onyx-popup-decorator enyo-unselectable",handlers:{onActivate:"activated",onHide:"menuHidden"},activated:function(t,e){this.requestHideTooltip(),e.originator.active&&(this.menuActive=!0,this.activator=e.originator,this.activator.addClass("active"),this.requestShowMenu())},requestShowMenu:function(){this.waterfallDown("onRequestShowMenu",{activator:this.activator})},requestHideMenu:function(){this.waterfallDown("onRequestHideMenu")},menuHidden:function(){this.menuActive=!1,this.activator&&(this.activator.setActive(!1),this.activator.removeClass("active"))},enter:function(){this.menuActive||this.inherited(arguments)},leave:function(){this.menuActive||this.inherited(arguments)}})})(enyo,this);

// ../bower_components/onyx/source/Menu.js
(function(t){t.kind({name:"onyx.Menu",kind:"onyx.Popup",modal:!0,defaultKind:"onyx.MenuItem",classes:"onyx-menu",published:{maxHeight:200,scrolling:!0,scrollStrategyKind:"TouchScrollStrategy"},handlers:{onActivate:"itemActivated",onRequestShowMenu:"requestMenuShow",onRequestHideMenu:"requestHide"},childComponents:[{name:"client",kind:"enyo.Scroller"}],showOnTop:!1,scrollerName:"client",create:function(){this.inherited(arguments),this.maxHeightChanged()},initComponents:function(){this.scrolling&&this.createComponents(this.childComponents,{isChrome:!0,strategyKind:this.scrollStrategyKind}),this.inherited(arguments)},getScroller:function(){return this.$[this.scrollerName]},maxHeightChanged:function(){this.scrolling&&this.getScroller().setMaxHeight(this.maxHeight+"px")},itemActivated:function(t,e){return e.originator.setActive(!1),!0},showingChanged:function(){this.inherited(arguments),this.scrolling&&this.getScroller().setShowing(this.showing),this.adjustPosition(!0)},requestMenuShow:function(t,e){if(this.floating){var n=e.activator.hasNode();if(n){var i=this.activatorOffset=this.getPageOffset(n);this.applyPosition({top:i.top+(this.showOnTop?0:i.height),left:i.left,width:i.width})}}return this.show(),!0},applyPosition:function(t){var e="";for(var n in t)e+=n+":"+t[n]+(isNaN(t[n])?"; ":"px; ");this.addStyles(e)},getPageOffset:function(t){var e=t.getBoundingClientRect(),n=void 0===window.pageYOffset?document.documentElement.scrollTop:window.pageYOffset,i=void 0===window.pageXOffset?document.documentElement.scrollLeft:window.pageXOffset,r=void 0===e.height?e.bottom-e.top:e.height,o=void 0===e.width?e.right-e.left:e.width;return{top:e.top+n,left:e.left+i,height:r,width:o}},adjustPosition:function(){if(this.showing&&this.hasNode()){this.scrolling&&!this.showOnTop&&this.getScroller().setMaxHeight(this.maxHeight+"px"),this.removeClass("onyx-menu-up"),this.floating||this.applyPosition({left:"auto"});var t=this.node.getBoundingClientRect(),e=void 0===t.height?t.bottom-t.top:t.height,n=void 0===window.innerHeight?document.documentElement.clientHeight:window.innerHeight,i=void 0===window.innerWidth?document.documentElement.clientWidth:window.innerWidth;if(this.menuUp=t.top+e>n&&n-t.bottom<t.top-e,this.addRemoveClass("onyx-menu-up",this.menuUp),this.floating){var r=this.activatorOffset;this.menuUp?this.applyPosition({top:r.top-e+(this.showOnTop?r.height:0),bottom:"auto"}):t.top<r.top&&n>r.top+(this.showOnTop?0:r.height)+e&&this.applyPosition({top:r.top+(this.showOnTop?0:r.height),bottom:"auto"})}if(t.right>i&&(this.floating?this.applyPosition({left:i-t.width}):this.applyPosition({left:-(t.right-i)})),0>t.left&&(this.floating?this.applyPosition({left:0,right:"auto"}):"auto"==this.getComputedStyleValue("right")?this.applyPosition({left:-t.left}):this.applyPosition({right:t.left})),this.scrolling&&!this.showOnTop){t=this.node.getBoundingClientRect();var o;o=this.menuUp?this.maxHeight<t.bottom?this.maxHeight:t.bottom:n>t.top+this.maxHeight?this.maxHeight:n-t.top,this.getScroller().setMaxHeight(o+"px")}}},handleResize:function(){this.inherited(arguments),this.adjustPosition()},requestHide:function(){this.setShowing(!1)}})})(enyo,this);

// ../bower_components/onyx/source/MenuItem.js
(function(t){t.kind({name:"onyx.MenuItem",kind:"enyo.Button",events:{onSelect:"",onItemContentChange:""},classes:"onyx-menu-item",tag:"div",create:function(){this.silence(),this.inherited(arguments),this.unsilence(),this.active&&this.bubble("onActivate")},tap:function(){this.inherited(arguments),this.bubble("onRequestHideMenu"),this.doSelect({selected:this,content:this.content})},contentChanged:function(){this.inherited(arguments),this.doItemContentChange({content:this.content})}})})(enyo,this);

// ../bower_components/onyx/source/Submenu.js
(function(t){t.kind({name:"onyx.Submenu",defaultKind:"onyx.MenuItem",initComponents:function(){this.createChrome([{name:"label",kind:"enyo.Control",classes:"onyx-menu-item",content:this.content||this.name,isChrome:!0,ontap:"toggleOpen"},{kind:"onyx.Drawer",name:"client",classes:"client onyx-submenu",isChrome:!0,open:!1}]),this.inherited(arguments)},toggleOpen:function(){this.setOpen(!this.getOpen())},setOpen:function(t){this.$.client.setOpen(t)},getOpen:function(){return this.$.client.getOpen()}})})(enyo,this);

// ../bower_components/onyx/source/PickerDecorator.js
(function(t){t.kind({name:"onyx.PickerDecorator",kind:"onyx.MenuDecorator",classes:"onyx-picker-decorator",defaultKind:"onyx.PickerButton",handlers:{onChange:"change"},change:function(t,e){this.waterfallDown("onChange",e)}})})(enyo,this);

// ../bower_components/onyx/source/PickerButton.js
(function(t){t.kind({name:"onyx.PickerButton",kind:"onyx.Button",handlers:{onChange:"change"},change:function(t,e){void 0!==e.content&&this.setContent(e.content)}})})(enyo,this);

// ../bower_components/onyx/source/Picker.js
(function(t){t.kind({name:"onyx.Picker",kind:"onyx.Menu",classes:"onyx-picker enyo-unselectable",published:{selected:null},events:{onChange:""},handlers:{onItemContentChange:"itemContentChange"},floating:!0,showOnTop:!0,initComponents:function(){this.setScrolling(!0),this.inherited(arguments)},showingChanged:function(){this.getScroller().setShowing(this.showing),this.inherited(arguments),this.showing&&this.selected&&this.scrollToSelected()},scrollToSelected:function(){this.getScroller().scrollToControl(this.selected,!this.menuUp)},itemActivated:function(t,e){return this.processActivatedItem(e.originator),this.inherited(arguments)},processActivatedItem:function(t){t.active&&this.setSelected(t)},selectedChanged:function(t){t&&t.removeClass("selected"),this.selected&&(this.selected.addClass("selected"),this.doChange({selected:this.selected,content:this.selected.content}))},itemContentChange:function(t,e){e.originator==this.selected&&this.doChange({selected:this.selected,content:this.selected.content})},handleResize:function(){this.inherited(arguments),this.adjustPosition()}})})(enyo,this);

// ../bower_components/onyx/source/FlyweightPicker.js
(function(t){t.kind({name:"onyx.FlyweightPicker",kind:"onyx.Picker",classes:"onyx-flyweight-picker",published:{count:0},events:{onSetupItem:"",onSelect:""},handlers:{onSelect:"itemSelect"},components:[{name:"scroller",kind:"enyo.Scroller",strategyKind:"TouchScrollStrategy",components:[{name:"flyweight",kind:"FlyweightRepeater",noSelect:!0,ontap:"itemTap"}]}],scrollerName:"scroller",initComponents:function(){this.controlParentName="flyweight",this.inherited(arguments),this.$.flyweight.$.client.children[0].setActive(!0)},create:function(){this.inherited(arguments),this.countChanged()},rendered:function(){this.inherited(arguments),this.selectedChanged()},scrollToSelected:function(){var t=this.$.flyweight.fetchRowNode(this.selected);this.getScroller().scrollToNode(t,!this.menuUp)},countChanged:function(){this.$.flyweight.count=this.count},processActivatedItem:function(t){this.item=t},selectedChanged:function(t){if(this.item){null!=t&&(this.item.removeClass("selected"),this.$.flyweight.renderRow(t));var e;null!=this.selected&&(this.item.addClass("selected"),this.$.flyweight.renderRow(this.selected),this.item.removeClass("selected"),e=this.$.flyweight.fetchRowNode(this.selected)),this.doChange({selected:this.selected,content:e&&e.textContent||this.item.content})}},itemTap:function(t,e){this.setSelected(e.rowIndex),this.doSelect({selected:this.item,content:this.item.content})},itemSelect:function(t,e){return e.originator!=this?!0:void 0}})})(enyo,this);

// ../bower_components/onyx/source/DatePicker.js
(function(t,e){t.kind({name:"onyx.DatePicker",classes:"onyx-toolbar-inline",published:{disabled:!1,locale:"en-US",dayHidden:!1,monthHidden:!1,yearHidden:!1,minYear:1900,maxYear:2099,value:null},events:{onSelect:""},create:function(){this.inherited(arguments),e.ilib&&(this.locale=e.ilib.getLocale()),this.initDefaults()},initDefaults:function(){var t;e.ilib?(t=[],this._tf=new e.ilib.DateFmt({locale:this.locale,timezone:"local"}),t=this._tf.getMonthsOfYear({length:"long"})):t=[void 0,"JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"],this.setupPickers(this._tf?this._tf.getTemplate():"mdy"),this.dayHiddenChanged(),this.monthHiddenChanged(),this.yearHiddenChanged();for(var n,i=this.value=this.value||new Date,r=0;n=t[r+1];r++)this.$.monthPicker.createComponent({content:n,value:r,active:r==i.getMonth()});var o=i.getFullYear();for(this.$.yearPicker.setSelected(o-this.minYear),r=1;this.monthLength(i.getYear(),i.getMonth())>=r;r++)this.$.dayPicker.createComponent({content:r,value:r,active:r==i.getDate()})},monthLength:function(t,e){return 32-new Date(t,e,32).getDate()},setupYear:function(t,e){return this.$.year.setContent(this.minYear+e.index),!0},setupPickers:function(t){var e,n,i,r=t.split(""),o=!1,s=!1,a=!1;for(n=0,i=r.length;i>n;n++)switch(e=r[n],e.toLowerCase()){case"d":a||(this.createDay(),a=!0);break;case"m":s||(this.createMonth(),s=!0);break;case"y":o||(this.createYear(),o=!0);break;default:}},createYear:function(){var t=this.maxYear-this.minYear;this.createComponent({kind:"onyx.PickerDecorator",onSelect:"updateYear",components:[{classes:"onyx-datepicker-year",name:"yearPickerButton",disabled:this.disabled},{name:"yearPicker",kind:"onyx.FlyweightPicker",count:++t,onSetupItem:"setupYear",components:[{name:"year"}]}]})},createMonth:function(){this.createComponent({kind:"onyx.PickerDecorator",onSelect:"updateMonth",components:[{classes:"onyx-datepicker-month",name:"monthPickerButton",disabled:this.disabled},{name:"monthPicker",kind:"onyx.Picker"}]})},createDay:function(){this.createComponent({kind:"onyx.PickerDecorator",onSelect:"updateDay",components:[{classes:"onyx-datepicker-day",name:"dayPickerButton",disabled:this.disabled},{name:"dayPicker",kind:"onyx.Picker"}]})},localeChanged:function(){this.refresh()},dayHiddenChanged:function(){this.$.dayPicker.getParent().setShowing(this.dayHidden?!1:!0)},monthHiddenChanged:function(){this.$.monthPicker.getParent().setShowing(this.monthHidden?!1:!0)},yearHiddenChanged:function(){this.$.yearPicker.getParent().setShowing(this.yearHidden?!1:!0)},minYearChanged:function(){this.refresh()},maxYearChanged:function(){this.refresh()},valueChanged:function(){this.refresh()},disabledChanged:function(){this.$.yearPickerButton.setDisabled(this.disabled),this.$.monthPickerButton.setDisabled(this.disabled),this.$.dayPickerButton.setDisabled(this.disabled)},updateDay:function(t,e){var n=this.calcDate(this.value.getFullYear(),this.value.getMonth(),e.selected.value);return this.doSelect({name:this.name,value:n}),this.setValue(n),!0},updateMonth:function(t,e){var n=this.calcDate(this.value.getFullYear(),e.selected.value,this.value.getDate());return this.doSelect({name:this.name,value:n}),this.setValue(n),!0},updateYear:function(t,e){if(-1!=e.originator.selected){var n=this.calcDate(this.minYear+e.originator.selected,this.value.getMonth(),this.value.getDate());this.doSelect({name:this.name,value:n}),this.setValue(n)}return!0},calcDate:function(t,e,n){return new Date(t,e,n,this.value.getHours(),this.value.getMinutes(),this.value.getSeconds(),this.value.getMilliseconds())},refresh:function(){this.destroyClientControls(),this.initDefaults(),this.render()}})})(enyo,this);

// ../bower_components/onyx/source/TimePicker.js
(function(t,e){t.kind({name:"onyx.TimePicker",classes:"onyx-toolbar-inline",published:{disabled:!1,locale:"en-US",is24HrMode:null,value:null},events:{onSelect:""},create:function(){this.inherited(arguments),e.ilib&&(this.locale=e.ilib.getLocale()),this.initDefaults()},initDefaults:function(){if(this._strAm="AM",this._strPm="PM",e.ilib){this._tf=new e.ilib.DateFmt({locale:this.locale});var t=new e.ilib.DateFmt({locale:this.locale,type:"time",template:"a"}),n=e.ilib.Date.newInstance({locale:this.locale,hour:1});this._strAm=t.format(n),n.hour=13,this._strPm=t.format(n),null==this.is24HrMode&&(this.is24HrMode="24"==this._tf.getClock())}else null==this.is24HrMode&&(this.is24HrMode=!1);this.setupPickers(this._tf?this._tf.getTimeComponents():"hma");var i,r=this.value=this.value||new Date;if(this.is24HrMode)for(i=0;24>i;i++)this.$.hourPicker.createComponent({content:i,value:i,active:i==r.getHours()});else{var o=r.getHours();for(o=0===o?12:o,i=1;12>=i;i++)this.$.hourPicker.createComponent({content:i,value:i,active:i==(o>12?o%12:o)})}for(i=0;59>=i;i++)this.$.minutePicker.createComponent({content:10>i?"0"+i:i,value:i,active:i==r.getMinutes()});r.getHours()>=12?this.$.ampmPicker.createComponents([{content:this._strAm},{content:this._strPm,active:!0}]):this.$.ampmPicker.createComponents([{content:this._strAm,active:!0},{content:this._strPm}]),this.$.ampmPicker.getParent().setShowing(!this.is24HrMode)},setupPickers:function(t){-1!==t.indexOf("h")&&this.createHour(),-1!==t.indexOf("m")&&this.createMinute(),-1!==t.indexOf("a")&&this.createAmPm()},createHour:function(){this.createComponent({kind:"onyx.PickerDecorator",onSelect:"updateHour",components:[{classes:"onyx-timepicker-hour",name:"hourPickerButton",disabled:this.disabled},{name:"hourPicker",kind:"onyx.Picker"}]})},createMinute:function(){this.createComponent({kind:"onyx.PickerDecorator",onSelect:"updateMinute",components:[{classes:"onyx-timepicker-minute",name:"minutePickerButton",disabled:this.disabled},{name:"minutePicker",kind:"onyx.Picker"}]})},createAmPm:function(){this.createComponent({kind:"onyx.PickerDecorator",onSelect:"updateAmPm",components:[{classes:"onyx-timepicker-ampm",name:"ampmPickerButton",disabled:this.disabled},{name:"ampmPicker",kind:"onyx.Picker"}]})},disabledChanged:function(){this.$.hourPickerButton.setDisabled(this.disabled),this.$.minutePickerButton.setDisabled(this.disabled),this.$.ampmPickerButton.setDisabled(this.disabled)},localeChanged:function(){this.is24HrMode=null,this.refresh()},is24HrModeChanged:function(){this.refresh()},valueChanged:function(){this.refresh()},updateHour:function(t,e){var n=e.selected.value;if(!this.is24HrMode){var i=this.$.ampmPicker.getParent().controlAtIndex(0).content;n=n+(12==n?-12:0)+(this.isAm(i)?0:12)}return this.setValue(this.calcTime(n,this.value.getMinutes())),this.doSelect({name:this.name,value:this.value}),!0},updateMinute:function(t,e){return this.setValue(this.calcTime(this.value.getHours(),e.selected.value)),this.doSelect({name:this.name,value:this.value}),!0},updateAmPm:function(t,e){var n=this.value.getHours();return this.is24HrMode||(n+=n>11?this.isAm(e.content)?-12:0:this.isAm(e.content)?0:12),this.setValue(this.calcTime(n,this.value.getMinutes())),this.doSelect({name:this.name,value:this.value}),!0},calcTime:function(t,e){return new Date(this.value.getFullYear(),this.value.getMonth(),this.value.getDate(),t,e,this.value.getSeconds(),this.value.getMilliseconds())},isAm:function(t){return t==this._strAm?!0:!1},refresh:function(){this.destroyClientControls(),this.initDefaults(),this.render()}})})(enyo,this);

// ../bower_components/onyx/source/RadioButton.js
(function(t){t.kind({name:"onyx.RadioButton",kind:"enyo.Button",classes:"onyx-radiobutton"})})(enyo,this);

// ../bower_components/onyx/source/RadioGroup.js
(function(t){t.kind({name:"onyx.RadioGroup",kind:"enyo.Group",defaultKind:"onyx.RadioButton",highlander:!0})})(enyo,this);

// ../bower_components/onyx/source/ToggleButton.js
(function(t){t.kind({name:"onyx.ToggleButton",classes:"onyx-toggle-button",published:{active:!1,value:!1,onContent:"On",offContent:"Off",disabled:!1},events:{onChange:""},handlers:{ondragstart:"dragstart",ondrag:"drag",ondragfinish:"dragfinish"},components:[{name:"contentOn",classes:"onyx-toggle-content on"},{name:"contentOff",classes:"onyx-toggle-content off"},{classes:"onyx-toggle-button-knob"}],create:function(){this.inherited(arguments),this.value=Boolean(this.value||this.active),this.onContentChanged(),this.offContentChanged(),this.disabledChanged()},rendered:function(){this.inherited(arguments),this.updateVisualState()},updateVisualState:function(){this.addRemoveClass("off",!this.value),this.$.contentOn.setShowing(this.value),this.$.contentOff.setShowing(!this.value),this.setActive(this.value)},valueChanged:function(){this.updateVisualState(),this.doChange({value:this.value})},activeChanged:function(){this.setValue(this.active),this.bubble("onActivate")},onContentChanged:function(){this.$.contentOn.setContent(this.onContent||""),this.$.contentOn.addRemoveClass("empty",!this.onContent)},offContentChanged:function(){this.$.contentOff.setContent(this.offContent||""),this.$.contentOff.addRemoveClass("empty",!this.onContent)},disabledChanged:function(){this.addRemoveClass("disabled",this.disabled)},updateValue:function(t){this.disabled||this.setValue(t)},tap:function(){this.updateValue(!this.value)},dragstart:function(t,e){return e.horizontal?(e.preventDefault(),this.dragging=!0,this.dragged=!1,!0):void 0},drag:function(t,e){if(this.dragging){var n=e.dx;return Math.abs(n)>10&&(this.updateValue(n>0),this.dragged=!0),!0}},dragfinish:function(t,e){this.dragging=!1,this.dragged&&e.preventTap()}})})(enyo,this);

// ../bower_components/onyx/source/ToggleIconButton.js
(function(t){t.kind({name:"onyx.ToggleIconButton",kind:"onyx.Icon",published:{active:!1,value:!1},events:{onChange:""},classes:"onyx-icon-button onyx-icon-toggle",activeChanged:function(){this.addRemoveClass("active",this.value),this.bubble("onActivate")},updateValue:function(t){this.disabled||(this.setValue(t),this.doChange({value:this.value}))},tap:function(){this.updateValue(!this.value)},valueChanged:function(){this.setActive(this.value)},create:function(){this.inherited(arguments),this.value=Boolean(this.value||this.active)},rendered:function(){this.inherited(arguments),this.valueChanged(),this.removeClass("onyx-icon")}})})(enyo,this);

// ../bower_components/onyx/source/Toolbar.js
(function(t){t.kind({name:"onyx.Toolbar",classes:"onyx onyx-toolbar onyx-toolbar-inline",create:function(){this.inherited(arguments),this.hasClass("onyx-menu-toolbar")&&t.platform.android>=4&&this.applyStyle("position","static")}})})(enyo,this);

// ../bower_components/onyx/source/ProgressBar.js
(function(t){t.kind({name:"onyx.ProgressBar",classes:"onyx-progress-bar",published:{progress:0,min:0,max:100,barClasses:"",showStripes:!0,animateStripes:!0,increment:0},events:{onAnimateProgressFinish:""},components:[{name:"progressAnimator",kind:"enyo.Animator",onStep:"progressAnimatorStep",onEnd:"progressAnimatorComplete"},{name:"bar",classes:"onyx-progress-bar-bar"}],create:function(){this.inherited(arguments),this.progressChanged(),this.barClassesChanged(),this.showStripesChanged(),this.animateStripesChanged()},barClassesChanged:function(t){this.$.bar.removeClass(t),this.$.bar.addClass(this.barClasses)},showStripesChanged:function(){this.$.bar.addRemoveClass("striped",this.showStripes)},animateStripesChanged:function(){this.$.bar.addRemoveClass("animated",this.animateStripes)},progressChanged:function(){this.progress=this.clampValue(this.min,this.max,this.progress);var t=this.calcPercent(this.progress);this.updateBarPosition(t)},calcIncrement:function(t){return Math.round(t/this.increment)*this.increment},clampValue:function(t,e,n){return Math.max(t,Math.min(n,e))},calcRatio:function(t){return(t-this.min)/(this.max-this.min)},calcPercent:function(t){return 100*this.calcRatio(t)},updateBarPosition:function(t){this.$.bar.applyStyle("width",t+"%")},animateProgressTo:function(t){this.$.progressAnimator.play({startValue:this.progress,endValue:t,node:this.hasNode()})},progressAnimatorStep:function(t){return this.setProgress(t.value),!0},progressAnimatorComplete:function(t){return this.doAnimateProgressFinish(t),!0}})})(enyo,this);

// ../bower_components/onyx/source/ProgressButton.js
(function(t){t.kind({name:"onyx.ProgressButton",kind:"onyx.ProgressBar",classes:"onyx-progress-button",events:{onCancel:""},components:[{name:"progressAnimator",kind:"enyo.Animator",onStep:"progressAnimatorStep",onEnd:"progressAnimatorComplete"},{name:"bar",classes:"onyx-progress-bar-bar onyx-progress-button-bar"},{name:"client",classes:"onyx-progress-button-client"},{kind:"onyx.Icon",src:"$lib/onyx/images/progress-button-cancel.png",classes:"onyx-progress-button-icon",ontap:"cancelTap"}],cancelTap:function(){this.doCancel()}})})(enyo,this);

// ../bower_components/onyx/source/Slider.js
(function(t){t.kind({name:"onyx.Slider",kind:"onyx.ProgressBar",classes:"onyx-slider",published:{value:0,lockBar:!0,tappable:!0},events:{onChange:"",onChanging:"",onAnimateFinish:""},showStripes:!1,handlers:{ondragstart:"dragstart",ondrag:"drag",ondragfinish:"dragfinish"},moreComponents:[{kind:"Animator",onStep:"animatorStep",onEnd:"animatorComplete"},{classes:"onyx-slider-taparea"},{name:"knob",classes:"onyx-slider-knob"}],create:function(){this.inherited(arguments),this.moreComponents[2].ondown="knobDown",this.moreComponents[2].onup="knobUp",this.createComponents(this.moreComponents),this.valueChanged()},valueChanged:function(){this.value=this.clampValue(this.min,this.max,this.value);var t=this.calcPercent(this.value);this.updateKnobPosition(t),this.lockBar&&this.setProgress(this.value)},updateKnobPosition:function(t){this.$.knob.applyStyle("left",t+"%")},calcKnobPosition:function(t){var e=t.clientX-this.hasNode().getBoundingClientRect().left;return e/this.getBounds().width*(this.max-this.min)+this.min},dragstart:function(t,e){return e.horizontal?(e.preventDefault(),this.dragging=!0,t.addClass("pressed"),!0):void 0},drag:function(t,e){if(this.dragging){var n=this.calcKnobPosition(e);return n=this.increment?this.calcIncrement(n):n,this.setValue(n),this.doChanging({value:this.value}),!0}},dragfinish:function(t,e){return this.dragging=!1,e.preventTap(),this.doChange({value:this.value}),t.removeClass("pressed"),!0},tap:function(t,e){if(this.tappable){var n=this.calcKnobPosition(e);return n=this.increment?this.calcIncrement(n):n,this.tapped=!0,this.animateTo(n),!0}},knobDown:function(){this.$.knob.addClass("pressed")},knobUp:function(){this.$.knob.removeClass("pressed")},animateTo:function(t){this.$.animator.play({startValue:this.value,endValue:t,node:this.hasNode()})},animatorStep:function(t){return this.setValue(t.value),!0},animatorComplete:function(t){return this.tapped&&(this.tapped=!1,this.doChange({value:this.value})),this.doAnimateFinish(t),!0}})})(enyo,this);

// ../bower_components/onyx/source/RangeSlider.js
(function(t){t.kind({name:"onyx.RangeSlider",kind:"onyx.ProgressBar",classes:"onyx-slider",published:{rangeMin:0,rangeMax:100,rangeStart:0,rangeEnd:100,beginValue:0,endValue:0},events:{onChange:"",onChanging:""},showStripes:!1,showLabels:!1,handlers:{ondragstart:"dragstart",ondrag:"drag",ondragfinish:"dragfinish",ondown:"down"},moreComponents:[{name:"startKnob",classes:"onyx-slider-knob"},{name:"endKnob",classes:"onyx-slider-knob onyx-range-slider-knob"}],create:function(){this.inherited(arguments),this.createComponents(this.moreComponents),this.initControls()},rendered:function(){this.inherited(arguments);var t=this.calcPercent(this.beginValue);this.updateBarPosition(t)},initControls:function(){this.$.bar.applyStyle("position","relative"),this.refreshRangeSlider(),this.showLabels&&(this.$.startKnob.createComponent({name:"startLabel",kind:"onyx.RangeSliderKnobLabel"}),this.$.endKnob.createComponent({name:"endLabel",kind:"onyx.RangeSliderKnobLabel"})),this.$.startKnob.ondown="knobDown",this.$.startKnob.onup="knobUp",this.$.endKnob.ondown="knobDown",this.$.endKnob.onup="knobUp"},refreshRangeSlider:function(){this.beginValue=this.calcKnobPercent(this.rangeStart),this.endValue=this.calcKnobPercent(this.rangeEnd),this.beginValueChanged(),this.endValueChanged()},calcKnobRatio:function(t){return(t-this.rangeMin)/(this.rangeMax-this.rangeMin)},calcKnobPercent:function(t){return 100*this.calcKnobRatio(t)},beginValueChanged:function(t){if(void 0===t){var e=this.calcPercent(this.beginValue);this.updateKnobPosition(e,this.$.startKnob)}},endValueChanged:function(t){if(void 0===t){var e=this.calcPercent(this.endValue);this.updateKnobPosition(e,this.$.endKnob)}},calcKnobPosition:function(t){var e=t.clientX-this.hasNode().getBoundingClientRect().left;return e/this.getBounds().width*(this.max-this.min)+this.min},updateKnobPosition:function(t,e){e.applyStyle("left",t+"%"),this.updateBarPosition()},updateBarPosition:function(){if(void 0!==this.$.startKnob&&void 0!==this.$.endKnob){var t=this.calcKnobPercent(this.rangeStart),e=this.calcKnobPercent(this.rangeEnd)-t;this.$.bar.applyStyle("left",t+"%"),this.$.bar.applyStyle("width",e+"%")}},calcRangeRatio:function(t){return t/100*(this.rangeMax-this.rangeMin)+this.rangeMin-this.increment/2},swapZIndex:function(t){"startKnob"===t?(this.$.startKnob.applyStyle("z-index",1),this.$.endKnob.applyStyle("z-index",0)):"endKnob"===t&&(this.$.startKnob.applyStyle("z-index",0),this.$.endKnob.applyStyle("z-index",1))},down:function(t){this.swapZIndex(t.name)},dragstart:function(t,e){return e.horizontal?(e.preventDefault(),this.dragging=!0,t.addClass("pressed"),!0):void 0},drag:function(t,e){if(this.dragging){var n,i,r,o=this.calcKnobPosition(e);if("startKnob"===t.name&&o>=0){if(!(this.endValue>=o&&-1===e.xDirection||this.endValue>=o))return this.drag(this.$.endKnob,e);this.setBeginValue(o),n=this.calcRangeRatio(this.beginValue),i=this.increment?this.calcIncrement(n+.5*this.increment):n,r=this.calcKnobPercent(i),this.updateKnobPosition(r,this.$.startKnob),this.setRangeStart(i),this.doChanging({value:i})}else if("endKnob"===t.name&&100>=o){if(!(o>=this.beginValue&&1===e.xDirection||o>=this.beginValue))return this.drag(this.$.startKnob,e);this.setEndValue(o),n=this.calcRangeRatio(this.endValue),i=this.increment?this.calcIncrement(n+.5*this.increment):n,r=this.calcKnobPercent(i),this.updateKnobPosition(r,this.$.endKnob),this.setRangeEnd(i),this.doChanging({value:i})}return!0}},dragfinish:function(t,e){this.dragging=!1,e.preventTap();var n;return"startKnob"===t.name?(n=this.calcRangeRatio(this.beginValue),this.doChange({value:n,startChanged:!0})):"endKnob"===t.name&&(n=this.calcRangeRatio(this.endValue),this.doChange({value:n,startChanged:!1})),t.removeClass("pressed"),!0},knobDown:function(t){t.addClass("pressed")},knobUp:function(t){t.removeClass("pressed")},rangeMinChanged:function(){this.refreshRangeSlider()},rangeMaxChanged:function(){this.refreshRangeSlider()},rangeStartChanged:function(){this.refreshRangeSlider()},rangeEndChanged:function(){this.refreshRangeSlider()},setStartLabel:function(t){this.$.startKnob.waterfallDown("onSetLabel",t)},setEndLabel:function(t){this.$.endKnob.waterfallDown("onSetLabel",t)}}),t.kind({name:"onyx.RangeSliderKnobLabel",classes:"onyx-range-slider-label",handlers:{onSetLabel:"setLabel"},setLabel:function(t,e){this.setContent(e)}})})(enyo,this);

// ../bower_components/onyx/source/Item.js
(function(t){t.kind({name:"onyx.Item",classes:"onyx-item",published:{tapHighlight:!0},handlers:{onhold:"hold",onrelease:"release"},hold:function(t,e){this.tapHighlight&&onyx.Item.addRemoveFlyweightClass(this.controlParent||this,"onyx-highlight",!0,e)},release:function(t,e){this.tapHighlight&&onyx.Item.addRemoveFlyweightClass(this.controlParent||this,"onyx-highlight",!1,e)},statics:{addRemoveFlyweightClass:function(t,e,n,i,r){var o=i.flyweight;o&&(r=void 0!==r?r:i.index,o.performOnRow(r,function(){t.addRemoveClass(e,n)}))}}})})(enyo,this);

// ../bower_components/onyx/source/Spinner.js
(function(t){t.kind({name:"onyx.Spinner",classes:"onyx-spinner",stop:function(){this.setShowing(!1)},start:function(){this.setShowing(!0)},toggle:function(){this.setShowing(!this.getShowing())}})})(enyo,this);

// ../bower_components/onyx/source/MoreToolbar.js
(function(t){t.kind({name:"onyx.MoreToolbar",classes:"onyx-toolbar onyx-more-toolbar",menuClass:"",movedClass:"",layoutKind:"FittableColumnsLayout",noStretch:!0,handlers:{onHide:"reflow"},published:{clientLayoutKind:"FittableColumnsLayout"},tools:[{name:"client",noStretch:!0,fit:!0,classes:"onyx-toolbar-inline"},{name:"nard",kind:"onyx.MenuDecorator",showing:!1,onActivate:"activated",components:[{kind:"onyx.IconButton",classes:"onyx-more-button"},{name:"menu",kind:"onyx.Menu",scrolling:!1,classes:"onyx-more-menu"}]}],initComponents:function(){this.menuClass&&this.menuClass.length>0&&!this.$.menu.hasClass(this.menuClass)&&this.$.menu.addClass(this.menuClass),this.createChrome(this.tools),this.inherited(arguments),this.$.client.setLayoutKind(this.clientLayoutKind)},clientLayoutKindChanged:function(){this.$.client.setLayoutKind(this.clientLayoutKind)},reflow:function(){this.inherited(arguments),this.isContentOverflowing()?(this.$.nard.show(),this.popItem()&&this.reflow()):this.tryPushItem()?this.reflow():this.$.menu.children.length||(this.$.nard.hide(),this.$.menu.hide())},activated:function(t,e){this.addRemoveClass("active",e.originator.active)},popItem:function(){var t=this.findCollapsibleItem();if(t){this.movedClass&&this.movedClass.length>0&&!t.hasClass(this.movedClass)&&t.addClass(this.movedClass),this.$.menu.addChild(t,null);var e=this.$.menu.hasNode();return e&&t.hasNode()&&t.insertNodeInParent(e),!0}},pushItem:function(){var t=this.$.menu.children,e=t[0];if(e){this.movedClass&&this.movedClass.length>0&&e.hasClass(this.movedClass)&&e.removeClass(this.movedClass),this.$.client.addChild(e);var n=this.$.client.hasNode();if(n&&e.hasNode()){for(var i,r,o=0;this.$.client.children.length>o;o++){var s=this.$.client.children[o];if(void 0!==s.toolbarIndex&&s.toolbarIndex!=o){i=s,r=o;break}}if(i&&i.hasNode()){e.insertNodeInParent(n,i.node);var a=this.$.client.children.pop();this.$.client.children.splice(r,0,a)}else e.appendNodeToParent(n)}return!0}},tryPushItem:function(){if(this.pushItem()){if(!this.isContentOverflowing())return!0;this.popItem()}},isContentOverflowing:function(){if(this.$.client.hasNode()){var t=this.$.client.children,e=t.length&&t[t.length-1].hasNode();if(e)return this.$.client.reflow(),e.offsetLeft+e.offsetWidth>this.$.client.node.clientWidth}},findCollapsibleItem:function(){for(var t,e=this.$.client.children,n=e.length-1;t=e[n];n--){if(!t.unmoveable)return t;void 0===t.toolbarIndex&&(t.toolbarIndex=n)}}})})(enyo,this);

// ../bower_components/onyx/source/IntegerPicker.js
(function(t){t.kind({name:"onyx.IntegerPicker",kind:"onyx.Picker",published:{value:0,min:0,max:9},create:function(){this.inherited(arguments),this.rangeChanged()},minChanged:function(){this.destroyClientControls(),this.rangeChanged(),this.render()},maxChanged:function(){this.destroyClientControls(),this.rangeChanged(),this.render()},rangeChanged:function(){for(var t=this.min;this.max>=t;t++)this.createComponent({content:t,active:t===this.value?!0:!1})},valueChanged:function(){var t=this.getClientControls(),e=t.length;this.value=Math.min(this.max,Math.max(this.value,this.min));for(var n=0;e>n;n++)if(this.value===parseInt(t[n].content,10)){this.setSelected(t[n]);break}},selectedChanged:function(t){t&&t.removeClass("selected"),this.selected&&(this.selected.addClass("selected"),this.doChange({selected:this.selected,content:this.selected.content})),this.setValue(parseInt(this.selected.content,10))}})})(enyo,this);

// ../bower_components/onyx/source/ContextualPopup.js
(function(t){t.kind({name:"onyx.ContextualPopup",kind:"enyo.Popup",modal:!0,autoDismiss:!0,floating:!1,classes:"onyx-contextual-popup enyo-unselectable",published:{maxHeight:100,scrolling:!0,title:void 0,actionButtons:[]},statics:{subclass:function(t,e){var i=t.prototype;e.actionButtons&&(i.kindActionButtons=e.actionButtons,delete i.actionButtons)}},vertFlushMargin:60,horizFlushMargin:50,widePopup:200,longPopup:200,horizBuffer:16,events:{onTap:""},handlers:{onActivate:"childControlActivated",onRequestShowMenu:"requestShow",onRequestHideMenu:"requestHide"},components:[{name:"title",classes:"onyx-contextual-popup-title"},{classes:"onyx-contextual-popup-scroller",components:[{name:"client",kind:"enyo.Scroller",vertical:"auto",classes:"enyo-unselectable",thumb:!1,strategyKind:"TouchScrollStrategy"}]},{name:"actionButtons",classes:"onyx-contextual-popup-action-buttons"}],scrollerName:"client",create:function(){this.inherited(arguments),this.maxHeightChanged(),this.titleChanged(),this.actionButtonsChanged()},getScroller:function(){return this.$[this.scrollerName]},titleChanged:function(){this.$.title.setContent(this.title)},actionButtonsChanged:function(){this.actionButtons?t.forEach(this.actionButtons,function(t){t.kind="onyx.Button",t.classes=t.classes+" onyx-contextual-popup-action-button",t.popup=this,t.actionButton=!0,this.$.actionButtons.createComponent(t,{owner:this.getInstanceOwner()})},this):this.kindActionButtons&&t.forEach(this.kindActionButtons,function(t){t.kind="onyx.Button",t.classes=t.classes+" onyx-contextual-popup-action-button",t.popup=this,t.actionButton=!0,this.$.actionButtons.createComponent(t,{owner:this})},this),this.hasNode()&&this.$.actionButtons.render()},maxHeightChanged:function(){this.scrolling&&this.getScroller().setMaxHeight(this.maxHeight+"px")},showingChanged:t.inherit(function(t){return function(){t.apply(this,arguments),this.scrolling&&this.getScroller().setShowing(this.showing),this.adjustPosition()}}),childControlActivated:function(){return!0},requestShow:function(t,e){var i=e.activator.hasNode();return i&&(this.activatorOffset=this.getPageOffset(i)),this.show(),!0},requestHide:function(){this.setShowing(!1)},applyPosition:function(t){var e="";for(var i in t)e+=i+":"+t[i]+(isNaN(t[i])?"; ":"px; ");this.addStyles(e)},getPageOffset:function(t){var e=this.getBoundingRect(t),i=void 0===window.pageYOffset?document.documentElement.scrollTop:window.pageYOffset,n=void 0===window.pageXOffset?document.documentElement.scrollLeft:window.pageXOffset,o=void 0===e.height?e.bottom-e.top:e.height,s=void 0===e.width?e.right-e.left:e.width;return{top:e.top+i,left:e.left+n,height:o,width:s}},adjustPosition:function(){if(this.showing&&this.hasNode()){this.resetPositioning();var t=this.getViewWidth(),e=this.getViewHeight(),i=this.vertFlushMargin,n=e-this.vertFlushMargin,o=this.horizFlushMargin,s=t-this.horizFlushMargin;if(i>this.activatorOffset.top+this.activatorOffset.height||this.activatorOffset.top>n){if(this.applyVerticalFlushPositioning(o,s))return;if(this.applyHorizontalFlushPositioning(o,s))return;if(this.applyVerticalPositioning())return}else if((o>this.activatorOffset.left+this.activatorOffset.width||this.activatorOffset.left>s)&&this.applyHorizontalPositioning())return;var r=this.getBoundingRect(this.node);if(r.width>this.widePopup){if(this.applyVerticalPositioning())return}else if(r.height>this.longPopup&&this.applyHorizontalPositioning())return;if(this.applyVerticalPositioning())return;if(this.applyHorizontalPositioning())return}},initVerticalPositioning:function(){this.resetPositioning(),this.addClass("vertical");var t=this.getBoundingRect(this.node),e=this.getViewHeight();return this.floating?e/2>this.activatorOffset.top?(this.applyPosition({top:this.activatorOffset.top+this.activatorOffset.height,bottom:"auto"}),this.addClass("below")):(this.applyPosition({top:this.activatorOffset.top-t.height,bottom:"auto"}),this.addClass("above")):t.top+t.height>e&&e-t.bottom<t.top-t.height?this.addClass("above"):this.addClass("below"),t=this.getBoundingRect(this.node),t.top+t.height>e||0>t.top?!1:!0},applyVerticalPositioning:function(){if(!this.initVerticalPositioning())return!1;var t=this.getBoundingRect(this.node),e=this.getViewWidth();if(this.floating){var i=this.activatorOffset.left+this.activatorOffset.width/2-t.width/2;i+t.width>e?(this.applyPosition({left:this.activatorOffset.left+this.activatorOffset.width-t.width}),this.addClass("left")):0>i?(this.applyPosition({left:this.activatorOffset.left}),this.addClass("right")):this.applyPosition({left:i})}else{var n=this.activatorOffset.left+this.activatorOffset.width/2-t.left-t.width/2;t.right+n>e?(this.applyPosition({left:this.activatorOffset.left+this.activatorOffset.width-t.right}),this.addRemoveClass("left",!0)):0>t.left+n?this.addRemoveClass("right",!0):this.applyPosition({left:n})}return!0},applyVerticalFlushPositioning:function(t,e){if(!this.initVerticalPositioning())return!1;var i=this.getBoundingRect(this.node),n=this.getViewWidth();return t>this.activatorOffset.left+this.activatorOffset.width/2?(this.activatorOffset.left+this.activatorOffset.width/2<this.horizBuffer?this.applyPosition({left:this.horizBuffer+(this.floating?0:-i.left)}):this.applyPosition({left:this.activatorOffset.width/2+(this.floating?this.activatorOffset.left:0)}),this.addClass("right"),this.addClass("corner"),!0):this.activatorOffset.left+this.activatorOffset.width/2>e?(this.activatorOffset.left+this.activatorOffset.width/2>n-this.horizBuffer?this.applyPosition({left:n-this.horizBuffer-i.right}):this.applyPosition({left:this.activatorOffset.left+this.activatorOffset.width/2-i.right}),this.addClass("left"),this.addClass("corner"),!0):!1},initHorizontalPositioning:function(){this.resetPositioning();var t=this.getBoundingRect(this.node),e=this.getViewWidth();return this.floating?e/2>this.activatorOffset.left+this.activatorOffset.width?(this.applyPosition({left:this.activatorOffset.left+this.activatorOffset.width}),this.addRemoveClass("left",!0)):(this.applyPosition({left:this.activatorOffset.left-t.width}),this.addRemoveClass("right",!0)):this.activatorOffset.left-t.width>0?(this.applyPosition({left:this.activatorOffset.left-t.left-t.width}),this.addRemoveClass("right",!0)):(this.applyPosition({left:this.activatorOffset.width}),this.addRemoveClass("left",!0)),this.addRemoveClass("horizontal",!0),t=this.getBoundingRect(this.node),0>t.left||t.left+t.width>e?!1:!0},applyHorizontalPositioning:function(){if(!this.initHorizontalPositioning())return!1;var t=this.getBoundingRect(this.node),e=this.getViewHeight(),i=this.activatorOffset.top+this.activatorOffset.height/2;return this.floating?i>=e/2-.05*e&&e/2+.05*e>=i?this.applyPosition({top:this.activatorOffset.top+this.activatorOffset.height/2-t.height/2,bottom:"auto"}):e/2>this.activatorOffset.top+this.activatorOffset.height?(this.applyPosition({top:this.activatorOffset.top-this.activatorOffset.height,bottom:"auto"}),this.addRemoveClass("high",!0)):(this.applyPosition({top:this.activatorOffset.top-t.height+2*this.activatorOffset.height,bottom:"auto"}),this.addRemoveClass("low",!0)):i>=e/2-.05*e&&e/2+.05*e>=i?this.applyPosition({top:(this.activatorOffset.height-t.height)/2}):e/2>this.activatorOffset.top+this.activatorOffset.height?(this.applyPosition({top:-this.activatorOffset.height}),this.addRemoveClass("high",!0)):(this.applyPosition({top:t.top-t.height-this.activatorOffset.top+this.activatorOffset.height}),this.addRemoveClass("low",!0)),!0},applyHorizontalFlushPositioning:function(t,e){if(!this.initHorizontalPositioning())return!1;var i=this.getBoundingRect(this.node),n=this.getViewHeight();return this.floating?n/2>this.activatorOffset.top?(this.applyPosition({top:this.activatorOffset.top+this.activatorOffset.height/2}),this.addRemoveClass("high",!0)):(this.applyPosition({top:this.activatorOffset.top+this.activatorOffset.height/2-i.height}),this.addRemoveClass("low",!0)):i.top+i.height>n&&n-i.bottom<i.top-i.height?(this.applyPosition({top:i.top-i.height-this.activatorOffset.top-this.activatorOffset.height/2}),this.addRemoveClass("low",!0)):(this.applyPosition({top:this.activatorOffset.height/2}),this.addRemoveClass("high",!0)),t>this.activatorOffset.left+this.activatorOffset.width?(this.addClass("left"),this.addClass("corner"),!0):this.activatorOffset.left>e?(this.addClass("right"),this.addClass("corner"),!0):!1},getBoundingRect:function(t){var e=t.getBoundingClientRect();return e.width&&e.height?e:{left:e.left,right:e.right,top:e.top,bottom:e.bottom,width:e.right-e.left,height:e.bottom-e.top}},getViewHeight:function(){return void 0===window.innerHeight?document.documentElement.clientHeight:window.innerHeight},getViewWidth:function(){return void 0===window.innerWidth?document.documentElement.clientWidth:window.innerWidth},resetPositioning:function(){this.removeClass("right"),this.removeClass("left"),this.removeClass("high"),this.removeClass("low"),this.removeClass("corner"),this.removeClass("below"),this.removeClass("above"),this.removeClass("vertical"),this.removeClass("horizontal"),this.applyPosition({left:"auto"}),this.applyPosition({top:"auto"})},handleResize:function(){this.inherited(arguments),this.adjustPosition()}})})(enyo,this);

// ../lib/source/lib/whiteboard/configuration.js
Configuration=function(){var t={whiteboard:"Whiteboard",document:"Document"},e={text:"Text",freeLine:"FreeLine",straightLine:"StraightLine",rectangle:"Rectangle",circle:"Circle",ellipse:"Ellipse",image:"Image",icon:"Icon",document:"Document"},i={info:"Info",warn:"Warn",error:"Error"},n={text:{text:"","font-family":"Verdana","font-size":12,"font-weight":"normal","font-style":"normal",fill:"#000000",rotation:0},freeLine:{stroke:"#000000","stroke-width":3,"stroke-dasharray":"No","stroke-opacity":1,rotation:0},straightLine:{stroke:"#000000","stroke-width":3,"stroke-dasharray":"No","stroke-opacity":1,rotation:0},rectangle:{width:0,height:0,r:0,stroke:"#000000","stroke-width":1,"stroke-dasharray":"No","fill-opacity":1,"stroke-opacity":1,rotation:0},circle:{r:0,stroke:"#000000","stroke-width":1,"stroke-dasharray":"No","fill-opacity":1,"stroke-opacity":1,rotation:0},ellipse:{rx:0,ry:0,stroke:"#000000","stroke-width":1,"stroke-dasharray":"No","fill-opacity":1,"stroke-opacity":1,rotation:0},image:{width:150,height:150,rotation:0},icon:{scale:1,rotation:0}},o={No:"none",Dash:"-",Dot:".",DashDot:"-.",DashDotDot:"-..",DotBlank:". ",DashBlank:"- ",DashDash:"--",DashBlankDot:"- .",DashDashDot:"--.",DashDashDotDot:"--.."},s={helperRect:{"stroke-width":2,"stroke-opacity":0,fill:"#0D0BF5","fill-opacity":0},circleSet:{stroke:"#0D0BF5","stroke-width":1,"stroke-opacity":0,fill:"#0D0BF5","fill-opacity":0},opacityHidden:{"stroke-opacity":0,"fill-opacity":0},opacityVisible:{"stroke-opacity":.8,"fill-opacity":.8}};return s.selectBoxVisible=$.extend({},s.helperRect,{stroke:"#0D0BF5","stroke-opacity":.8,"stroke-dasharray":".","fill-opacity":0}),s.moveBoxVisible=$.extend({},s.helperRect,{stroke:"#0D0BF5","stroke-opacity":.8,"stroke-dasharray":"-",fill:"#0276FD","fill-opacity":.2}),s.bringFrontBackBoxVisible=$.extend({},s.helperRect,{stroke:"#71AA24","stroke-opacity":.8,"stroke-dasharray":"-",fill:"#A5DC5B","fill-opacity":.2}),s.removeBoxVisible=$.extend({},s.helperRect,{stroke:"#FF0000","stroke-opacity":.8,"stroke-dasharray":"-",fill:"#FF0000","fill-opacity":.2}),s.cloneBoxVisible=$.extend({},s.helperRect,{stroke:"#8B4513","stroke-opacity":.8,"stroke-dasharray":"-.",fill:"#F4A460","fill-opacity":.2}),{getSettings:function(t){return settings[t]},getClassTypes:function(t){return e[t]},getPaperTypes:function(e){return t[e]},getDocumentProps:function(t){return void 0!==t?document[t]:document},getProperties:function(t){return n[t]},getDasharrayMapping:function(t){return void 0!==t?o[t]:void 0},getAttributes:function(t){return s[t]},getSelectBoxVisible:function(){return s.selectBoxVisible},getMoveBoxVisible:function(){return s.moveBoxVisible},getBringFrontBackBoxVisible:function(){return s.bringFrontBackBoxVisible},getRemoveBoxVisible:function(){return s.removeBoxVisible},getCloneBoxVisible:function(){return s.cloneBoxVisible},getErrorTypes:function(t){return i[t]}}}();

// ../lib/source/lib/whiteboard/DrawEngine.js
jQuery.DrawEngine=function(){function _initVariables(){_modeSwitcher={textMode:!1,freeLineMode:!1,straightLineMode:!1,rectangleMode:!1,circleMode:!1,ellipseMode:!1,documentMode:!1,imageMode:!1,iconMode:!1,selectMode:!1,moveMode:!1,bringFrontMode:!1,bringBackMode:!1,cloneMode:!1,removeMode:!1,resizeMode:!1,fillMode:!1},_newProperties={"stroke-width":3},_selectedObj=null,_wbElements={},_elementOrder={lowSeq:1e4,maxSeq:1e4},_ft=null}function _invokeLogger(t){_drawOptions.logging&&_drawOptions.onLog(t.type,t.message)}function _extend(){for(var t=1;arguments.length>t;t++)for(var e in arguments[t])arguments[t].hasOwnProperty(e)&&(arguments[0][e]=arguments[t][e]);return arguments[0]}function _isBlankObject(t){if(null==t)return!0;for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}function _calculateOffset(){left=_drawOptions.offset.left,top=_drawOptions.offset.top}function _saveAsUndocache(t,e,i){var n={};n.el=t,n.ol=e,_drawOptions.paper.undocache.push(n),_drawOptions.paper.undocache.length>20&&_drawOptions.paper.undocache.slice(0,1),!i&&_drawOptions.paper.redocache.length>0&&(_drawOptions.paper.redocache=[])}function _undoAction(){if(_drawOptions.paper.undocache.length>0){var t=_drawOptions.paper.undocache.pop();_elAction(t.el,t.ol,undoActionConvert[t.el.action])}}function _redoAction(){if(_drawOptions.paper.redocache.length>0){var t=_drawOptions.paper.redocache.pop();_elAction(t.el,t.ol)}}function _elAction(t,e,i){switch(i||t.action){case"create":case"clone":_createElementAfterVerification(t.element.properties,t.element.type,t.element.properties.orderNo,!0,!1);break;case"update":_updateElement(e&&e.element.properties,e&&e.element.type);break;case"remove":_removeElementAfterVerification(t.element.properties.uuid,!0,!1);break;case"toFront":_bringFrontElementAfterVerification(t.element.properties.uuid,t.element.properties.orderNo,!0,!1);break;case"toBack":_bringBackElementAfterVerification(t.element.properties.uuid,t.element.properties.orderNo,!0,!1)}if(void 0!==i){var n={};"update"!=t.action?n.el=t:(n.el=e,n.ol=t),_drawOptions.paper.redocache.push(n)}else"update"!=t.action?_saveAsUndocache(t,e,!0):_saveAsUndocache(e,t,!0)}function _invokeDrawFunction(t){switch(t.state){case"onSend":_drawOptions.onSend!==void 0&&_drawOptions.onSend(t.sendchanges);break;case"onEnableUndo":undoActionConvert[t.sendchanges.action]&&_saveAsUndocache(t.sendchanges,_oldEl);break;case"onCreateElement":_drawOptions.onCreateElement!==void 0&&_drawOptions.onCreateElement(t.properties);break;case"onChangePaperToDoc":_drawOptions.onChangePaperToDoc!==void 0&&_drawOptions.onChangePaperToDoc(t.properties.arg1,t.properties.arg2,t.properties.arg3,t.properties.arg4,t.properties.arg5);break;case"onUpdateHelperBox":if(_drawOptions.onUpdateHelperBox!==void 0)return _drawOptions.onUpdateHelperBox(t.properties);break;case"onBeforeDocCreate":_drawOptions.onBeforeDocCreate!==void 0&&_drawOptions.onBeforeDocCreate(t.properties);break;case"onClearWhiteboard":_drawOptions.onClearWhiteboard!==void 0&&_drawOptions.onClearWhiteboard();break;case"onSelectElement":_drawOptions.onSelectElement!==void 0&&_drawOptions.onSelectElement(t.type,t.properties,t.isTransformed);break;case"onMouseDownBegin":_drawOptions.onMouseDownBegin!==void 0&&_drawOptions.onMouseDownBegin();break;case"onModeChange":_drawOptions.onModeChange!==void 0&&_drawOptions.onModeChange(t.mode,t.properties)}}function _setDrawOptions(t){_drawOptions=_extend(_drawOptions,t)}function _extendWhiteboardObj(){_drawOptions.whiteboard=_extend({},{lineEl:{path:null,pathArray:null},imageEl:{cx:0,cy:0,width:0,height:0,inputUrl:null},circleEl:{cx:0,cy:0},ellipseEl:{cx:0,cy:0},rectEl:{cx:0,cy:0},iconEl:{cx:0,cy:0,icon:null,iconName:null},textEl:{cx:0,cy:0,boxWidth:0,boxHeigth:0}})}function _switchToMode(t){if("others"!=t){_trnsUnplug(!1),_closeInputText(),_createTracker(_drawOptions.paper);for(var e in _modeSwitcher)_modeSwitcher.hasOwnProperty(e)&&(_modeSwitcher[e]=!1);_modeSwitcher[t]=!0,touchable=_modeSwitcher.freeLineMode||_modeSwitcher.straightLineMode||_modeSwitcher.rectangleMode||_modeSwitcher.circleMode||_modeSwitcher.ellipseMode?!0:!1;var i={};i.state="onModeChange",i.mode=t,i.properties=_getCurrentElementProperites(t.replace(/Mode/,"")),_invokeDrawFunction(i)}else _drawOptions.paper&&_removeTracker(_drawOptions.paper)}function _forwardOrder(){return _elementOrder.maxSeq=parseInt(_elementOrder.maxSeq)+1}function _backwardOrder(){return _elementOrder.lowSeq=parseInt(_elementOrder.lowSeq)-1}function _setElementSequence(t){0!=t&&(t>_elementOrder.maxSeq?_elementOrder.maxSeq=t:_elementOrder.lowSeq>t&&(_elementOrder.lowSeq=t))}function _setElementProperties(t,e){for(prop in e)e.hasOwnProperty(prop)&&"rotation"!=prop&&("stroke-dasharray"==prop?t.attr(prop,_drawOptions.wbConfig.getDasharrayMapping(e[prop])):t.attr(prop,e[prop]))}function _getCurrentElementProperites(t){propsObj=_drawOptions.wbConfig.getProperties(t);for(prop in propsObj)if(propsObj.hasOwnProperty(prop)){if("text"==t&&"fill"==prop&&_newProperties.stroke){propsObj[prop]=_newProperties.stroke;continue}void 0!==_newProperties[prop]&&(propsObj[prop]=_newProperties[prop])}return propsObj}function _setCurrentElementProperties(){if(_selectedObj||!_modeSwitcher.selectMode&&!_modeSwitcher.fillMode){_modeSwitcher.selectMode?_setNewElementProperties(_selectedObj.element,_selectedObj.element.attrs):_modeSwitcher.fillMode&&_selectedObj.element.attr("fill",_newProperties.fill);var t=_getElementProperties(_selectedObj),e={action:"update",element:{type:_selectedObj.classType,properties:t}};if(_drawOptions.isBroadcastable){var i={};i.state="onSend",i.sendchanges=e,_invokeDrawFunction(i)}_trnsUnplug(!0),_selectedObj=null}}function _setNewElementProperties(t,e){for(prop in e)if(e.hasOwnProperty(prop)&&"rotation"!=prop){if("text"==t.type&&"fill"==prop&&_newProperties.stroke){t.attr(prop,_newProperties.stroke);continue}void 0!==_newProperties[prop]&&"fill"!=prop?t.attr(prop,_newProperties[prop]):"stroke-dasharray"==prop?t.attr(prop,_drawOptions.wbConfig.getDasharrayMapping(e[prop])):t.attr(prop,e[prop])}}function _changeProperties(t){_modeSwitcher.fillMode&&(t.fill=t.stroke,delete t.stroke),_newProperties=_extend(_newProperties,t),_modeSwitcher.selectMode&&(_oldEl={},_oldEl=_createSelectObj(),_setCurrentElementProperties()),_modeSwitcher.textMode&&_setNewPropertiesToText()}function _getDasharrayValue(t){var e=_drawOptions.wbConfig.getDasharrayMapping();for(value in e)if(e.hasOwnProperty(value)&&t==_drawOptions.wbConfig.getDasharrayMapping(value))return value;return"No"}function _createTracker(t){t.canvas.onmousedown=_mousedowntrack,t.canvas.onmousemove=_mousemovetrack,t.canvas.ontouchstart=_mousedowntrack,t.canvas.ontouchmove=_mousemovetrack,t.canvas.onclick=_clickHandler}function _removeTracker(t){t.canvas.onmousedown=null,t.canvas.onmousemove=null,t.canvas.ontouchstart=null,t.canvas.ontouchmove=null,t.canvas.onclick=null}function _mousedowntrack(t){if(hasTouch&&t.touches){if(t.targetTouches.length>1)return;n=t.targetTouches[0]||t.touches[0]||t.originalEvent.touches[0]}else n=t;{if(touchable){if(active=!0,x=(n.pageX-left)*scale,y=(n.pageY-top)*scale,_modeSwitcher.freeLineMode){repath=!0;var e=_drawOptions.wbConfig.getProperties("freeLine"),i=parseInt(e["stroke-width"])/2;return lineEl=_drawOptions.paper.path(),initPath=M+x+COMMA+y+L+(x+i)+COMMA+(y+i),path=M+x+COMMA+y+L+x+COMMA+y,_setNewElementProperties(lineEl,e),lineEl.attr({path:initPath}),!1}return _modeSwitcher.straightLineMode?(_drawStraightLineBegin(x,y),!1):_modeSwitcher.circleMode?(_drawCircle(x,y),!1):_modeSwitcher.ellipseMode?(_drawEllipse(x,y),!1):_modeSwitcher.rectangleMode?(_drawRectangle(x,y),!1):!1}_clickHandler(n);try{t.preventDefault(),t.stopPropagation()}catch(n){}}}function _mousemovetrack(t){if(active){if(hasTouch&&t.touches){if(t.targetTouches.length>1)return;e=t.targetTouches[0]||t.touches[0]||t.originalEvent.touches[0]}else{if(hasTouch)return t.preventDefault(),void 0;e=t}if(x=(e.pageX-left)*scale,y=(e.pageY-top)*scale,_modeSwitcher.freeLineMode)return repath&&(path+=R+" "+x+COMMA+y+" "+x+COMMA+y,repath=!1),path+=" "+x+COMMA+y,lineEl.attr({path:path}),!1;if(_modeSwitcher.removeMode);else{if(_modeSwitcher.straightLineMode)return _drawOptions.whiteboard.lineEl.pathArray[1]=["L",x,y],lineEl.attr("path",_drawOptions.whiteboard.lineEl.pathArray),!1;if(_modeSwitcher.circleMode){var i=x,n=y,r=_drawOptions.whiteboard.circleEl.cx,o=_drawOptions.whiteboard.circleEl.cy;rad=parseInt(Math.sqrt((r-i)*(r-i)+(o-n)*(o-n)));var s=(i+r)/2,a=(n+o)/2;return circleElement.attr({r:rad/2,cx:s,cy:a}),!1}if(_modeSwitcher.ellipseMode){var i=x,n=y,r=_drawOptions.whiteboard.ellipseEl.cx,o=_drawOptions.whiteboard.ellipseEl.cy,s=(i+r)/2,a=(n+o)/2,l=i-r,h=n-o;return ellipseElement.attr({rx:Math.abs(l/2),ry:Math.abs(h/2),cx:s,cy:a}),!1}if(_modeSwitcher.rectangleMode){var r=_drawOptions.whiteboard.rectEl.cx,o=_drawOptions.whiteboard.rectEl.cy,i=x,n=y,c=i-r,d=n-o;return 0>c&&0>d&&rectElement.attr({x:i,y:n,width:Math.abs(c),height:Math.abs(d)}),c>0&&0>d&&rectElement.attr({x:r,y:n,width:c,height:Math.abs(d)}),0>c&&d>0&&rectElement.attr({x:i,y:o,width:Math.abs(c),height:d}),c>0&&d>0&&rectElement.attr({x:r,y:o,width:c,height:d}),!1}}}}function _drawStraightLineBegin(t,e){_drawOptions.whiteboard.lineEl.pathArray=[],_drawOptions.whiteboard.lineEl.pathArray[0]=["M",t,e],lineEl=_drawOptions.paper.path(_drawOptions.whiteboard.lineEl.pathArray),_setNewElementProperties(lineEl,_drawOptions.wbConfig.getProperties("straightLine"))}function _drawText(t){if(""!==t){var e=_drawOptions.paper.text(_drawOptions.whiteboard.textEl.cx,_drawOptions.whiteboard.textEl.cy,t).attr({"text-anchor":"start"}),i=_extend({},_drawOptions.wbConfig.getProperties("text"),{text:t});_setNewElementProperties(e,i);for(var n="",r=t.split(" "),o=0;r.length>o;o++)e.attr("text",n+" "+r[o]),n+=e.getBBox().width>_drawOptions.whiteboard.textEl.boxWidth?"\n"+r[o]:" "+r[o];e.attr("text",n.substring(1)),alignTop(e);var s=_drawHelperBox(e,_drawOptions.wbConfig.getClassTypes("text"),_forwardOrder(),_drawOptions.wbConfig.getProperties("text").rotation,null,!0,null);if(_wbElements[s.uuid]=s,_drawOptions.isBroadcastable){var a={};a.state="onSend",a.sendchanges={action:"create",element:{type:_drawOptions.wbConfig.getClassTypes("text"),properties:{uuid:s.uuid,orderNo:s.orderNo,x:e.attr("x"),y:e.attr("y"),rotationDegree:_drawOptions.wbConfig.getProperties("text").rotation,text:n.substring(1),fontFamily:e.attr("font-family"),fontSize:e.attr("font-size"),fontWeight:e.attr("font-weight"),fontStyle:e.attr("font-style"),isTransformed:s.isTransformed,color:e.attr("fill")}}},_invokeDrawFunction(a)}var l={};l.state="onCreateElement",l.properties=s,_invokeDrawFunction(l)}}function _drawImage(){var t=_drawOptions.paper.image(_drawOptions.whiteboard.imageEl.inputUrl,_drawOptions.whiteboard.imageEl.cx,_drawOptions.whiteboard.imageEl.cy,_drawOptions.whiteboard.imageEl.width,_drawOptions.whiteboard.imageEl.height),e=_drawHelperBox(t,_drawOptions.wbConfig.getClassTypes("image"),_forwardOrder(),_drawOptions.wbConfig.getProperties("image").rotation,null,!0,null);if(_wbElements[e.uuid]=e,_drawOptions.isBroadcastable){var i={};i.state="onSend",i.sendchanges={action:"create",element:{type:_drawOptions.wbConfig.getClassTypes("image"),properties:{uuid:e.uuid,orderNo:e.orderNo,x:_drawOptions.whiteboard.imageEl.cx,y:_drawOptions.whiteboard.imageEl.cy,rotationDegree:_drawOptions.wbConfig.getProperties("image").rotation,url:_drawOptions.whiteboard.imageEl.inputUrl,width:_drawOptions.whiteboard.imageEl.width,height:_drawOptions.whiteboard.imageEl.height}}},_invokeDrawFunction(i)}var n={};n.state="onCreateElement",n.properties=e,_invokeDrawFunction(n)}function _drawDocument(t){var e={};e.state="onBeforeDocCreate",e.properties=t,_invokeDrawFunction(e);var i=_drawOptions.paper.image(_drawOptions.whiteboard.imageEl.inputUrl,_drawOptions.whiteboard.imageEl.cx,_drawOptions.whiteboard.imageEl.cy,_drawOptions.whiteboard.imageEl.width,_drawOptions.whiteboard.imageEl.height),n=_drawHelperBox(i,_drawOptions.wbConfig.getClassTypes("document"),_forwardOrder(),_drawOptions.wbConfig.getProperties("image").rotation,null,!0,null,null,null);i.toBack(),n.toBack();var e={};if(e.state="onUpdateHelperBox",e.properties=n,n=_invokeDrawFunction(e),_wbElements[n.uuid]=n,_drawOptions.isBroadcastable){var r={};r.state="onSend",r.sendchanges={action:null!=n.prevSlideId?"replace":"create",element:{type:_drawOptions.wbConfig.getClassTypes("document"),properties:{uuid:n.uuid,orderNo:n.orderNo,x:_drawOptions.whiteboard.imageEl.cx,y:_drawOptions.whiteboard.imageEl.cy,rotationDegree:_drawOptions.wbConfig.getProperties("image").rotation,url:_drawOptions.whiteboard.imageEl.inputUrl,width:_drawOptions.whiteboard.imageEl.width,height:_drawOptions.whiteboard.imageEl.height,documentId:n.documentId,docSlideNo:n.docSlideNo,docTitle:n.docTitle,docOwnerId:n.docOwnerId,pageCnt:n.pageCnt}},parameters:{prevUuid:n.prevSlideId}},_invokeDrawFunction(r)}var o={};o.state="onCreateElement",o.properties=n,_invokeDrawFunction(o)}function _drawRectangle(t,e){rectElement=_drawOptions.paper.rect(t,e,0,0),_drawOptions.whiteboard.rectEl.cx=t,_drawOptions.whiteboard.rectEl.cy=e,rectElement.scale(1,1),_setNewElementProperties(rectElement,_drawOptions.wbConfig.getProperties("rectangle"))}function _drawCircle(t,e){circleElement=_drawOptions.paper.circle(t,e,0),_drawOptions.whiteboard.circleEl.cx=t,_drawOptions.whiteboard.circleEl.cy=e,circleElement.scale(1,1),_setNewElementProperties(circleElement,_drawOptions.wbConfig.getProperties("circle"))}function _drawEllipse(t,e){ellipseElement=_drawOptions.paper.ellipse(t,e,0,0),_drawOptions.whiteboard.ellipseEl.cx=t,_drawOptions.whiteboard.ellipseEl.cy=e,ellipseElement.scale(1,1),_setNewElementProperties(ellipseElement,_drawOptions.wbConfig.getProperties("ellipse"))}function _selectElement(t){null!=_selectedObj&&_selectedObj.uuid!=t.uuid&&_trnsUnplug(!0),_selectedObj=t,_oldEl={},_oldEl=_createSelectObj(),_selectedObj.attr(_drawOptions.wbConfig.getAttributes("opacityHidden")),_addFreeTransform(t.element),t.hover(_hoverOutEl,_hoverOutEl);var e={};e.state="onSelectElement",e.type=_selectedObj.classType,_selectedObj.isTransformed&&(e.isTransformed=_selectedObj.isTransformed),e.properties=_selectedObj.element.attrs,_invokeDrawFunction(e)}function _fillElement(t){_selectedObj=t,_oldEl={},_oldEl=_createSelectObj()}function _createSelectObj(){return{action:"update",element:{type:_selectedObj.classType,properties:_getElementProperties(_selectedObj)}}}function _removeElementAfterVerification(t,e,i){var n=_wbElements[t];return null==n?(_invokeLogger({debug:"Element to be removed does not exist anymore in this Whiteboard"}),void 0):(_removeElement(n,e,i),void 0)}function _removeElement(t,e,i){var n=t.uuid,r=t.classType,o=!1;null!=_selectedObj&&_selectedObj.uuid==n&&(o=!0,_trnsUnplug(!1)),_wbElements[n]=null,delete _wbElements[n],t.element.remove(),t.remove();var s={};s.sendchanges={action:"remove",element:{type:r,properties:{uuid:n}}},_drawOptions.isBroadcastable&&e&&(s.state="onSend",_invokeDrawFunction(s)),i&&(s.state="onEnableUndo",_invokeDrawFunction(s)),o&&(_selectedObj=null)}function _hideElements(t){if(void 0!==t)if("string"==typeof t){var e=_wbElements[t];_disableBindings(e),e&&e.element.hide()}else for(var i=0;t.length>i;i++){var e=_wbElements[t[i]];_disableBindings(e),e&&e.element.hide()}}function _showElements(t){if(void 0!==t)if("string"==typeof t){var e=_wbElements[t];_enableBindings(e),e.element.show()}else for(var i=0;t.length>i;i++){var e=_wbElements[t[i]];_enableBindings(e);try{e.element.show()}catch(n){logError("Elements of the document appears to be in header but doesn't actually exist")}}}function _bringFrontElementAfterVerification(t,e,i,n){var r=_wbElements[t];return null==r?(_invokeLogger({debug:"Element to be brought to front does not exist anymore in this Whiteboard"}),void 0):(_bringFrontElement(r,e,i,n),void 0)}function _bringFrontElement(t,e,i,n){_trnsUnplug(!1),t.element.toFront(),t.toFront(),t.attr(_drawOptions.wbConfig.getAttributes("opacityHidden")),t.orderNo=e;var r={};r.sendchanges={action:"toFront",element:{type:t.classType,properties:{uuid:t.uuid,orderNo:t.orderNo}}},_drawOptions.isBroadcastable&&i&&(r.state="onSend",_invokeDrawFunction(r)),n&&(r.state="onEnableUndo",_invokeDrawFunction(r))}function _bringBackElementAfterVerification(t,e,i,n){var r=_wbElements[t];return null==r?(_invokeLogger({debug:"Element to be brought to back does not exist anymore in this Whiteboard"}),void 0):(_bringBackElement(r,e,i,n),void 0)}function _bringBackElement(t,e,i,n){_trnsUnplug(!1),t.toBack(),t.element.toBack(),t.attr(_drawOptions.wbConfig.getAttributes("opacityHidden")),t.orderNo=_backwardOrder();var r={};r.sendchanges={action:"toBack",element:{type:t.classType,properties:{uuid:t.uuid,orderNo:t.orderNo}}},_drawOptions.isBroadcastable&&i&&(r.state="onSend",_invokeDrawFunction(r)),n&&(r.state="onEnableUndo",_invokeDrawFunction(r))}function _clearWhiteboard(t){if(_drawOptions.isBroadcastable&&t){var e={};e.state="onSend",e.sendchanges={action:"clear"},_invokeDrawFunction(e)}var i={};i.state="onClearWhiteboard",_invokeDrawFunction(i)}function _clearDocElements(t){if(void 0!==t)if("string"==typeof t){var e=_wbElements[t];void 0!==e&&(e.element.remove(),e.remove(),_wbElements[t]=null,delete _wbElements[t])}else for(var i=0;t.length>i;i++){var e=_wbElements[t[i]];void 0!==e&&(e.element.remove(),e.remove(),_wbElements[t[i]]=null,delete _wbElements[t[i]])}}function _cloneElement(t){var e,i;_trnsUnplug(!1),e=t.element.clone(),e.attrs.transform="",e.transform(""),i=_drawHelperBox(e,t.classType,_forwardOrder(),null,null,!1,null);var n=_covertTransToArray(t.element,15,15);i.element.transform(n),i.transform(n),t.classType==_drawOptions.wbConfig.getClassTypes("icon")&&(i.iconName=t.iconName),t.attr(_drawOptions.wbConfig.getAttributes("opacityHidden")),_wbElements[i.uuid]=i;var r=_getElementProperties(i),o={action:"clone",element:{type:i.classType,properties:r}};if(_drawOptions.isBroadcastable){var s={};s.state="onSend",s.sendchanges=o,_invokeDrawFunction(s)}}function _convertAttrToWbProperties(t,e){var i={};switch(t){case _drawOptions.wbConfig.getClassTypes("text"):i.text=e.text,i.fontFamily=e["font-family"],i.fontSize=e["font-size"],i.fontWeight=e["font-weight"],i.fontStyle=e["font-style"],i.color=e.fill,i.x=e.x,i.y=e.y,i.isTransformed=e.isTransformed;break;case _drawOptions.wbConfig.getClassTypes("freeLine"):case _drawOptions.wbConfig.getClassTypes("straightLine"):i.path=e.path+"",i.backgroundColor=e.fill,i.color=e.stroke,i.lineWidth=e["stroke-width"],i.lineStyle=e["stroke-dasharray"],i.opacity=e["stroke-opacity"];break;case _drawOptions.wbConfig.getClassTypes("rectangle"):i.width=e.width,i.height=e.height,i.cornerRadius=e.r,i.backgroundColor=e.fill,i.borderColor=e.stroke,i.borderWidth=e["stroke-width"],i.borderStyle=e["stroke-dasharray"],i.backgroundOpacity=e["fill-opacity"],i.borderOpacity=e["stroke-opacity"],i.x=e.x,i.y=e.y;break;case _drawOptions.wbConfig.getClassTypes("circle"):i.radius=e.r,i.backgroundColor=e.fill,i.borderColor=e.stroke,i.borderWidth=e["stroke-width"],i.borderStyle=e["stroke-dasharray"],i.backgroundOpacity=e["fill-opacity"],i.borderOpacity=e["stroke-opacity"],i.x=e.cx,i.y=e.cy;break;case _drawOptions.wbConfig.getClassTypes("ellipse"):i.hRadius=e.rx,i.vRadius=e.ry,i.backgroundColor=e.fill,i.borderColor=e.stroke,i.borderWidth=e["stroke-width"],i.borderStyle=e["stroke-dasharray"],i.backgroundOpacity=e["fill-opacity"],i.borderOpacity=e["stroke-opacity"],i.x=e.cx,i.y=e.cy;break;case _drawOptions.wbConfig.getClassTypes("document"):case _drawOptions.wbConfig.getClassTypes("image"):i.url=e.src,i.width=e.width,i.height=e.height,i.x=e.x,i.y=e.y;break;case _drawOptions.wbConfig.getClassTypes("icon"):i.iconName=e.iconName,i.x=e.x,i.y=e.y;break;default:}return i}function _getElementProperties(t){if(void 0!==t){var e={},i=t.element.attrs;return e.uuid=t.uuid,e.orderNo=t.orderNo,t.isTransformed&&(e.isTransformed=t.isTransformed),t.iconName&&(e.iconName=t.iconName),e.rotationDegree=i.rotation,e.transform=t.element.transform(),e.slideNo=t.slideNo,e.wall=t.wall,_extend({},_convertAttrToWbProperties(t.classType,i),e)}}function _getPageElement(t){var e={};return e.type=t.classType,e.properties=_getElementProperties(t),e}function _convertToJson(t){var e,i=[],n=t;if((void 0===n||null==n)&&(n=_drawOptions.paper),!n)return null;e=n.canvas.id;for(var r=n.bottom;null!=r;r=r.next){var o;void 0!==r.uuid&&(o=_getPageElement(r),i.push({action:"create",element:o,pageId:e}))}return i}function _pasteText(t,e,i,n){_drawOptions.whiteboard.textEl.cx=cx=t,_drawOptions.whiteboard.textEl.cy=cy=e,textFieldHelper(i,n),textField.focus()}function _closeInputText(){if(void 0!==textField){var t=textField.val();textField.val(""),textField.remove(),t&&(_drawOptions.whiteboard.textEl.boxWidth=textField.width(),_drawOptions.whiteboard.textEl.boxHeight=textField.height(),_drawText(t))}}function alignTop(t){var e=t.getBBox(),i=Math.abs(e.y2)-Math.abs(e.y)+1;t.attr({y:e.y+i})}function _setNewPropertiesToText(){textField.css({"font-family":_newProperties["font-family"]?_newProperties["font-family"]:_drawOptions.wbConfig.getProperties("text")["font-family"],"font-size":_newProperties["font-size"]?_newProperties["font-size"]:_drawOptions.wbConfig.getProperties("text")["font-size"],"font-style":_newProperties["font-style"]?_newProperties["font-style"]:_drawOptions.wbConfig.getProperties("text")["font-style"],"font-weight":_newProperties["font-weight"]?_newProperties["font-weight"]:_drawOptions.wbConfig.getProperties("text")["font-weight"],color:_newProperties.stroke?_newProperties.stroke:_drawOptions.wbConfig.getProperties("text").fill})}function textFieldHelper(t,e){_setNewPropertiesToText(),textField.css({position:"absolute",width:200,height:50,left:t,top:e-7}).mousemove(function(t){var e=$(this).offset();e.bottom=$(this).offset().top+$(this).outerHeight(),e.right=$(this).offset().left+$(this).outerWidth(),e.bottom>t.pageY&&t.pageY>e.bottom-16&&e.right>t.pageX&&t.pageX>e.right-16?$(this).css({cursor:"nw-resize"}):$(this).css({cursor:""})}).keyup(function(){for(;$(this).outerHeight()<this.scrollHeight+parseFloat($(this).css("borderTopWidth"))+parseFloat($(this).css("borderBottomWidth"));)$(this).height($(this).height()+1)}).appendTo(document.body)}function _hoverOverEl(){return _modeSwitcher.selectMode?(this.attr(_drawOptions.wbConfig.getAttributes("selectBoxVisible")),!0):_modeSwitcher.fillMode?(this.attr(_drawOptions.wbConfig.getAttributes("selectBoxVisible")),!0):_modeSwitcher.removeMode?(this.attr(_drawOptions.wbConfig.getAttributes("removeBoxVisible")),!0):_modeSwitcher.bringFrontMode?(this.attr(_drawOptions.wbConfig.getAttributes("bringFrontBackBoxVisible")),!0):_modeSwitcher.bringBackMode?(this.attr(_drawOptions.wbConfig.getAttributes("bringFrontBackBoxVisible")),!0):_modeSwitcher.cloneMode?(this.attr(_drawOptions.wbConfig.getAttributes("cloneBoxVisible")),!0):void 0}function _hoverOutEl(event){if(_modeSwitcher.selectMode)return null!=_selectedObj&&_selectedObj.uuid==this.uuid&&_selectedObj.visibleSelect||this.attr(_drawOptions.wbConfig.getAttributes("opacityHidden")),!0;with(_modeSwitcher)if(moveMode||removeMode||bringFrontMode||bringBackMode||cloneMode||fillMode)return null!=_selectedObj&&_selectedObj.uuid==this.uuid&&_selectedObj.visibleSelect?this.attr(_drawOptions.wbConfig.getAttributes("selectBoxVisible")):this.attr(_drawOptions.wbConfig.getAttributes("opacityHidden")),!0}function _disableBindings(t){return void 0!==t?t.unhover(_hoverOverEl,_hoverOutEl).unclick(_clickEl).untouchstart(_touchstartEl).untouchmove(_touchstartEl):void 0}function _enableBindings(t){return void 0!==t?t.hover(_hoverOverEl,_hoverOutEl).click(_clickEl).touchstart(_touchstartEl).touchmove(_touchstartEl):void 0}function _touchstartEl(){return _modeSwitcher.removeMode?(_removeElement(this,!0,!1).fadeOut(300),!0):void 0}function _clickEl(){if(_modeSwitcher.selectMode)return _selectElement(this),!0;if(_modeSwitcher.removeMode)return _removeElement(this,!0,!1),!0;if(_modeSwitcher.bringFrontMode){var t=_forwardOrder();return _setElementSequence(t),_bringFrontElement(this,t,!0,!1),!0}if(_modeSwitcher.bringBackMode){var t=_backwardOrder();return _setElementSequence(t),_bringBackElement(this,t,!0,!1),!0}return _modeSwitcher.fillMode?(_fillElement(this),_setCurrentElementProperties(),!0):_modeSwitcher.cloneMode?(_cloneElement(this),!0):!1}function _pasteImage(t,e){return _drawOptions.whiteboard.imageEl.cx=t,_drawOptions.whiteboard.imageEl.cy=e,null!=_drawOptions.whiteboard.imageEl.inputUrl&&_drawImage(),!1}function _pasteIcon(t,e){if(null==_drawOptions.whiteboard.iconEl.icon||void 0===_drawOptions.whiteboard.iconEl.icon)return logError("Clicking the whiteboard without selecting the icon."),void 0;_drawOptions.whiteboard.iconEl.cx=t-_drawOptions.whiteboard.iconEl.icon.offsetX,_drawOptions.whiteboard.iconEl.cy=e-_drawOptions.whiteboard.iconEl.icon.offsetY;var i=_drawOptions.paper.path(_drawOptions.whiteboard.iconEl.icon.attr("path")).attr({fill:"#000",stroke:"none"}),n=_covertTransToArray(_drawOptions.whiteboard.iconEl.icon,_drawOptions.whiteboard.iconEl.cx,_drawOptions.whiteboard.iconEl.cy),r=_drawHelperBox(i,_drawOptions.wbConfig.getClassTypes("icon"),null,_drawOptions.wbConfig.getProperties("icon").rotation,_drawOptions.wbConfig.getProperties("icon").scale,!0,null);r.iconName=_drawOptions.whiteboard.iconEl.iconName,i.transform(n),r.transform(n);var o=Math.round(r.attr("x")+1),s=Math.round(r.attr("y")+1);if(_drawOptions.isBroadcastable){var a={};a.state="onSend",a.sendchanges={action:"create",element:{type:_drawOptions.wbConfig.getClassTypes("icon"),properties:{uuid:r.uuid,orderNo:r.orderNo,x:o,y:s,rotationDegree:_drawOptions.wbConfig.getProperties("icon").rotation,iconName:_drawOptions.whiteboard.iconEl.iconName,scaleFactor:_drawOptions.wbConfig.getProperties("icon").scale,transform:r.transform()}}},_invokeDrawFunction(a)}var l={};l.state="onCreateElement",l.properties=r,_invokeDrawFunction(l)}function _clickHandler(t){return _closeInputText(),_modeSwitcher.imageMode?(_pasteImage((t.pageX-left)*scale,(t.pageY-top)*scale),!0):_modeSwitcher.iconMode?(_pasteIcon((t.pageX-left)*scale,(t.pageY-top)*scale),!0):_modeSwitcher.textMode?(_pasteText((t.pageX-left)*scale,(t.pageY-top)*scale,t.pageX,t.pageY),!0):!1}function _initWhiteboard(){_initVariables(),_extendWhiteboardObj()}function _drawHelperBox(t,e,i,n,r,o,s,a,l,h){r&&1!=r&&t.scale(r,r);var c=t.getBBox(),d=parseFloat(c.width),u=parseFloat(c.height),p=_drawOptions.paper.rect(c.x-1,c.y-1,0!==d?d+2:3,0!==u?u+2:3);return p.attr(_drawOptions.wbConfig.getAttributes("helperRect")),p.hover(_hoverOverEl,_hoverOutEl),p.click(_clickEl),p.touchstart(_touchstartEl),p.touchmove(_touchstartEl),n&&0!=n&&(t.rotate(n,c.x+d/2,c.y+u/2,!0),t.attr("rotation",parseInt(n)),p.rotate(n,c.x+d/2,c.y+u/2,!0)),p.element=t,p.classType=e,p.orderNo=i,p.wall=l?"W":l,p.slideNo=void 0!==h&&null!=h?h:0,e==_drawOptions.wbConfig.getClassTypes("text")&&(p.isTransformed=a),p.uuid=null==s?uuid():s,o&&(null!=_selectedObj&&_selectedObj.attr(_drawOptions.wbConfig.getAttributes("opacityHidden")),_selectedObj=p,_selectedObj.visibleSelect=!1),p}function _drawIcons(){var t=0,e=0,i={fill:"#000",stroke:"none"},n={fill:"#000",opacity:0},r={fill:"90-#0050af-#002c62",stroke:"#FF0000"},o=Raphael("iconsArea",600,360),s=_drawOptions.wbConfig.getSvgIconSet();for(var a in s)if(s.hasOwnProperty(a)){var l=o.path(s[a]).attr(i).translate(t,e);l.offsetX=t+20,l.offsetY=e+20;var h=o.rect(t,e,40,40).attr(n);h.icon=l,h.iconName=a,h.click(function(){_drawOptions.whiteboard.iconEl.icon=this.icon,_drawOptions.whiteboard.iconEl.iconName=this.iconName}).hover(function(){this.icon.attr(r)},function(){this.icon.attr(i)}),t+=40,t>560&&(t=0,e+=40)}}function _createElementAfterVerification(t,e,i,n,r){void 0===_wbElements[t.uuid]&&(void 0==i&&(i=_forwardOrder()),_setElementSequence(i),_createElement(t,e,i,n,r))}function _createElement(t,e,i,n,r){var o;switch(e){case _drawOptions.wbConfig.getClassTypes("text"):var s=_drawOptions.paper.text(t.x,t.y,t.text).attr({"text-anchor":"start"});_setElementProperties(s,{"font-family":t.fontFamily,"font-size":t.fontSize,"font-weight":t.fontWeight,"font-style":t.fontStyle,fill:t.color}),o=_drawHelperBox(s,_drawOptions.wbConfig.getClassTypes("text"),i,t.rotationDegree,null,!1,t.uuid,t.isTransformed,t.wall,t.slideNo),_wbElements[o.uuid]=o;break;case _drawOptions.wbConfig.getClassTypes("freeLine"):var a=_drawOptions.paper.path(t.path);_setElementProperties(a,{stroke:t.color,"stroke-width":t.lineWidth,"stroke-dasharray":t.lineStyle,"stroke-opacity":t.opacity,fill:t.backgroundColor}),o=_drawHelperBox(a,_drawOptions.wbConfig.getClassTypes("freeLine"),i,t.rotationDegree,null,!1,t.uuid,t.isTransformed,t.wall,t.slideNo),_wbElements[o.uuid]=o;break;case _drawOptions.wbConfig.getClassTypes("straightLine"):var l=_drawOptions.paper.path(t.path);_setElementProperties(l,{stroke:t.color,"stroke-width":t.lineWidth,"stroke-dasharray":t.lineStyle,"stroke-opacity":t.opacity}),o=_drawHelperBox(l,_drawOptions.wbConfig.getClassTypes("straightLine"),i,t.rotationDegree,null,!1,t.uuid,t.isTransformed,t.wall,t.slideNo),_wbElements[o.uuid]=o;break;case _drawOptions.wbConfig.getClassTypes("rectangle"):var h=_drawOptions.paper.rect(t.x,t.y,t.width,t.height,t.cornerRadius);h.scale(1,1),_setElementProperties(h,{fill:t.backgroundColor,stroke:t.borderColor,"stroke-width":t.borderWidth,"stroke-dasharray":t.borderStyle,"fill-opacity":t.backgroundOpacity,"stroke-opacity":t.borderOpacity}),o=_drawHelperBox(h,_drawOptions.wbConfig.getClassTypes("rectangle"),i,t.rotationDegree,null,!1,t.uuid,t.isTransformed,t.wall,t.slideNo),_wbElements[o.uuid]=o;break;case _drawOptions.wbConfig.getClassTypes("circle"):var c=_drawOptions.paper.circle(t.x,t.y,t.radius);c.scale(1,1),_setElementProperties(c,{fill:t.backgroundColor,stroke:t.borderColor,"stroke-width":t.borderWidth,"stroke-dasharray":t.borderStyle,"fill-opacity":t.backgroundOpacity,"stroke-opacity":t.borderOpacity}),o=_drawHelperBox(c,_drawOptions.wbConfig.getClassTypes("circle"),i,t.rotationDegree,null,!1,t.uuid,t.isTransformed,t.wall,t.slideNo),_wbElements[o.uuid]=o;break;case _drawOptions.wbConfig.getClassTypes("ellipse"):var d=_drawOptions.paper.ellipse(t.x,t.y,t.hRadius,t.vRadius);d.scale(1,1),_setElementProperties(d,{fill:t.backgroundColor,stroke:t.borderColor,"stroke-width":t.borderWidth,"stroke-dasharray":t.borderStyle,"fill-opacity":t.backgroundOpacity,"stroke-opacity":t.borderOpacity}),o=_drawHelperBox(d,_drawOptions.wbConfig.getClassTypes("ellipse"),i,t.rotationDegree,null,!1,t.uuid,t.isTransformed,t.wall,t.slideNo),_wbElements[o.uuid]=o;break;case _drawOptions.wbConfig.getClassTypes("image"):var u=_drawOptions.paper.image(t.url,t.x,t.y,t.width,t.height);o=_drawHelperBox(u,_drawOptions.wbConfig.getClassTypes("image"),i,t.rotationDegree,null,!1,t.uuid,t.isTransformed,t.wall,t.slideNo),_wbElements[o.uuid]=o;break;case _drawOptions.wbConfig.getClassTypes("document"):var p={};p.state="onBeforeDocCreate",p.properties=t.docSlideNo,_invokeDrawFunction(p);var u=_drawOptions.paper.image(t.url,t.x,t.y,t.width,t.height);o=_drawHelperBox(u,_drawOptions.wbConfig.getClassTypes("document"),i,t.rotationDegree,null,!1,t.uuid,t.isTransformed,t.wall,t.slideNo),u.toBack(),o.toBack();var p={};p.state="onUpdateHelperBox",p.properties=o,o=_invokeDrawFunction(p),_wbElements[o.uuid]=o;break;case _drawOptions.wbConfig.getClassTypes("icon"):var f=_drawOptions.paper.path(_drawOptions.wbConfig.getSvgIconSet(t.iconName)).attr({fill:"#000",stroke:"none"});o=_drawHelperBox(f,_drawOptions.wbConfig.getClassTypes("icon"),i,t.rotationDegree,null,!1,t.uuid,t.isTransformed,t.wall,t.slideNo),o.iconName=t.iconName,_wbElements[o.uuid]=o;break;default:}var g={};g.sendchanges={action:"create",element:{type:e,properties:t}},_drawOptions.isBroadcastable&&n&&(g.state="onSend",_invokeDrawFunction(g)),r&&(g.state="onEnableUndo",_invokeDrawFunction(g));var m={};m.state="onCreateElement",m.properties=o,_invokeDrawFunction(m),void 0!==t.transform&&null!=t.transform&&(o.element.transform(t.transform),o.transform(t.transform))
}function _updateElement(t,e){var i=_wbElements[t.uuid];if(null==i)return _invokeLogger({debug:"Element to be updated does not exist anymore in this Whiteboard"}),void 0;_trnsUnplug(!1),null!=_selectedObj&&_selectedObj.attr(_drawOptions.wbConfig.getAttributes("opacityHidden"));var n={};switch(e){case _drawOptions.wbConfig.getClassTypes("text"):n.text=t.text,n["font-family"]=t.fontFamily,n["font-size"]=t.fontSize,n["font-weight"]=t.fontWeight,n["font-style"]=t.fontStyle,n.fill=t.color;break;case _drawOptions.wbConfig.getClassTypes("freeLine"):case _drawOptions.wbConfig.getClassTypes("straightLine"):n.stroke=t.color,n["stroke-width"]=t.lineWidth,n["stroke-dasharray"]=t.lineStyle,n["stroke-opacity"]=t.opacity,n.fill=t.backgroundColor;break;case _drawOptions.wbConfig.getClassTypes("rectangle"):n.width=t.width,n.height=t.height,n.r=t.cornerRadius,n.fill=t.backgroundColor,n.stroke=t.borderColor,n["stroke-width"]=t.borderWidth,n["stroke-dasharray"]=t.borderStyle,n["fill-opacity"]=t.backgroundOpacity,n["stroke-opacity"]=t.borderOpacity;break;case _drawOptions.wbConfig.getClassTypes("circle"):n.r=t.radius,n.fill=t.backgroundColor,n.stroke=t.borderColor,n["stroke-width"]=t.borderWidth,n["stroke-dasharray"]=t.borderStyle,n["fill-opacity"]=t.backgroundOpacity,n["stroke-opacity"]=t.borderOpacity;break;case _drawOptions.wbConfig.getClassTypes("ellipse"):n.rx=t.hRadius,n.ry=t.vRadius,n.fill=t.backgroundColor,n.stroke=t.borderColor,n["stroke-width"]=t.borderWidth,n["stroke-dasharray"]=t.borderStyle,n["fill-opacity"]=t.backgroundOpacity,n["stroke-opacity"]=t.borderOpacity;break;case _drawOptions.wbConfig.getClassTypes("document"):n.documentId=t.documentId,n.docSlideNo=t.docSlideNo,n.docTitle=t.docTitle,n.pageCnt=t.pageCnt;case _drawOptions.wbConfig.getClassTypes("image"):n.width=t.width,n.height=t.height;break;case _drawOptions.wbConfig.getClassTypes("icon"):n.scale=t.scaleFactor.toFixed(1),i.iconName=t.iconName;break;default:}n.rotation=t.rotationDegree,_setElementProperties(i.element,n),void 0!==t.transform&&(i.element.transform(t.transform),i.transform(t.transform))}function _covertTransToArray(t,e,i){var n=_drawOptions.paper.freeTransform(t,{keepRatio:!1,draw:["bbox"],scale:["axisX","axisY","bboxCorners","bboxSides"]}),r={x:n.attrs.center.x+n.offset.translate.x,y:n.attrs.center.y+n.offset.translate.y},o=n.attrs.rotate-n.offset.rotate,s={x:n.attrs.scale.x/n.offset.scale.x,y:n.attrs.scale.y/n.offset.scale.y},a={x:n.attrs.translate.x-n.offset.translate.x,y:n.attrs.translate.y-n.offset.translate.y},l=["R",o,r.x,r.y,"S",s.x,s.y,r.x,r.y,"T",a.x+e,a.y+i];return n.unplug(),l}function _addFreeTransform(t){_ft=_drawOptions.paper.freeTransform(t,{keepRatio:!1,draw:["bbox"],scale:["axisX","axisY","bboxCorners","bboxSides"],size:{axes:5,bboxCorners:2,bboxSides:2,center:5}},function(e,i){if(("scale start"==i||"drag start"==i||"rotate start"==i[0])&&(_oldEl={},_oldEl=_createSelectObj()),"scale end"==i||"drag end"==i||"rotate end"==i[0]){_selectedObj.transform(t.transform()),_selectedObj.element=t,_selectedObj.classType==_drawOptions.wbConfig.getClassTypes("text")&&(_selectedObj.isTransformed=!0);var n=_getElementProperties(_selectedObj),r={action:"update",element:{type:_selectedObj.classType,properties:n}};if(_drawOptions.isBroadcastable){var o={};o.state="onSend",o.sendchanges=r,_invokeDrawFunction(o)}}})}function _trnsUnplug(t){t?_selectedObj.hover(_hoverOverEl,_hoverOutEl):null!=_selectedObj&&_wbElements[_selectedObj.uuid]&&_selectedObj.hover(_hoverOverEl,_hoverOutEl),void 0!==_ft&&null!==_ft&&_ft.unplug()}var _modeSwitcher,_newProperties,_selectedObj,_wbElements,_ft,lineEl,rectElement,circleElement,ellipseElement,e,_drawOptions={isBroadcastable:!1,paper:null,offset:null,wbConfig:null,logging:!1},undoActionConvert={create:"remove",update:"update",remove:"create",clone:"remove",toFront:"toBack",toBack:"toFront"},_oldEl={},_wbScroll={x:0,y:0},win=Raphael._g.win,doc=win.document,hasTouch="createTouch"in doc,M="M",L="L",R="R",COMMA=",",active=!1,repath=!1,touchable=!1,path="",initPath="",left=0,top=0,scale=1;Raphael.mouseup(function(){if(active){active=!1,e=null;var t=null,i={};if(lineEl){var n,r;_modeSwitcher.freeLineMode?(n=_drawOptions.wbConfig.getClassTypes("freeLine"),r=_drawOptions.wbConfig.getProperties("freeLine")):(n=_drawOptions.wbConfig.getClassTypes("straightLine"),r=_drawOptions.wbConfig.getProperties("straightLine")),t=_drawHelperBox(lineEl,n,_forwardOrder(),r.rotation,null,!0,null),_wbElements[t.uuid]=t,i.sendchanges={action:"create",element:{type:n,properties:{uuid:t.uuid,orderNo:t.orderNo,rotationDegree:r.rotation,path:lineEl.attr("path")+"",color:lineEl.attr("stroke"),lineWidth:lineEl.attr("stroke-width"),lineStyle:_getDasharrayValue(lineEl.attr("stroke-dasharray")),opacity:lineEl.attr("stroke-opacity")}}},lineEl=null,_drawOptions.whiteboard.lineEl.pathArray=null}if(_modeSwitcher.circleMode){var o=circleElement.attr("cx"),s=circleElement.attr("cy"),a=circleElement.attr("r");if(0==a)return _invokeLogger({info:" Element was choosen but haven't drawn anything "}),void 0;t=_drawHelperBox(circleElement,_drawOptions.wbConfig.getClassTypes("circle"),_forwardOrder(),_drawOptions.wbConfig.getProperties("circle").rotation,null,!0,null),_wbElements[t.uuid]=t,i.sendchanges={action:"create",element:{type:_drawOptions.wbConfig.getClassTypes("circle"),properties:{uuid:t.uuid,orderNo:t.orderNo,x:o,y:s,rotationDegree:_drawOptions.wbConfig.getProperties("circle").rotation,radius:a,backgroundColor:circleElement.attr("fill"),borderColor:circleElement.attr("stroke"),borderWidth:circleElement.attr("stroke-width"),borderStyle:_getDasharrayValue(circleElement.attr("stroke-dasharray")),backgroundOpacity:circleElement.attr("fill-opacity"),borderOpacity:circleElement.attr("stroke-opacity")}}},_drawOptions.whiteboard.circleEl.cx=0,_drawOptions.whiteboard.circleEl.cy=0}if(_modeSwitcher.ellipseMode){ellipseElement.scale(1,1);var o=ellipseElement.attr("cx"),s=ellipseElement.attr("cy"),l=ellipseElement.attr("rx"),h=ellipseElement.attr("ry");if(0==l&&0==h)return _invokeLogger({info:" Element was choosen but haven't drawn anything "}),void 0;t=_drawHelperBox(ellipseElement,_drawOptions.wbConfig.getClassTypes("ellipse"),_forwardOrder(),_drawOptions.wbConfig.getProperties("ellipse").rotation,null,!0,null),_wbElements[t.uuid]=t,i.sendchanges={action:"create",element:{type:_drawOptions.wbConfig.getClassTypes("ellipse"),properties:{uuid:t.uuid,orderNo:t.orderNo,x:o,y:s,rotationDegree:_drawOptions.wbConfig.getProperties("ellipse").rotation,hRadius:l,vRadius:h,backgroundColor:ellipseElement.attr("fill"),borderColor:ellipseElement.attr("stroke"),borderWidth:ellipseElement.attr("stroke-width"),borderStyle:_getDasharrayValue(ellipseElement.attr("stroke-dasharray")),backgroundOpacity:ellipseElement.attr("fill-opacity"),borderOpacity:ellipseElement.attr("stroke-opacity")}}},_drawOptions.whiteboard.ellipseEl.cx=0,_drawOptions.whiteboard.ellipseEl.cy=0}if(_modeSwitcher.rectangleMode){var o=rectElement.attr("x"),s=rectElement.attr("y"),c=rectElement.attr("width"),d=rectElement.attr("height");if(0==c&&0==d)return _invokeLogger({info:" Element was choosen but haven't drawn anything "}),void 0;t=_drawHelperBox(rectElement,_drawOptions.wbConfig.getClassTypes("rectangle"),_forwardOrder(),_drawOptions.wbConfig.getProperties("rectangle").rotation,null,!0,null),_wbElements[t.uuid]=t,i.sendchanges={action:"create",element:{type:_drawOptions.wbConfig.getClassTypes("rectangle"),properties:{uuid:t.uuid,orderNo:t.orderNo,x:o,y:s,rotationDegree:_drawOptions.wbConfig.getProperties("rectangle").rotation,width:c,height:d,cornerRadius:rectElement.attr("r"),backgroundColor:rectElement.attr("fill"),borderColor:rectElement.attr("stroke"),borderWidth:rectElement.attr("stroke-width"),borderStyle:_getDasharrayValue(rectElement.attr("stroke-dasharray")),backgroundOpacity:rectElement.attr("fill-opacity"),borderOpacity:rectElement.attr("stroke-opacity")}}},_drawOptions.whiteboard.rectEl.cx=0,_drawOptions.whiteboard.rectEl.cy=0}if(!_isBlankObject(i)&&void 0!==i){_drawOptions.isBroadcastable&&(i.state="onSend",_invokeDrawFunction(i)),i.state="onEnableUndo",_invokeDrawFunction(i);var u={};u.state="onCreateElement",u.properties=t,_invokeDrawFunction(u)}}});var textField=$('<textarea id="whiteboardText"/>');return{getSelectedObject:function(){return _selectedObj},getCurrentElementProperites:function(t){return _getCurrentElementProperites(t)},setImageDetails:function(t,e,i,n,r){_drawOptions.whiteboard.imageEl.cx=e*scale,_drawOptions.whiteboard.imageEl.cy=i*scale,_drawOptions.whiteboard.imageEl.inputUrl=t,_drawOptions.whiteboard.imageEl.width=n*scale,_drawOptions.whiteboard.imageEl.height=r*scale},setPaper:function(t){_drawOptions.paper=t},deleteElementStorage:function(){_initWhiteboard()},getElementOrder:function(){return _elementOrder},setElementOrder:function(t){_elementOrder=t},removeElement:function(t,e,i){_removeElementAfterVerification(t,e,i)},bringFrontElement:function(t,e,i,n){_bringFrontElementAfterVerification(t,e,i,n)},bringBackElement:function(t,e,i,n){_bringBackElementAfterVerification(t,e,i,n)},clearWhiteboard:function(t){_clearWhiteboard(t)},undoAction:function(){_undoAction()},redoAction:function(){_redoAction()},clearDocElements:function(t){_clearDocElements(t)},createElement:function(t,e,i,n,r){_createElementAfterVerification(t,e,i,n,r)},updateElement:function(t,e){_updateElement(t,e)},switchToMode:function(t,e){_switchToMode(t,e)},changeProperties:function(t,e){if(2>arguments.length)_changeProperties(t);else{var i={};i[t]=e,_changeProperties(i)}},setOptions:function(t){_setDrawOptions(t)},changeBroadcastState:function(t){_drawOptions.isBroadcastable=t},initWhiteboard:function(){_initWhiteboard()},drawIcons:function(){_drawIcons()},drawDocument:function(t){_drawDocument(t)},createTracker:function(t){void 0==t?_createTracker(_drawOptions.paper):_createTracker(t)},removeTracker:function(t){void 0==t?_removeTracker(_drawOptions.paper):_removeTracker(t)},disableBindings:function(t){return _disableBindings(t)},enableBindings:function(t){return _enableBindings(t)},hideElements:function(t){_hideElements(t)},showElements:function(t){_showElements(t)},setOffset:function(t){void 0!=t&&(_drawOptions.offset=t,_calculateOffset())},getOffset:function(){return _drawOptions.offset},getScale:function(){return isNaN(scale)?(logError("Found the scale to NaN.Replacing with 1"),parseInt(1)):scale},setScale:function(t){scale=t},getModOption:function(){var t=[];for(var e in _modeSwitcher)_modeSwitcher.hasOwnProperty(e)&&t.push(e);return t},getCurrentMode:function(){for(var t in _modeSwitcher)if(_modeSwitcher.hasOwnProperty(t)&&_modeSwitcher[t])return t;return"others"},setScroll:function(t,e){_wbScroll.x=t,_wbScroll.y=e,_calculateOffset()},reset:function(){_wbScroll.x=0,_wbScroll.y=0,_calculateOffset(),scale=1},convertToJson:function(t){return _convertToJson(t)}}}(jQuery);

// ../lib/source/lib/whiteboard/paper.js
paperGroup=function(){function t(){T={header:{},paper:null,elementOrder:{},paperType:null,pageId:0},O=1,E=[],B={isEmpty:!0,pageId:[]},R={lowSeq:1e4,maxSeq:1e4}}function e(e){t(),M=$.extend(M,e)}function n(t){switch(t.state){case"onEmptyPage":M.onEmptyPage!==void 0&&M.onEmptyPage(t.properties);break;case"onNonEmptyPage":M.onNonEmptyPage!==void 0&&M.onNonEmptyPage(t.properties);break;case"onLastPage":M.onLastPage!==void 0&&M.onLastPage(t.properties);break;case"onNotLastPage":M.onNotLastPage!==void 0&&M.onNotLastPage(t.properties);break;case"onCreateDocPaper":M.onCreateDocPaper!==void 0&&M.onCreateDocPaper(t.properties);break;case"onCreatePaper":M.onCreatePaper!==void 0&&M.onCreatePaper(t.properties);break;case"onRemovePaper":M.onRemovePaper!==void 0&&M.onRemovePaper(t);break;case"onBeforePageChange":M.onBeforePageChange!==void 0&&M.onBeforePageChange(t.properties);break;case"onFirstPage":M.onFirstPage!==void 0&&M.onFirstPage(t.properties);break;case"onPageChange":M.onPageChange!==void 0&&M.onPageChange(t.properties)}}function i(t){for(var e=void 0,n=0;E.length>n;n+=1)if(E[n].pageId==t){e=n;break}return void 0===e&&(e=-1),e}function r(t){return $.grep(E,function(e){return e.pageId==t})}function o(t){return t>0?E[parseInt(t)-1].pageId:0==t?E[parseInt(t)+1].pageId:(log.error("Illegal Action, there are no pages in the whiteboard"),-1)}function s(t){logDebug("Marking page as empty :"+t),B.isEmpty=!0;var e={};e.state="onEmptyPage",e.properties=T,n(e),0>$.inArray(t,B.pageId)&&B.pageId.push(t)}function a(t){if(logDebug("Unmarking page as empty :"+t),void 0==t?B.pageId=[]:B.pageId.splice($.inArray(t,B.pageId),1),0==B.pageId.length){logDebug("UnMarking everything. No page found to be empty"),B.isEmpty=!1;var e={};e.state="onNonEmptyPage",e.properties=T,n(e)}}function l(){if(1==g().length){logDebug("Last page left, so deactivating the page close icon");var t={};t.state="onLastPage",n(t)}else{logDebug("Not a last page");var t={};t.state="onNotLastPage",n(t)}}function h(t,e,i,r){var o=4/3;r=wrapperWidth/o,r>wrapperHeight&&(i=wrapperWidth*(wrapperHeight/r),r=wrapperHeight);var a;a=e?Raphael($(M.docrepo).attr("id"),i,r):Raphael($(M.whiteboard).attr("id"),i,r),a.canvas.id=t,a.setViewBox(0,0,i,r,!0);var h=M.boardWrapper.find("svg#"+t);h.parent().append(h),$(h).removeAttr("height"),$(h).removeAttr("width"),$(h).height(r),$(h).width(i),T={},T.paper=a,T.paper.undocache=[],T.paper.redocache=[],T.pageId=t,T.elementOrder={},T.elementOrder.lowSeq=R.lowSeq,T.elementOrder.maxSeq=R.maxSeq,E.push(T);var c={};c.state="onCreatePaper",c.properties=T,c.properties.isDocType=e,n(c),logDebug("Setting the low seq :"+T.elementOrder.lowSeq+" and max seq :"+T.elementOrder.maxSeq+" for Page "+t),logDebug("createPaper()>>>>Marking the new paper "+T.pageId+" as Empty"),e||(s(T.pageId),l())}function c(t,e){var n=wrapperWidth=1460,i=wrapperHeight=757;h(t,e,n,i)}function d(t){var e=t;if(B.isEmpty&&a(e),void 0==e)throw"pageId to be removed should be undefined";logDebug("removePage()>>>>removing page no "+e);var r=i(e);r>=0?(f(o(r),!0),logDebug("removing the index "+r+" from paperStack."),E.splice(r,1)):logError("Couldn't find the page ["+t+"] to remove");var s={};s.state="onRemovePaper",u()?(s.type=M.paperConfig.getPaperTypes("document"),s.documentId=T.header.documentId,s.pageId=e):(s.type=M.paperConfig.getPaperTypes("whiteboard"),s.pageId=e,l()),n(s)}function u(t){return void 0!==t?E[t].paperType==M.paperConfig.getPaperTypes("document")?!0:!1:T.paperType==M.paperConfig.getPaperTypes("document")?!0:!1}function p(t,e){return t?(f(P(!0),!0,!0,e),void 0):(f(P(!0),!0),void 0)}function f(t,e,i,o){var s={},a=!1,l=t;if(s.state="onBeforePageChange",s.properties=T,n(s),0==l){if(!M.isCreator||!M.paperConfig.getSettings("initialPage"))return;l=1;var s={};s.state="onFirstPage",s.properties=T,n(s)}if(T.pageId!=l){logDebug("currentPage()>>>Page No :"+l+" not the current page.");var h=r(l);void 0==h||0==h.length?c(l,i):h.length>1?logError("Duplicate paper found withe pageId :"+l):T=h[0],logDebug("currentPage()>>>Turning Display on for : #"+T.pageId),logDebug("Setting the low seq :"+T.elementOrder.lowSeq+" and max seq :"+T.elementOrder.maxSeq+" for Page "+l)}if(a=i||!!w(l)){if(M.docrepo.find("svg").not("svg#"+l).hide(),arguments[3])_(o);else if(void 0===T.header)throw Error("Trying to create document page but the header info is null");M.boardWrapper.find("svg#"+T.pageId).show()}var s={};s.state="onPageChange",s.properties=T,s.properties.isDocType=a,s.properties.scroll=e,n(s)}function g(){for(var t=[],e=0;E.length>e;e++)u(e)||t.push(E[e]);return t}function m(t){for(var e,n=g();n.length>e;e++)if(n[e].pageId==t)return parseInt(e)+1}function y(t){for(var e,n=g();n.length>e;e++)if(n[e].pageId==t)return n[e].paper}function v(){for(var t=[],e=0;E.length>e;e++)u(e)&&t.push(E[e]);return t}function x(t){for(var e=v(),n=0;e.length>n;n++)if(e[n].header.documentId==t)return e[n].pageId}function w(t){for(var e=v(),n=0;e.length>n;n++)if(e[n].pageId==t)return e[n]}function b(t,e){for(var n=x(t),i=0;E.length>i;i++)if(E[i].pageId==n){var r=E[i];r.header.pageCnt=e,E[i]=r}}function C(t,e){T.header.docSlideNo=t,void 0!==e&&(T.header.prevSlideId=e)}function _(t,e,n,i,r){if(!u()){var o={};arguments.length>3?(o.documentId=t,o.docSlideNo=e,o.docTitle=n,o.docOwnerId=i,o.pageCnt=r||0):o=t,o.slideElements={},T.paperType=M.paperConfig.getPaperTypes("document"),T.header=$.extend({},o)}}function S(t){p(!0,t);var e={};e.state="onCreateDocPaper",e.properties=T,n(e)}function k(t){return t=$.extend(t,{documentId:T.header.documentId,docSlideNo:T.header.docSlideNo,docTitle:T.header.docTitle,docOwnerId:T.header.docOwnerId,pageCnt:T.header.pageCnt,prevSlideId:void 0!==T.header.prevSlideId?T.header.prevSlideId:null,orderNo:0}),T.header.currentSlideId=t.uuid,t}function P(t){return B.isEmpty?t?0==E.length?1:(O=parseInt(E[E.length-1].pageId)>=O+1?parseInt(E[E.length-1].pageId)+1:O+1,logDebug("nextPageSquenceNo>>>>Empty page is detected but forcefully generates new id ",O),O):(logDebug("nextPageSquenceNo>>>>Empty page is detected, it will reuse that paper",B.pageId),B.pageId[0]):0==E.length?1:(O=parseInt(E[E.length-1].pageId)>=O+1?parseInt(E[E.length-1].pageId)+1:O+1,logDebug("nextPageSequence()>>>>There is no empty page, creating new sequence id :"+O),O)}var T,O,E,B,R,M={whiteboard:null,docrepo:null,boardWrapper:null,userId:null,paperConfig:null,isCreator:!1};return{getWpSize:function(){return g().length},removePageId:function(t){M.boardWrapper.find("svg#"+t).remove()},getCurrentPageId:function(){return T.pageId},getCurrentDocumentId:function(){return void 0===T.header||void 0===T.header.documentId?0:T.header.documentId},setCurrentPage:function(t,e,n,i){f(t,e,n,i)},getCurrentPaper:function(){return T.paper},setElementOrder:function(t){T.elementOrder=t},getElementOrder:function(){return T.elementOrder},isPaperEmpty:function(){return B.isEmpty},markEmptyPage:function(t){s(t)},unmarkEmptyPage:function(t){a(t)},createDocPaper:function(t){S(t)},smartPageChange:function(t,e,n){var i=M.paperConfig.getPaperTypes("document"),r=null,o=!1,s=null;if($.isArray(t)?(r=WBUtility.or(t,function(t){return t.type==i}),o=!!r):$.isPlainObject(t)&&t.type==i&&(r=t,o=!0),o){var a=r.properties;if(!a)throw Error("Fn(smartPageChange) >>>Trying to create document page but header info is null");s={},s.documentId=a.documentId,s.docSlideNo=a.docSlideNo,s.docOwnerId=a.docOwnerId,s.docTitle=a.docTitle,s.pageCnt=a.pageCnt}paperGroup.setCurrentPage(e,n,o,s)},getCurrentSlideNo:function(){return T.header.docSlideNo},getAllPapers:function(){for(var t=[],e=0;E.length>e;e++)t.push(E[e].paper);return t},isDocumentPaper:function(){return u()},removePage:function(t){d(t)},setDocDetails:function(t,e){C(t,e)},updatePageCnt:function(t,e){b(t,e)},searchDocByDocId:function(t){return x(t)},addSlideElementId:function(t,e){void 0===T.header.slideElements[t]&&(T.header.slideElements[t]=[]),T.header.slideElements[t].push(e)},saveSlideElements:function(){},changePaperToDocType:function(t,e,n,i,r){_(t,e,n,i,r)},addPage:function(){p()},updateHelperBox:function(t){return k(t)},getCurrentSlideId:function(){return T.header.currentSlideId},getSlideElsIDs:function(t){return T.header.slideElements[t]},removeSlideEls:function(t){return T.header.slideElements[t]=[]},setOptions:function(t){e(t)},getPageId:function(t){return E[parseInt(t)].pageId},getPaper:function(t){return t?y(t):T.paper},getPageNo:function(t){return m(t)},getWhitePaper:function(){return g()},getDocuments:function(){return v()},deletePaperStack:function(){t(),M.boardWrapper.find("svg").remove()}}}();

// ../lib/source/Exports.js
if(void 0===org)var org={};if(void 0===bjse){var bjse={};"undefined"!=typeof exports&&(bjse=exports),bjse.api={}}

// ../lib/source/entities/AccountManager.js
bjse.api.accounts={};var Recurrence={ANY:"ANY",MONTHLY:"MONTHLY",ANNUAL:"ANNUAL",NONE:"NONE"};bjse.api.accounts.Recurrence=Recurrence,bjse.api.accounts.PaymentPlan=function(t){this.id="",this.name="",this.description="",this.userLimit=0,this.deviceLimit=0,this.amount=0,this.storageGB=0,this.selfService=!1,this.appkey="",this.recurrence=Recurrence.ANY,bjse.util.mixin(this,t)},bjse.api.accounts.Invoice=function(t){this.id="",this.number="",this.amount=0,this.dateCreated=null,this.paymentPlanId="",bjse.util.mixin(this,t)},bjse.api.accounts.Account=function(t){this.id="",this.paymentPlanId="",this.card="",this.cardType="",this.expDate=null,this.company="",this.invoiceAddr="",this.invoiceNotes="",this.dateCreated="",this.nextChargeDate="",bjse.util.mixin(this,t)},bjse.api.accounts.AccountStats=function(t){this.userCount=0,this.deviceCount=0,this.storageUsed=0,bjse.util.mixin(this,t)},bjse.api.accounts.AccountManager=function(t){this.session=t},bjse.api.accounts.AccountManager.prototype.getAccount=function(t,e){var n=bjse.util.format("{$apiurl}/account",{apiurl:this.session.runtime.serverUrl});this.session.getHttpClient().get(n,function(e){var n=new bjse.api.accounts.Account(JSON.parse(e));t(n)},e)},bjse.api.accounts.AccountManager.prototype.getAccountStats=function(t,e){var n=bjse.util.format("{$apiurl}/account/stats",{apiurl:this.session.runtime.serverUrl});this.session.getHttpClient().get(n,function(e){var n=new bjse.api.accounts.AccountStats(JSON.parse(e));t(n)},e)};

// ../lib/source/entities/DeviceManager.js
bjse.api.devices={};var PlatformType={ANY:"ANY",ANDROID:"ANDROID",IOS:"IOS",WEB:"WEB"};bjse.api.devices.PlatformType=PlatformType,bjse.api.devices.Device=function(t){this.id="",this.ownerid="",this.model="",this.platformVersion="",this.platformType=bjse.api.devices.PlatformType.ANY,bjse.util.mixin(this,t)},bjse.api.devices.DeviceManager=function(t){this.session=t},bjse.api.devices.DeviceManager.prototype.registerDevice=function(t,e,i){var n=bjse.util.format("{$apiurl}/devices",{apiurl:this.session.runtime.serverUrl});this.session.getHttpClient().post(n,t,function(t){var i=new bjse.api.devices.Device(JSON.parse(t));e(i)},i)},bjse.api.devices.DeviceManager.prototype.deregisterDevice=function(t,e,i){var n=bjse.util.format("{$apiurl}/devices/{$deviceid}",{apiurl:this.session.runtime.serverUrl,deviceid:t});this.session.getHttpClient().del(n,e,i)},bjse.api.devices.DeviceManager.prototype.getDevices=function(t,e){var i=bjse.util.format("{$apiurl}/devices",{apiurl:this.session.runtime.serverUrl});this.session.getHttpClient().get(i,function(t){var e=JSON.parse(t),i=[];if(bjse.util.isArray(e.device))for(var n=0;e.device.length>n;n++)i.push(new bjse.api.devices.Device(e.device[n]));else i.push(new bjse.api.devices.Device(e.device))},e)};

// ../lib/source/entities/UserDirectory.js
bjse.api.users={};var AccountType={FREE:"FREE",PREMIUM:"PREMIUM",ANY:"ANY"};bjse.api.users.AccountType=AccountType,bjse.api.users.User=function(t){this.id="",this.email="",this.username="",this.firstName="",this.lastName="",this.displayName="",this.avatarUrl="",this.password="",this.about="",this.accountType=AccountType.FREE,this.accountid="",this.admin=!1,bjse.util.mixin(this,t)},bjse.api.users.UserDirectory=function(t){this.session=t},bjse.api.users.UserDirectory.prototype.getUser=function(t,e,i){bjse.util.format("{$apiurl}/users/{$userid}",{apiurl:this.session.runtime.serverUrl,userid:t}),this.session.getHttpClient().get(n,{},function(t){var i=new bjse.api.users.User(JSON.parse(t));e(i)},i)},bjse.api.users.UserDirectory.prototype.updateUser=function(t,e,i,n){var r=bjse.util.format("{$apiurl}/users/{$userid}",{apiurl:this.session.runtime.serverUrl,userid:t}),o=this;this.session.getHttpClient().post(r,e,function(t){var e=new bjse.api.users.User(JSON.parse(t));o.session.user.id===e.id&&(o.session.user=e,o.session.username=e.email),i(e)},n)},bjse.api.users.UserDirectory.prototype.getUsers=function(t,e){var i=bjse.util.format("{$apiurl}/users",{apiurl:this.session.runtime.serverUrl});this.session.getHttpClient().get(i,function(e){var i=JSON.parse(e),n=[];if(bjse.util.isArray(i.user))for(var r=0;i.user.length>r;r++)n.push(new bjse.api.users.User(i.user[r]));else n.push(new bjse.api.users.User(i.user));t(n)},e)},bjse.api.users.UserDirectory.prototype.deleteUser=function(t,e,i){var n=bjse.util.format("{$apiurl}/users/{$userid}",{apiurl:this.session.runtime.serverUrl,userid:t});this.session.getHttpClient().del(n,{},e,i)},bjse.api.users.UserDirectory.prototype.recoverPassword=function(t,e,i){var n=bjse.util.format("{apiurl}/recover",{apiurl:this.session.runtime.serverUrl});this.session.getHttpClient().post(n,t,e,i)},bjse.api.users.UserDirectory.prototype.resetPassword=function(t,e,i){var n=bjse.util.format("{apiurl}/reset",{apiurl:this.session.runtime.serverUrl});this.session.getHttpClient().post(n,t,function(t){var i=new bjse.api.users.User(JSON.parse(t));e(i)},i)};

// ../lib/source/entities/ApplicationManager.js
bjse.api.apps={},bjse.api.apps.ApplicationManager=function(t){this.name="",this.key="",this.secret="",this.websiteUrl="",this.supportUrl="",this.adminEmail="",bjse.util.mixin(this,t)},bjse.api.apps.ApplicationManager.prototype.createApplication=function(t,e,i){var n=bjse.util.format("{$apiurl}/apps",{apiurl:this.session.runtime.serverUrl});this.session.getHttpClient().post(n,t,function(t){var i=new bjse.api.apps.ApplicationManager(JSON.parse(t));e(i)},i)},bjse.api.apps.ApplicationManager.prototype.deleteApplication=function(t,e,i){var n=bjse.util.format("{$apiurl}/apps/{$appid}",{appiurl:this.session.runtime.serverUrl,appid:t});this.session.getHttpClient().del(n,e,i)},bjse.api.apps.ApplicationManager.prototype.getApplications=function(t,e){var i=bjse.util.format("{$apiurl}/apps",{apiurl:this.session.runtime.serverUrl});this.session.getHttpClient().get(i,function(e){var i=JSON.parse(e),n=[];if(bjse.util.isArray(i.application))for(var r=0;i.length>r;r++)n.push(new bjse.api.apps.Application(i.application[r]));else n.push(new bjse.api.apps.Application(i.application));t(n)},e)};

// ../lib/source/entities/board/Page.js
bjse.api.board=bjse.api.board||{},bjse.api.board.Page=function(t){this.id="",this.assetid="",this.meetingid="",this.previewid="",this.thumbid="",this.contentType="",this.title="",this.pageNo=0,this.width=0,this.height=0,this.contentUrl="",bjse.util.mixin(this,t)};

// ../lib/source/HttpClient.js
bjse.api.HttpClient=function(t){this.session=t},bjse.api.HttpClient.prototype.send=function(){},bjse.api.HttpClient.prototype.get=function(t,e,i,n){$.ajax({url:t,type:"GET",contentType:"application/json",data:JSON.stringify(e),dataType:"json",success:i,error:n})},bjse.api.HttpClient.prototype.post=function(t,e,i){e.id="werwerewr",i(JSON.stringify(e))},bjse.api.HttpClient.prototype.put=function(t,e,i,n){$.ajax({url:t,type:"PUT",contentType:"application/json",data:JSON.stringify(e),dataType:"json",success:i,error:n})},bjse.api.HttpClient.prototype.del=function(t,e,i,n){$.ajax({url:t,type:"DELETE",contentType:"application/json",data:JSON.stringify(e),dataType:"json",success:i,error:n})};

// ../lib/source/Runtime.js
bjse.api.Exception=function(t,e){this.code=t,this.message=e},bjse.api.Runtime=function(t){this.serverUrl=t},bjse.api.Runtime.prototype.connect=function(){},bjse.api.Runtime.getApplicationToken=function(){},bjse.api.Session=function(t,e,i,n,r,o){this.connected=!1,this.runtime=t,this.appkey=i,this.appsecret=n,this.password=n,this.username=r,this.password=o},bjse.api.Session.prototype.getApplicationManager=function(){return this.appManager||(this.appManager=new bjse.api.ApplicationManager(this),this.appManager)},bjse.api.Session.prototype.getDeviceManager=function(){},bjse.api.Session.prototype.getUserDirectory=function(){return this.userDirectory||(this.userDirectory=new bjse.api.users.UserDirectory(this),this.userDirectory)},bjse.api.Session.prototype.getHttpClient=function(){return this.httpClient||(this.httpClient=new bjse.api.HttpClient(this),this.httpClient)},bjse.api.Session.prototype.getAccountManager=function(){},bjse.api.Session.prototype.getUserToken=function(){},bjse.api.Session.prototype.disconnect=function(){};

// ../lib/source/Util.js
bjse.util={empty:{},mixin:function(t,e,i){var n,r,o,s,a,l;if(bjse.util.isArray(t)?(n={},r=t,e&&bjse.util.isObject(e)&&(o=e)):(n=t||{},r=e,o=i),bjse.util.isObject(o)||(o={}),!0===i&&(o.ignore=!0,o.exists=!0),bjse.util.isArray(r))for(s=0;l=r[s];++s)bjse.util.mixin(n,l,o);else for(a in r)l=r[a],bjse.util.empty[a]!==l&&(o.exists&&!l||o.ignore&&n[a]||(o.filter&&bjse.util.isFunction(o.filter)?!o.filter(a,l,r,n,o):0)||(n[a]=l));return n},isArray:Array.isArray||function(t){return"[object Array]"===this.toString.call(t)},isFunction:function(t){return"[object Function]"===this.toString.call(t)},isString:function(t){return"[object String]"===this.toString.call(t)},isObject:Object.isObject||function(t){return null!==t&&"[object Object]"===this.toString.call(t)},toString:Object.prototype.toString,format:function(t,e,i){var n,r,o=t,s=i||this.format_pattern,a=function(t,i){return n=e[i],void 0===n||null===n?"{$"+i+"}":(r=!0,n)},l=0;do if(r=!1,o=o.replace(s,a),++l>=20)throw"bjse.util.format: recursion too deep";while(r);return o},randomUUID:function(){for(var t=[],e=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F"],i=0;36>i;i++)t[i]=Math.floor(16*Math.random());for(t[14]=4,t[19]=8|3&t[19],i=0;36>i;i++)t[i]=e[t[i]];return t[8]=t[13]=t[18]=t[23]="-",t.join("")},randomString:function(t,e){for(var i="abcdefghjkmnpqrstuvwxyzABCDEFGHJKLMNOPQRSTUVWXYZ23456789",n=t+this.irand(e-t),r="",o=0;n>o;o++)r+=i.charAt(this.irand(i.length));return r},format_pattern:/\{\$([^{}]*)\}/g,isBlankObject:function(t){if(null==t)return!0;for(var e in t)if(t.hasOwnProperty(e))return!1;return!0},escapeBackslashQuotes:function(t){return t=t.replace(/\\/g,"\\\\"),t=t.replace(/,/g,"\\,"),t=t.replace(/"/g,'\\"')},or:function(t,e,i){for(var n,r=0,o=t.length;o>r;r++)if(n=t[r],e.call(i,n,r,t))return n;return null}},uuid=bjse.util.randomUUID;

// ../lib/source/log.js
var logIncoming=function(t){console.log("INCOMING: "+t)},logOutgoing=function(t){console.log("OUTGOING: "+t)},logProfile=function(){},logDebug=function(t){console.log(t)},logError=function(t){console.log(t)},logInfo=function(t){console.info(t)};

// source/data/data.js


// source/data/Analytics.js


// source/data/CanvasInfo.js


// source/data/OpenID.js


// source/data/Session.js
enyo.kind({name:"blanc.Session",kind:"enyo.Object",statics:{MAX_FREE_PAGES:6,SERVERURL:"http://localhost:8080/",APIPATH:"/manage/api",APP_ID:"3242",APP_SECRET:"434342",baseSession:null,deviceSize:"LARGE",meetingSession:null,premium:!1,getServerUrl:function(){return this.SERVERURL},getBaseSession:function(){return this.baseSession||(this.baseSession=new bjse.api.Session(this.getRuntime(),this.getDevice(),this.APP_ID,this.APP_SECRET)),this.baseSession},getRuntime:function(){return this.runtime||(this.runtime=new bjse.api.Runtime(this.SERVERURL+this.APIPATH)),this.runtime},getPersistenceManager:function(){return null==this.persistenceManager&&(this.persistenceManager=enyo.platform.ios||enyo.platform.safari||enyo.platform.androidChrome?new blanc.WebSQLManager:window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB?new blanc.IndexedDBManager:new blanc.WebSQLManager),this.persistenceManager},getUserDirectory:function(){return this.getBaseSession().getUserDirectory()},isMobile:function(){return enyo.platform.ios||enyo.platform.android||enyo.platform.androidChrome||enyo.platform.windowsPhone},isTablet:function(){return this.isMobile()&&"LARGE"===this.getDeviceSize()},isGuest:function(){return!0},getDevice:function(){return new bjse.api.devices.Device({id:blanc.Session.getDeviceId(),ownerid:this.getUserId(),platformType:"WEB",platformVersion:2,model:blanc.Session.guessModel()})},getDeviceId:function(){var t=localStorage.getItem("blanc_deviceid");return t||(t=bjse.util.randomUUID(),localStorage.setItem("blanc_deviceid",t)),t},guessModel:function(){enyo.platform.ios?"iOS Safari":enyo.platform.androidChrome?"Android Chrome":enyo.platform.safari?"Safari":enyo.platform.android?"Android":enyo.platform.chrome?"Chrome":enyo.platform.anroidFirefox?"Android Firefox":enyo.platform.firefox?"Firefox":enyo.platform.ie?"Windows IE":"Webapp"},getUserId:function(){return localStorage.getItem("blanc_userid")},setUserId:function(t){localStorage.setItem("blanc_userid",t)},getDeviceSize:function(){return this.deviceSize},setDeviceSize:function(t){this.deviceSize=t},getUserInfo:function(t,e){var i=blanc.Session.getPersistenceManager();i.getUserById("23422",t,e)},getToolbox:function(){return this.toolbox||(this.toolbox=new blanc.Toolbox,this.toolbox)},isDrawing:function(){return this.getToolbox().isToolboxActive()},getDrawEngine:function(){return this.drawEngine||(this.drawEngine=$.DrawEngine,this.drawEngine.setOptions({wbConfig:Configuration,logging:!0}),this.drawEngine.initWhiteboard()),this.drawEngine}}});

// source/data/persistence/IndexedDBManager.js
enyo.kind({name:"blanc.IndexedDBManager",kind:"blanc.PersistenceManager",database:null,init:function(t,e){window.indexedDB||(window.indexedDB=function(){return window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB}(),window.IDBTransaction=function(){return window.webkitIDBTransaction||window.msIDBTransaction}(),window.IDBKeyRange=function(){return window.webkitIDBKeyRange||window.msIDBKeyRange}());try{var i=this,n=window.indexedDB.open("blancdb",1);n.onerror=function(t){console.log(t.target.errorCode),e(t.target.error)},n.onsuccess=function(){i.database=n.result,t()},n.onupgradeneeded=function(t){var e=t.target.result;if(1>t.oldVersion){console.log("Creating blancdb Database"),e.createObjectStore("users",{keyPath:"id"});var i=e.createObjectStore("documents",{keyPath:"id"});i.createIndex("cachedIndex","cached",{unique:!1});var n=e.createObjectStore("pages",{keyPath:"id"});n.createIndex("assetidIndex","assetid",{unique:!1})}}}catch(r){}},storeUser:function(t,e,i){var n=this.database.transaction(["users"],"readwrite"),r=n.objectStore("users"),o=r.put(t);o.onsuccess=function(){},o.onerror=function(){i(o.error)},o.oncomplete=function(){e(t)}},updateUser:function(t,e,i){this.storeUser(t,e,i)},getUserById:function(t,e,i){var n=this.database.transaction(["users"],"readonly"),r=n.objectStore("users"),o=r.get(t);o.onsuccess=function(t){if(t.target.result){var n=new bjse.api.users.User(t.target.result);e(n)}else i("not found")},o.onerror=function(){i(o.error)}},deleteUser:function(t,e,i){var n=this.database.transaction(["users"],"readwrite"),r=n.objectStore("users"),o=r["delete"](t);o.onsuccess=function(){},o.onerror=function(){i&&i(o.error)},o.oncomplete=function(){e&&e(t)}},storeDocument:function(t,e,i){var n=this.database.transaction(["documents"],"readwrite"),r=n.objectStore("documents"),o=r.put(this.doc2record(t));o.onsuccess=function(){e&&e(t)},o.onerror=function(){i&&i(t)}},storePage:function(t,e,i){var n=this.database.transaction(["pages"],"readwrite"),r=n.objectStore("pages"),o=r.put(t);o.onsuccess=function(){e&&e(t)},o.onerror=function(){i(o.error)}},getDocumentById:function(t,e,i){var n=this.database.transaction(["documents"],"readwrite"),r=n.objectStore("documents"),o=r.get(t),s=this;o.onsuccess=function(n){n.target.result?e(s.record2doc(n.target.result)):i("document id :"+t+" not found")},o.onerror=function(){i(o.error)}},getPagesForDocument:function(t,e,i){var n=this.database.transaction(["pages"],"readwrite"),r=n.objectStore("pages"),o=r.index("assetidIndex"),s=o.openCursor(IDBKeyRange.only(t)),a=[],l=this;s.onsuccess=function(){var t=s.result;if(t){var i=l.record2page(t.value);a.push(i),t["continue"]()}else a.sort(function(t,e){return t.pageNo-e.pageNo}),e(a)},s.onerror=function(){i(s.error)}},record2doc:function(t){var e={id:t.id};for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e.cached=1==t.cached,e.shared=1==t.shared,e},doc2record:function(t){var e={id:t.id};for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e.shared=t.shared?1:0,e.cached=t.cached?1:0,e},record2page:function(t){return new bjse.api.board.Page(t)}});

// source/data/persistence/PersistenceManager.js
enyo.kind({name:"blanc.PersistenceManager",kind:"enyo.Object",createWhiteboard:function(t,e,i){var n=(new Date).getTime(),r=this,o=0,s={id:bjse.util.randomUUID(),title:t,type:"File",dateCreated:n,ownerid:blanc.Session.getUserId(),shared:!1};this.storeDocument(s,function(t){for(var n=0;3>n;n++)r.createEmptyPage(t.id,n+1,function(){3===++o&&e(t)},function(){i()})},function(){i()})},createEmptyPage:function(t,e,i,n){var r=new bjse.api.board.Page;r.id=bjse.util.randomUUID(),r.assetid=t,r.pageNo=e,r.height=768,r.width=1024,1==t&&(r.thumbid="thumb_"+t),this.storePage(r,function(t){i(t)},n)},getLogForPage:function(){},retoreLogForPage:function(){}});

// source/data/persistence/WebSQLManager.js
enyo.kind({name:"blanc.WebSQLManager",kind:"blanc.PersistenceManager",db:null,init:function(t,e){try{var i=eny.plantform.ios?123:345;this.db=openDatabase("blancbd","1.0","blancboard database",i),this.db.transaction(function(t){t.executeSql("CREATE TABLE IF NOT EXISTS users (id unique, email, firstName, lastName, displayName, about, username, accountType, admin, dateActivated)")},e,function(){t()})}catch(n){(2==n||11==n.code)&&console.log("DB ISSUE")}},storeUser:function(t,e,i){var n=t.admin?"true":"false";this.db.transaction(function(e){e.executeSql("INSET INTO users (id, email, firstName, lastName, displayName, about, username, accountType, admin, dateActivated) VALUES (?,?,?,?,?,?,?,?,?,?)",[t.id,t.email,t.firstName,t.lastName,t.displayName,t.about,t.username,t.accountType,n,t.dateActivated])},i,function(){e(t)})},updateUser:function(t,e,i){var n=t.admin?"true":"false";this.db.transaction(function(e){e.executeSql("UPDATE users SET username = ?, firstName = ?, lastName = ?, email = ?, about = ?, displayName = ?, accountType = ?, admin = ?, dateActivated = ? where id = ?",[t.username,t.firstName,t.lastName,t.email,t.about,t.displayName,t.accountType,n,t.dateActivated,t.id])},i,function(){e(t)})},getUserById:function(t,e,i){var n=null;this.db.transcation(function(r){r.executeSql("SELECT * FROM users WHERE id = ?",[t],function(t,e){var i=e.rows.length;if(i>0){var r=e.rows.item(0);n=new bjse.api.users.User(r),n.admin=r.admin.parseBoolean()}},i,function(){n?e(n):i()})})},deleteUser:function(t,e,i){this.db.transaction(function(e){e.executeSql("DELETE FROM users WHERE id = ?",[t])},i,function(){e(t)})}});

// source/data/sync/SyncManager.js


// source/data/util/data.js


// source/data/util/xdm.js


// source/views/AddressBar.js


// source/views/Alert.js
enyo.kind({name:"blanc.Alert",kind:"enyo.Popup",floating:!0,centered:!0,modal:!0,scrim:!0,components:[{classes:"modal-dialog",components:[{classes:"modal-content",components:[{classes:"modal-header",components:[{kind:"enyo.Button",classes:"close",allowHtml:!0,content:"&times",onclick:"closeClicked"},{name:"title",tag:"h4",classes:"modal-title",content:$L("Error")}]},{classes:"modal-body",components:[{name:"message",tag:"p",content:""}]}]}]}],showMessage:function(t,e,i){this.$.title.setContent(t),this.$.message.setAllowHtml(i?!0:!1),this.$.message.setContent(e),this.show()},closeClicked:function(){return this.hide(),!0}});

// source/views/AppView.js
enyo.kind({name:"blanc.AppView",classes:"app-view",events:{onErrorAlert:"",onFileCreated:"fileCreated"},handlers:{onPageChanged:"pageChanged"},components:[{}],menuModel:null,meetingModel:null,orientation:null,rendered:function(){this.inherited(arguments)},fileCreated:function(t,e){this.waterfallDown("onFileCreated",e)},pageChanged:function(t,e){return this.menuModel.pageChanged(t,e),this.updateMenu(),!0},paletteClicked:function(){var t=this.createComponent({kind:"blanc.Palette",name:"palette",onHide:"paletteHidden"},{owner:this});t.show()},paletteHidden:function(){this.$.palette&&(this.$.palette.get("colorSelected")||this.$.palette.get("widthSelected")?(this.menuModel.activatePen(),this.updateMenu(),this.$.palette.destroy()):this.$.palette.destroy())},updateMenu:function(){}});

// source/views/Attendees.js
enyo.kind({name:"blanc.Attendees",handlers:{onAttendeeJoined:"populateList",onAttendeeLeft:"poplulateList",onAttendeeUpdated:"refreshList",onMeetingEnded:"clear"},components:[{kind:"blanc.ViewStack",name:"panels",classes:"enyo-fit",components:[{kind:"FittableRows",classes:"enyo-fit enyo-unselectable",components:[{name:"titlebar",kind:"blanc.Toolbar",components:[{fit:!0,classes:"toolbar-title",tag:"span",content:$L("People")},{components:[{name:"lockButton",kind:"blanc.Button",classes:$L("Lock"),ontap:"lockClicked"}]}]},{fit:!0,name:"list",kind:"List",multiSelect:!0,classes:"mm-att-list",onSetupItem:"setupItem",components:[{name:"item",kind:"blanc.AttendeeItem",ontap:"itemTap"}]}]}]}],init:function(){this.populateList(),this.$.panels.popToRootView(),this.updateLockButton()},create:function(){this.inherited(arguments),this.init()},updateLockButton:function(){},populateList:function(){this.data=[]},refreshList:function(){this.$.list.refresh()},clear:function(){this.data=[],this.$.list.setCount(this.data.length),this.$.list.reset()},itemTap:function(t,e){this.data[e.index]},attendeeUpdated:function(t,e){e.attendee.id===this.att.id&&this.init()},removeAttendee:function(){}});

// source/views/AudioPanel.js


// source/views/Button.js
enyo.kind({name:"blanc.Button",kind:"enyo.Button",handlers:{ontap:"clicked"},savedContent:null,clicked:function(){this.savedContent=this.getContent(),this.setContent(this.loading?this.loading:$L("Please wait ...")),this.setAttribute("disabled","disabled")},reset:function(){this.savedContent&&this.setContent(this.savedContent),this.blur(),this.setAttribute("disabled",null)}});

// source/views/Canvas.js
enyo.kind({name:"blanc.Canvas",kind:"enyo.Control",tag:"canvas",context:null,visibile:!1,attributes:{width:0,height:0},points:null,pointIdx:0,animid:null,lineWidth:1,thumbnailUpdateTimer:null,THUMBNAIL_HEIGHT:120,THUMBNAIL_WIDTH:160,handlers:{ondown:"touchDown",ondragstart:"dragStart",ondrag:"dragMove",ondragfinish:"dragEnd",onup:"touchUp",onMeetingEnded:"commit",onCanShare:"canShareChanged"},events:{onCanvasAction:"",onUndoStateChanged:"",onThumbnailUpdated:""},published:{scale:1,dirty:!1,log:null},create:function(){if(this.inherited(arguments),this.log=[],this.persistent){var t=this,e=blanc.Session.getPersistenceManager();e.getLogForPage(t.page.id,function(e){t.setLog(e),t.visible&&t.restorePaths()},function(e){t.log(e)})}},destroy:function(){this.commit(),this.inherited(arguments)},getContext:function(){if(!this.context){var t=this.hasNode();t.getContext&&(this.context=t.getContext("2d"))}return this.context},clearCanvas:function(){var t=this.getContext();t.clearRect(0,0,this.getAttribute("width"),this.getAttribute("height"))},reset:function(){this.points=null,this.pointIdx=0,this.clearCanvas()},clear:function(){this.clearAction(!0)},clearAction:function(t){if(this.reset(),this.persistent){var e=blanc.Session.getPersistenceManager(),i=new mc.api.canvas.Path;i.pathid=mc.util.randomUUID(),i.pageid=this.page.id,i.assetid=this.page.assetid,i.timestamp=(new Date).getTime(),e.storePath(i,function(){},function(){self.log("failed to clear")})}var n=new mc.api.canvas.PageAction;n.type=mc.api.canvas.ActionType.CLEAR,n.pageid=this.page.id,this.addActionToLog(n),t&&this.raiseAction(n)},undo:function(){this.undoAction(!0)},undoAction:function(t){if(this.reset(),this.restorePaths(!0),t){var e=new mc.api.canvas.PageAction;e.type=mc.api.canvas.ActionType.UNDO,e.pageid=this.page.id,this.raiseAction(e)}},midPoint:function(t,e){var i={x:(t.x+e.x)/2,y:(t.y+e.y)/2};return i},addPoint:function(t,e){var i={x:t/this.getScale(),y:e/this.getScale()};this.points.push(i)},doDrawPath:function(){if(this.points&&!(2>this.points.length)){var t=this.pointIdx;this.pointIdx=this.points.length;var e=this.points.slice(0),i=this.getContext();if(i.lineJoin="round",i.lineCap="round",blanc.Session.getCanvasInfo().getMode()==mc.api.canvas.PathMode.PEN){var n=blanc.Session.getCanvasInfo();i.strokeStyle="#"+n.getColor(),i.lineWidth=Math.max(1,n.getWidth()*this.getScale()),i.globalCompositeOperation="source-over"}else i.globalCompositeOperation="destination-out",i.strokeStyle="rgba(255,255,255,1.0)",i.lineWidth=Math.max(1,blanc.CanvasInfo.ERASER_WIDTH*this.getScale());i.beginPath();for(var r=t;e.length>r;r++){var o=e[r],s=e[r-1],a=r>1?e[r-2]:s,l=this.midPoint(s,a),h=this.midPoint(o,s);i.moveTo(l.x*this.getScale(),l.y*this.getScale()),i.quadraticCurveTo(s.x*this.getScale(),s.y*this.getScale(),h.x*this.getScale(),h.y*this.getScale())}i.stroke(),i.closePath()}},drawPath:function(){var t=this;this.animid=requestAnimationFrame(function(){t.drawPath()}),this.doDrawPath()},touchDown:function(t,e){if(blanc.Session.notDrawing())return!1;var i=this.hasNode().getBoundingClientRect(),n=e.clientY-i.top,r=e.clientX-i.left;return this.points=[],this.pointIdx=1,this.addPoint(r,n),this.drawPath(),!0},dragStart:function(t,e){if(!this.points)return!1;var i=this.hasNode().getBoundingClientRect(),n=e.clientY-i.top,r=e.clientX-i.left;return this.pointIdx=1,this.addPoint(r,n),!0},dragMove:function(t,e){if(!this.points)return!1;var i=this.hasNode().getBoundingClientRect(),n=e.clientY-i.top,r=e.clientX-i.left;return this.addPoint(r,n),!0},dragEnd:function(){return this.points?!0:!1},touchUp:function(t,e){if(this.animid&&cancelAnimationFrame(this.animid),!this.points)return!1;var i,n=blanc.Session.getCanvasInfo();if(1==this.points.length){var r=this.hasNode().getBoundingClientRect(),o=e.clientY-r.top,s=e.clientX-r.left;i=this.getContext(),i.beginPath(),i.arc(s,o,n.getWidth()/2,0,2*Math.PI),i.fillStyle="#"+n.getColor(),i.globalCompositeOperation=n.getMode()==mc.api.canvas.PathMode.PEN?"source-over":"destination-out",i.fill(),i.closePath()}else if(this.doDrawPath(),this.points.length>2){var a=this.points[this.points.length-1],l=this.points[this.points.length-2],h=this.midPoint(a,l);i=this.getContext(),i.moveTo(h.x*this.getScale(),h.y*this.getScale()),i.lineTo(a.x*this.getScale(),a.y*this.getScale()),i.stroke()}var c=mc.api.canvas.Segment.segments(this.points),d=new mc.api.canvas.Path;d.id=mc.util.randomUUID(),d.pageid=this.page.id,d.assetid=this.page.assetid,d.mode=n.getMode(),d.color=n.getColor(),d.width=n.getWidth(),d.segments=c,d.timestamp=(new Date).getTime(),this.savePath(d);var u=new mc.api.canvas.PageAction;return u.pageid=this.page.id,u.path=d,u.type=mc.api.canvas.ActionType.PATH,this.addActionToLog(u),this.raiseAction(u),this.points=null,!0},savePath:function(t){if(this.persistent){var e=blanc.Session.getPersistenceManager();e.storePath(t,function(){},function(){self.log("failed to store path")})}},restorePaths:function(t){var e=this.getLog();if(e&&enyo.isArray(e)){if(t&&e.length>0&&(e.pop(),this.persistent)){var i=blanc.Session.getPersistenceManager();i.undoPath(this.page.id,function(){},function(){self.log("failed to undo")})}for(var n=e.length-1;n>=0&&e[n].type!=mc.api.canvas.ActionType.CLEAR;)n--;for(var r=n+1;e.length>r;r++){var o=e[r],s=o.path;this.restorePath(s)}this.pathsChanged()}},performAction:function(t){switch(t.type){case mc.api.canvas.ActionType.CLEAR:this.clearAction(!1);break;case mc.api.canvas.ActionType.UNDO:this.undoAction(!1);break;case mc.api.canvas.ActionType.PATH:var e=t.path;this.restorePath(e),e.timestamp=(new Date).getTime(),this.savePath(e),this.addActionToLog(t)}this.scheduleThumbnailUpdate()},restorePath:function(t){var e=this.getContext();e.lineJoin="round",e.lineCap="round",t.mode==mc.api.canvas.PathMode.PEN?(e.strokeStyle="#"+t.color,e.globalCompositeOperation="source-over"):(e.globalCompositeOperation="destination-out",e.strokeStyle="rgba(255,255,255,1.0)");for(var i=0;t.segments.length>i;i++){var n=t.segments[i].points;if(e.beginPath(),1==n.length){var r=n[0];e.arc(r.x*this.getScale(),r.y*this.getScale(),t.width*this.getScale()/2,0,2*Math.PI),e.lineWidth=0,e.fillStyle="#"+t.color,e.fill()}else if(2==n.length){var o=n[0],s=n[1];e.lineWidth=Math.max(1,t.width*this.getScale()),e.moveTo(o.x*this.getScale(),o.y*this.getScale()),e.lineTo(s.x*this.getScale(),s.y*this.getScale()),e.stroke()}else if(n.length>2){e.lineWidth=Math.max(1,t.width*this.getScale());for(var a,l,h,c=null,d=null,u=1;n.length>u;u++)c=n[u],a=n[u-1],l=u>1?n[u-2]:a,h=this.midPoint(a,l),d=this.midPoint(c,a),e.moveTo(h.x*this.getScale(),h.y*this.getScale()),e.quadraticCurveTo(a.x*this.getScale(),a.y*this.getScale(),d.x*this.getScale(),d.y*this.getScale());e.moveTo(d.x*this.getScale(),d.y*this.getScale()),e.lineTo(c.x*this.getScale(),c.y*this.getScale()),e.stroke()}e.closePath()}},didAppear:function(){this.visible=!0,this.restoreTimeout&&clearTimeout(this.restoreTimeout),this.restorePaths()},didDisappear:function(){this.visible=!1,this.commit()},resizeHandler:function(){this.inherited(arguments),this.visible&&this.restoreCanvas()},restoreCanvas:function(){var t=this;this.restoreTimeout&&clearTimeout(this.restoreTimeout),this.restoreTimeout=setTimeout(function(){t.visible&&(t.clearCanvas(),t.restorePaths(!1))},500)},hasPaths:function(){return this.log&&this.log.length>0},canClear:function(){return this.log&&this.log.length>0?this.log[this.log.length-1].type!=ActionType.CLEAR:!1},pathsChanged:function(){this.doUndoStateChanged({undo:this.hasPaths(),clear:this.canClear()})},canShareChanged:function(t,e){e.value&&this.visible&&this.doUndoStateChanged({undo:this.hasPaths(),clear:this.canClear()})},addActionToLog:function(t){this.getLog().push(t),this.pathsChanged(),this.persistent&&this.setDirty(!0)},commit:function(t,e){if(!this.persistent||!this.dirty)return enyo.isFunction(t)&&t(),void 0;this.dirty=!1;var i=this,n=blanc.Session.getPersistenceManager();n.commitPaths(this.page.id,function(){enyo.isFunction(t)&&t()},function(){i.dirty=!0,enyo.isFunction(e)&&e()})},raiseAction:function(t){this.doCanvasAction({action:t}),this.thumbnailUpdateTimer&&clearTimeout(this.thumbnailUpdateTimer),this.scheduleThumbnailUpdate()},scheduleThumbnailUpdate:function(){if(!this.page.previewid){var t=this;this.thumbnailUpdateTimer=setTimeout(function(){t.updateThumbnail()},300)}},updateThumbnail:function(){this.thumbnailUpdateTimer=null;var t=document.createElement("canvas");t.width=this.THUMBNAIL_WIDTH,t.height=this.THUMBNAIL_HEIGHT;var e=t.getContext("2d");e.drawImage(this.hasNode(),0,0,this.THUMBNAIL_WIDTH,this.THUMBNAIL_HEIGHT);var i=t.toDataURL("image/png"),n=this,r=blanc.Session.getPersistenceManager(),o=function(t,e){r.storeBlob(t.thumbid,t.assetid,e,function(){n.doThumbnailUpdated({id:t.id,docid:t.assetid,pageno:t.pageNo,data:e})},function(){console.log("Failed to store blob")})};this.page.thumbid?o(this.page,i):(this.page.thumbid=mc.util.randomUUID(),r.updatePage(this.page,function(t){o(t,i)},function(){console.log("Failed to update page")}))}});

// source/views/Checkbox.js


// source/views/ConfirmDialog.js


// source/views/Content.js
enyo.kind({name:"blanc.Content",classes:"content",handlers:{onDisplayPage:"displayPage",onFileOpen:"showFile",onClearContent:"clearView"},components:[{kind:"Panels",classes:"content-pane",name:"panels",draggable:!1,components:[{}]}],showFile:function(t,e,i){var n=this.getPanels();if(n&&n.length>0){var r=n[0];if("fileView"===r.getName()&&r.docid===t&&!i)return r.showPage(e);r instanceof blanc.FileView&&r.saveCurrentPageNo(),r.destroy()}this.addPanel({name:"fileView",kind:"blanc.FileView",docid:t,pageno:e})},getPanels:function(){return this.$.panels.getPanels()},addPanel:function(t){var e=this.$.panels.createComponent(t,{owner:this});return e.render(),this.reflow(),e},clearView:function(){var t=this.getPanels();if(t&&t.length>0){var e=t[0];e.destroy()}},showView:function(t,e,i){var n=null,r=this.getPanels();if(r&&r.length>0){if(n=r[0],n.getName()==t)return n;n.distroy(),n=null}return n||(i||(i={}),i.name=t,i.kind=e,n=this.addPanel(i)),n}});

// source/views/FileDownload.js


// source/views/FileGallery.js
enyo.kind({name:"blanc.FileGallery",kind:"FittableRows",fit:!0,events:{onPageChanged:"",onPageCreated:""},handlers:{onNextClicked:"next",onPrevClicked:"prev",onUndoClicked:"undo",onClearClicked:"clear",onBoardAction:"boardAction",onPerformAction:"performAction"},doc:null,components:[{fit:!0,classes:"gallery-container",components:[{name:"carousel",kind:"blanc.PageCarousel",classes:"gallery-carousel"}]},{kind:"Signals",onkeydown:"keyDown"}],init:function(t){var e=this,i=blanc.Session.getPersistenceManager();i.getPagesForDocument(this.doc.id,function(i){var n=t?t:1;e.$.carousel.set("docId",e.doc.id),e.$.carousel.set("pages",i),e.$.carousel.setIndex(n-1),e.$.carousel.render()},function(){logError("Failed to get the document with id :"+doc.id)})},showPage:function(t){this.$.carousel.jumpTo(t-1)},prev:function(){this.$.carousel.previous()},next:function(){this.$.carousel.next()},clear:function(){var t=this.$.carousel.getPageView();t&&t.clear()},undo:function(){var t=this.$.carousel.getPageView();t&&t.undo()},performAction:function(t,e){var i=this.$.carousel.getPageView();i&&(i.performAction(e.action),this.boardAction(t,e))},boardAction:function(){},getCurrentPageNo:function(){return this.$.carousel.getIndex()+1}});

// source/views/FileList.js


// source/views/FileMenu.js


// source/views/FileView.js
enyo.kind({name:"blanc.FileView",kind:"FittableRows",pageno:0,docid:null,doc:null,handlers:{onUpdatePage:"updatePage"},components:[{layoutKind:"FittableColumnsLayout",classes:"file-header",components:[{classes:"file-title",name:"title",content:"",style:"float:left;"},{style:"float:right;",name:"pageOfPages",content:""}]},{fit:!0,kind:"Panels",classes:"file-content",name:"content",draggable:!1,components:[{},{},{name:"filegallery",kind:"blanc.FileGallery"}]}],create:function(){this.inherited(arguments);var t=blanc.Session.getPersistenceManager(),e=this;t.getDocumentById(this.docid,function(t){e.doc=t,e.$.title.setContent(t.title),e.$.filegallery.set("doc",e.doc),e.displayFile()},function(t){logError(t)})},displayFile:function(){this.pageno||(this.pageno=1),this.$.filegallery.init(this.pageno),this.$.content.setIndex(2)},showPage:function(t){this.$.filegallery.showPage(t)}});

// source/views/FormFields.js
enyo.kind({name:"blanc.FormFields",kind:"enyo.Control",validate:function(){for(var t=!0,e=this.getControls(),n=0;e.length>n;n++){var i=e[n];i instanceof blanc.InputGroup&&(i.validate()||(t=!1))}return t},reset:function(){for(var t=this.getControls(),e=0;t.length>e;e++){var n=t[e];n instanceof blanc.InputGroup&&(n.reset(),n.setValue(""))}}});

// source/views/Grid.js
enyo.kind({name:"blanc.GridLayout",kind:"Layout",layoutClass:"mm-grid",getClientControls:function(){for(var t,e=this.container.getControls(),i=[],n=0;t=e[n];n++)t.tag?i.push(t):i.push.apply(i,t.getClientControls());return i},positionControls:function(){var t=this.getClientControls();if(0!==t.length){for(var e=2*this.margin,i=this.getDimensions(),n=Math.floor(i.width/(e+this.width)),o=0;t.length>o;o++)this.positionControl(t[o],o,n);var r=(Math.ceil(t.length/n)+1)*(e+this.height);this.container.applyStyle("height",r+"px")}},positionControl:function(t,e,i){var n=2*this.margin,o=this.collapsed?0:Math.floor(e/i)*(n+this.height),r=this.collapsed?this.alignmentMargin:e%i*(n+this.width)+this.alignmentMargin;t.applyStyle("top",o+"px"),t.applyStyle("left",r+"px"),t.applyStyle("opacity",this.collapsed&&0!==e?0:1)},reflow:function(){this.dim=null,this.margin=this.container.cellMargin||0,this.collapsed=this.container.gridCollapsed||!1,this.height=this.container.cellHeight||100,this.width=this.container.cellWidth||100,this.deferTime=this.container.deferTime||0,this.align=this.container.gridAlign||"left",this.deferTime?enyo.job("mm.GridLayout.defer"+this.container.id,enyo.bind(this,"positionControls"),this.deferTime):this.positionControls()},getDimensions:function(){if(!this.dim){var t=enyo.dom.getComputedStyle(this.container.hasNode());this.dim={width:parseInt(t.width),height:parseInt(t.height)},this.calcAlignmentMargin(this.dim)}return this.dim},calcAlignmentMargin:function(t){t=t||this.getDimensions();var e=Math.floor(t.width/(2*this.margin+this.width)),i=t.width-e*(2*this.margin+this.width);this.alignmentMargin="right"===this.align?i:"center"===this.align?Math.round(i/2):0}}),enyo.kind({name:"blanc.Grid",kind:"Control",layoutKind:"blanc.GridLayout"});

// source/views/InputGroup.js
enyo.kind({name:"blanc.InputGroup",published:{label:"",placeholder:"",type:"",error:"",help:"",required:!0},components:[{name:"group",classes:"form-group",components:[{name:"label",tag:"label",content:""},{name:"field",kind:"enyo.Input",classes:"form-control enyo-selectable",onfocus:"reset"},{name:"help",tag:"p",showing:!1,classes:"help-block",content:""}]}],create:function(){this.inherited(arguments),this.$.label.setContent(this.getLabel()),this.getType()&&this.$.field.setType(this.mapFieldType(this.getType())),this.getPlaceholder()&&this.$.field.setPlaceholder(this.getPlaceholder()),this.getHelp()&&(this.$.help.setShowing(!0),this.$.help.setContent(this.getHelp()))},validate:function(){return this.getRequired()&&!this.getValue()?(this.showError("Required"),!1):this.getValue()?"email"!=this.getType()||this.isValidEmail()?"email_username"!=this.getType()||this.isValidEmail()||this.isValidUsername()?"username"!=this.getType()||this.isValidUsername()?"roomid"!=this.getType()||this.isValidUsername()?"displayName"!=this.getType()||this.isValidDisplayName()?"phone"!=this.getType()||this.isValidPhone()?!0:(this.showError($L("Enter a valid phone number")),!1):(this.showError("Enter both first and last names"),!1):(this.showError("Enter a valid meeting room ID"),!1):(this.showError("Enter a valid username"),!1):(this.showError("Enter a valid email address or username"),!1):(this.showError("Enter a valid email address"),!1):!0},getValue:function(){return enyo.trim(this.$.field.getValue())},setValue:function(t){this.$.field.setValue(t)},isValidEmail:function(){return blanc.util.isValidEmail(this.getValue())},isValidUsername:function(){return blanc.util.isValidUsername(this.getValue())},isValidDisplayName:function(){var t=this.getValue(),e=blanc.util.splitName(t);return e.length>=2},isValidPhone:function(){return blanc.util.isValidPhone(this.getValue())},reset:function(){this.$.group.addRemoveClass("has-success",!1),this.$.group.addRemoveClass("has-error",!1),this.$.group.addRemoveClass("has-warning",!1),this.getHelp()?(this.$.help.setShowing(!0),this.$.help.setContent(this.getHelp())):this.$.help.setShowing(!1)},showError:function(t){this.$.group.addRemoveClass("has-error",!0),this.$.help.setContent(t),this.$.help.setShowing(!0)},mapFieldType:function(t){var e=t;switch(t){case"email_username":e="email";break;case"username":case"displayName":e="text"}return e}});

// source/views/JoinFields.js


// source/views/JoinMeeting.js


// source/views/LinkButton.js


// source/views/MainView.js
enyo.kind({name:"blanc.MainView",handlers:{onErrorAlert:"showError"},published:{orientation:null,menuModel:null,meetingModel:null},components:[{kind:"FittableRows",style:"width:100%;height:100%",components:[{classes:"status-bar"},{fit:!0,name:"container",classes:"container-view"}]},{name:"errorAlert",kind:"blanc.Alert"}],create:function(){this.inherited(arguments),this.setMenuModel(new blanc.MenuModel)},rendered:function(){this.inherited(arguments),this.processSignin()},processSignin:function(){this.menuModel.processSignin(),this.showApp()},showApp:function(){this.determineOrientation(),this.$.container.destroyComponents();var t=this.$.container.createComponent({name:"app",kind:"blanc.AppLarge",menuModel:this.getMenuModel(),orientation:this.getOrientation()},{owner:this.$.container});t.render()},showError:function(t,e){var i=e.message;this.$.errorAlert.showMessage($L("Error"),i,e.allowHtml)},determineOrientation:function(){var t=enyo.dom.getWindowWidth(),e=enyo.dom.getWindowHeight();1>t/e?this.setOrientation("portrait"):this.setOrientation("landscape")},handleOrientation:function(){var t=this.getOrientation();this.determineOrientation(),t!==this.getOrientation()&&this.windowRotated()},windowRotated:function(){this.waterfallDown("onWindowRotated",{orientation:this.getOrientation()})},adjustBodyHeight:function(){if(enyo.platform.ios){var t=this.hasNode(),e=t.clientHeight();wh=enyo.dom.getWindowHeight(),e!=wh&&(document.body.style.height=wh+"px",window.scrollTo(0,0))}},resizeHandler:function(){this.$.container.$.app&&(this.handleOrientation(),this.adjustBodyHeight())}});

// source/views/MeetingModel.js


// source/views/MeetingPageView.js


// source/views/MeetingView.js


// source/views/Meetings.js


// source/views/MenuButton.js
enyo.kind({name:"blanc.MenuButton",tag:"li",components:[{kind:"blanc.TooltipDecorator",classes:"menu-button-decorator",components:[{classes:"menu-button"},{name:"tooltip",kind:"blanc.Tooltip",content:""}]}],create:function(){this.inherited(arguments),this.$.tooltip.setContent(this.tooltip)}});

// source/views/Menu.js
enyo.kind({name:"blanc.Menu",kind:"enyo.Control",handlers:{onWindowRotated:"windowRotated",onMeetingStarted:"refresh",onMeetingEnded:"refresh",onCanShare:"refresh"},events:{onMenuClicked:""},published:{menuModel:null,orientation:null},components:[{}],init:function(t,e){this.setMenuModel=t,this.setOrientation=e},windowRotated:function(t,e){this.destroyComponents(),this.init(t,e)},refresh:function(){this.init(this.getMenuModel(),this.getOrientation())}});

// source/views/MenuModel.js
enyo.kind({name:"ButtonState",kind:"enyo.Object",statics:{ACTIVE:"ACTIVE",ENABLED:"ENABLED",DISABLED:"DISABLED"}}),enyo.kind({name:"blanc.MenuModel",kind:"enyo.Object",buttons:{spacer:{name:"spacer",kind:"blanc.MenuButton",classes:"",state:ButtonState.DISABLED},meetings:{name:"meetings",kind:"blanc.MenuButton",classes:"meetings-button",tooltip:"Host or join an online meeting",state:ButtonState.DISABLED},files:{name:"files",kind:"blanc.MenuButton",classes:"files-button",tooltip:"View list of files and whiteboard",state:ButtonState.DISABLED},widgets:{name:"widgets",kind:"blanc.MenuButton",classes:"widgets-button",tooltip:$L("View the list of applications"),state:ButtonState.DISABLED},settings:{name:"settings",kind:"blanc.MenuButton",classes:"settings-button",tooltip:$L("Edit your user profile and account settings"),state:ButtonState.DISABLED},fileMenu:{name:"fileMenu",kind:"blanc.MenuButton",classes:"filemenu-button",tooltip:$L("Display a file menu"),state:ButtonState.DISABLED},pages:{name:"pages",kind:"blanc.MenuButton",classes:"pages-button",tooltip:$L("Display a list of pages"),state:ButtonState.DISABLED},leftArrow:{name:"leftArrow",kind:"blanc.MenuButton",classes:"left-button",tooltip:$L("Previous page"),state:ButtonState.DISABLED},rightArrow:{name:"rightArrow",kind:"blanc.MenuButton",classes:"right-button",tooltip:$L("Next page"),state:ButtonState.DISABLED},invite:{name:"invite",kind:"blanc.MenuButton",classes:"invite-button",tooltip:$L("Invite others to join your online meeting room"),state:ButtonState.DISABLED},addDocument:{name:"addDocument",kind:"blanc.MenuButton",classes:"add-button",tooltip:$L("Upload a file or create a sketchbook"),state:ButtonState.DISABLED},palette:{name:"palette",kind:"blanc.MenuButton",classes:"palette-button",tooltip:$L("Set the pen color and line width"),state:ButtonState.DISABLED},pen:{name:"pen",kind:"blanc.MenuButton",classes:"pen-button",tooltip:$L("Enable or disable drawing"),state:ButtonState.DISABLED},eraser:{name:"eraser",kind:"blanc.MenuButton",classes:"eraser-button",tooltip:$L("Enable or disable the eraser"),state:ButtonState.DISABLED},undo:{name:"undo",kind:"blanc.MenuButton",classes:"undo-button",tooltip:$L("Undo the last drawing"),state:ButtonState.DISABLED},clear:{name:"clear",kind:"blanc.MenuButton",classes:"clear-button",tooltip:$L("Clear all drawings"),state:ButtonState.DISABLED},leave:{name:"leave",kind:"blanc.MenuButton",classes:"leave-button",tooltip:$L("Leave the meeting"),state:ButtonState.ENABLED},people:{name:"people",kind:"blanc.MenuButton",classes:"people-button",tooltip:$L("View the list of meeting attendees"),state:ButtonState.ENABLED},videoconf:{name:"videoconf",kind:"blanc.MenuButton",classes:"videoconf-button",state:ButtonState.DISABLED},fullscreen:{name:"fullscreen",kind:"blanc.MenuButton",classes:"fullscreen-button",tooltip:$L("Switch to fullscreen mode"),state:ButtonState.DISABLED},audio:{name:"audio",kind:"blanc.MenuButton",classes:"audio-button",tooltip:$L("Voice conferencing"),state:ButtonState.DISABLED}},disableAll:function(){for(var t in this.buttons){var e=this.buttons[t];e&&(e.state=ButtonState.DISABLED)}},enableDrawing:function(){this.buttons.palette.state===ButtonState.DISABLED&&(this.buttons.palette.state=ButtonState.ENABLED,this.buttons.pen.state=ButtonState.ENABLED,this.buttons.eraser.state=ButtonState.ENABLED)},disableDrawing:function(){this.buttons.palette.state=ButtonState.DISABLED,this.buttons.pen.state=ButtonState.DISABLED,this.buttons.eraser.state=ButtonState.DISABLED,this.buttons.undo.state=ButtonState.DISABLED,this.buttons.clear.state=ButtonState.DISABLED,blanc.Session.getToolbox().set("mode",blanc.DrawMode.NONE)},enableNavigation:function(){this.buttons.pages.state=ButtonState.ENABLED,this.buttons.leftArrow.state=ButtonState.ENABLED,this.buttons.rightArrow.state=ButtonState.ENABLED},disableNavigation:function(){this.buttons.pages.state=ButtonState.DISABLED,this.buttons.leftArrow.state=ButtonState.DISABLED,this.buttons.rightArrow.state=ButtonState.DISABLED},enableContentOperations:function(){this.buttons.files.state=ButtonState.ENABLED,this.buttons.addDocument.state=ButtonState.ENABLED,this.buttons.widgets.state=ButtonState.ENABLED,this.buttons.fileMenu.state=ButtonState.ENABLED},disableContentOperations:function(){this.buttons.files.state=ButtonState.DISABLED,this.buttons.addDocument.state=ButtonState.DISABLED,this.buttons.widgets.state=ButtonState.DISABLED,this.buttons.fileMenu.state=ButtonState.DISABLED},togglePen:function(){this.buttons.pen.state===ButtonState.ACTIVE?(this.buttons.pen.state=ButtonState.ENABLED,blanc.Session.getToolbox().set("mode",blanc.DrawMode.NONE)):(this.buttons.pen.state=ButtonState.ACTIVE,blanc.Session.getToolbox().set("mode",blanc.DrawMode.PEN),this.buttons.eraser.state=ButtonState.ENABLED)},activatePen:function(){this.buttons.pen.state=ButtonState.ACTIVE,this.buttons.eraser.state=ButtonState.ENABLED,blanc.Session.getToolbox().set("mode",blanc.DrawMode.PEN)},toggleEraser:function(){this.buttons.eraser.state===ButtonState.ACTIVE?(this.buttons.eraser.state=ButtonState.ENABLED,blanc.Session.getToolbox().set("mode",blanc.DrawMode.NONE)):(this.buttons.eraser.state=ButtonState.ACTIVE,blanc.Session.getToolbox().set("mode",blanc.DrawMode.ERASER),this.buttons.pen.state=ButtonState.ENABLED)},processSignin:function(){this.enableContentOperations(),this.buttons.meetings.state=ButtonState.ENABLED,this.buttons.settings.state=ButtonState.ENABLED,this.buttons.invite.state=ButtonState.ENABLED},undoStateChanged:function(){},pageChanged:function(t,e){this.enableDrawing(),this.enableNavigation(),this.enableContentOperations(),this.buttons.leftArrow.state=e.pageno>1?ButtonState.ENABLED:ButtonState.DISABLED,this.buttons.rightArrow.state=e.pageno<e.npages?ButtonState.ENABLED:ButtonState.DISABLED}});

// source/views/NameValue.js


// source/views/PageCarousel.js
enyo.kind({name:"blanc.PageCarousel",kind:"enyo.Panels",arrangerKind:"enyo.CarouselArranger",defaultScale:"auto",disableZoom:!1,visible:null,docId:"",pages:[],pageCount:0,events:{onPageChanged:""},handlers:{onTransitionStart:"transitionStart",onTransitionFinish:"transitionFinish"},create:function(){this.inherited(arguments),this.pageCount=this.pages.length,this.pages.length>0&&this.initContainers()},rendered:function(){this.inherited(arguments),this.visible=null,this.signalApperance()},initContainers:function(){for(var t=0;this.pages.length>t;t++)this.$["container"+t]||this.createComponent({name:"container"+t,kind:"blanc.Page",pageno:t+1,docid:this.docid}),this.$["container"+t].render();for(t=this.pages.length;this.pageCount>t;t++)this.$["container"+t].destroy();this.pageCount=this.pages.length},signalApperance:function(){this.visible&&this.visible.didDisappear(),this.$["container"+this.index]&&this.$["container"+this.index].didAppear(),this.visible=this.$["container"+this.index]},transitionStart:function(t,e){return e.fromIndex===e.toIndex?!0:void 0},transitionFinish:function(){this.loadPageView(this.index-1),this.loadPageView(this.index+1),this.signalApperance()},addPage:function(){},jumpTo:function(t){if(this.getIndex()!=t){var e=this.getAnimate();this.setAnimate(!1),this.setIndex(t),this.setAnimate(e),this.signaleApperance()}},loadNearby:function(){this.pages.length>0&&(this.loadPageView(this.index-1),this.loadPageView(this.index),this.loadPageView(this.index+1))},loadPageView:function(t){t>=0&&this.pages.length-1>=t&&this.$["container"+t]&&this.$["container"+t].loadView(this.pages[t])},next:function(){!this.$.animator.isAnimating()&&this.inherited(arguments)},previous:function(){!this.$.animator.isAnimating()&&this.inherited(arguments)},resizeAllPages:function(){this.pages.length>0&&(resizePageView(this.index-1),resizePageView(this.index),resizePageView(this.index+1))},resizePageView:function(t){this.$["container"+t].resizeView()},indexChanged:function(){this.inherited(arguments),this.loadNearby();var t=this.getIndex();this.pages&&t>=0&&this.pages.length>t&&this.doPageChanged({pageid:this.pages[t].id,pageno:t+1,npages:this.pages.length})},pagesChanged:function(){this.initContainers()},getPageView:function(){return this.$["container"+this.index]}});

// source/views/Page.js
enyo.kind({name:"blanc.Page",kind:"enyo.Control",classes:"page-view",components:[{}],visible:!1,pageno:null,docid:null,page:null,events:{onPageRendered:""},loadView:function(t){if(!this.$.image){var e=this.createComponent({name:"image",kind:"enyo.Image",style:"position:absolute;",src:"../../assets/placeholder.png"},{owner:this});e.render()}if(!this.$.board){var e=this.createComponent({name:"board",kind:"blanc.Board",page:t,persistent:!0,style:"position:absolute;"},{owner:this});e.render()}if(this.page=t,this.resizeView(),t.previewid){var n=this;blanc.Session.getPersistenceManager().getBlobURL(t.previewid,function(t){n.$.image.setSrc(t)},function(t){logError("Failed to load image due to "+t)})}this.$.board&&this.$.board.addClass("sketchbook-page-image"),this.raisePageRendered()},raisePageRendered:function(){this.page&&this.doPageRendered({pageid:this.page.id})},resizeView:function(){if(this.resize(),null!=this.$.board&&null!=this.$.image){var t=this.hasNode();if(t){var e=(t.clientHeight,t.clientWidth,blanc.util.scaleRect(t.clientWidth,t.clientHeight,this.page.width,this.page.height));this.$.board.set("scale",e.scale),this.$.board.setAttribute("width",e.width),this.$.board.setAttribute("height",e.height),this.$.board.resize(e.width,e.height),this.$.board.setBounds(e),this.$.image.setBounds(e)}}},undo:function(){this.$.board&&this.$.board.undo()},clear:function(){this.$.board&&this.$.board.clear()},didAppear:function(){this.$.board&&this.$.board.didAppear()},didDisappear:function(){this.$.board&&this.$.board.didDisappear()}});

// source/views/Palette.js
enyo.kind({name:"blanc.Palette",kind:"enyo.Popup",classes:"palette",floating:!0,centered:!0,modal:!0,scrim:!0,colorSelected:"",widthSelected:"",components:[{kind:"blanc.Grid",name:"cells",style:"width:300px;height:225px;",cellWidth:75,cellHeight:75,classes:"palette-cells",gridAlign:"center"}],create:function(){this.inherited(arguments);for(var t=0;blanc.Toolbox.widths.length>t;t++){var e=blanc.Toolbox.widths[t];blanc.Session.getToolbox().get("width"),this.$.cells.createComponent({kind:"blanc.WidthCell",width:e,ontap:"widthTap"},{owner:this})}for(t=0;blanc.Toolbox.colors.length>t;t++){var n=blanc.Toolbox.colors[t];this.$.cells.createComponent({kind:"blanc.ColorCell",color:n,ontap:"colorTap"},{owner:this})}this.$.cells.render()},show:function(){this.colorSelected="",this.widthSelected="";for(var t=this.$.cells.getClientControls(),e=blanc.Session.getToolbox(),n=0;t.length>n;n++){var i=t[n];"blanc.WidthCell"==i.kind&&i.addRemoveClass("palette-cell-selected",i.width==e.get("width")),"blanc.ColorCell"==i.kind&&i.addRemoveClass("palette-cell-selected",i.color==e.get("color"))}this.inherited(arguments)},widthTap:function(t){for(var e=blanc.Session.getToolbox(),n=this.$.cells.getClientControls(),i=0;n.length>i;i++){var o=n[i];if(o.width==e.get("width")){o.addRemoveClass("palette-cell-selected",!1);break}}t.addRemoveClass("palette-cell-selected",!0),e.set("width",t.width),this.widthSelected=t.width,this.colorSelected&&this.hide()},colorTap:function(t){for(var e=blanc.Session.getToolbox(),n=this.$.cells.getClientControls(),i=0;n.length>i;i++){var o=n[i];if(o.color==e.get("color")){o.addRemoveClass("palette-cell-selected",!1);break}}t.addRemoveClass("palette-cell-selected",!0),e.set("color",t.color),this.colorSelected=t.color,this.widthSelected&&this.hide()}}),enyo.kind({name:"blanc.PaletteCell",kind:"enyo.Control",tag:"canvas",classes:"palette-cell",ratio:1,attributes:{},create:function(){this.inherited(arguments),this.set("ratio",window.devicePixelRatio||1),this.attributes.width=80*this.get("ratio"),this.attributes.height=80*this.get("ratio")},getContext:function(){if(!this.context){var t=this.hasNode();t.getContext&&(this.context=t.getContext("2d"))}return this.context}}),enyo.kind({name:"blanc.ColorCell",kind:"blanc.PaletteCell",color:null,rendered:function(){this.inherited(arguments);var t=this.getContext();t.arc(40*this.get("ratio"),40*this.get("ratio"),30*this.get("ratio"),0,2*Math.PI),t.fillStyle="#"+this.color,t.fill()}}),enyo.kind({name:"blanc.WidthCell",kind:"blanc.PaletteCell",width:null,rendered:function(){this.inherited(arguments);var t=this.getContext();t.strokeStyle="black",t.lineWidth=this.width*this.get("ratio"),t.beginPath(),t.moveTo(10*this.get("ratio"),40*this.get("ratio")),t.lineTo(70*this.get("ratio"),40*this.get("ratio")),t.stroke(),t.closePath()}});

// source/views/Panel.js
enyo.kind({name:"blanc.Panel",kind:"Slideable",eventsToCapture:{ondown:"down"},destroy:function(){this.inherited(arguments),this.release()},release:function(){enyo.dispatcher.release(this)},open:function(){this.capture()},capture:function(){enyo.dispatcher.capture(this,this.eventsToCapture)},close:function(){this.release()},down:function(t,e){return e.dispatchTarget.isDescendantOf(this)||(e.preventDefault(),this.close()),!0}});

// source/views/PickPasswordGroup.js


// source/views/Pills.js


// source/views/PleaseUpgrade.js


// source/views/ProgressBar.js


// source/views/RecoverPassword.js


// source/views/ResetPassowrd.js


// source/views/SearchInput.js


// source/views/Settings.js
enyo.kind({name:"blanc.Settings",kind:"FittableRows",events:{onSupportRequested:"",onSignoutClicked:"",onSettingSaved:"",onErrorAlert:"",onManageAccountClicked:""},components:[{name:"titlebar",kind:"blanc.Toolbar",components:[{fit:!0,classes:"toolbar-title",tag:"span",content:$L("Settings")},{components:[{name:"saveButton",kind:"blanc.Button",classes:"btn btn-primary",content:$L("Save"),ontap:"saveClicked"}]}]},{kind:"enyo.Scroller",touch:!0,fit:!0,components:[{name:"fields",classes:"fields",kind:"blanc.FormFields",components:[{name:"username",kind:"blanc.InputGroup",type:"roomid",placeholder:$L("Enter username"),label:$L("Room ID"),onkeydown:"onEnter"},{name:"email",kind:"blanc.InputGroup",type:"email",placeholder:$L("Enter email"),label:$L("Email address"),onkeydown:"onEnter"},{name:"name",kind:"blanc.InputGroup",type:"displayName",placeholder:$L("Firstname Lastname"),label:$L("Name"),onkeydown:"onEnter"},{classes:"manage-account-container",components:[{tag:"a",showing:!1,name:"manageAccountButton",classes:"manage-account-button",content:$L("Manage Account"),ontap:"doManageAccountClicked"}]}]}]},{name:"toolbar",kind:"blanc.Toolbar",classes:"panel-footer-toolbar",components:[{fit:!0},{layoutKind:"FittableColumnsLayout",noStretch:!0,components:[{kind:"enyo.Button",content:$L("Contact Support"),classes:"btn btn-info",ontap:"doSupportRequest"},{kind:"enyo.Button",classes:"btn btn-danger",content:$L("Sign Out"),ontap:"doSignoutClicked"}]}]}],init:function(){this.$.username.reset(),this.$.email.reset(),this.$.name.reset(),this.$.saveButton.reset();var t=this;blanc.Session.getUserInfo(function(e){t.userId=e.id,t.$.username.setValue(e.username),t.$.email.setValue(e.email),t.$.name.setValue(e.firstName+" "+e.lastName),t.$.manageAccountButton.setShowing(e.admin)},function(t){logError(t)})},saveClicked:function(){if(this.$.fields.validate()){var t=blanc.util.splitName(this.$.name.getValue()),e={firstName:t[0],lastName:t[1],email:this.$.email.getValue(),username:this.$.username.getValue()},n=this;blanc.Session.getUserDirectory().updateUser(this.userid,e,function(){},function(t){n.$.saveButton.reset(),n.doErrorAlert(t)})}else this.$.saveButton.reset();return!0},onEnter:function(t,e){return 13===e.keyCode?(this.saveClicked(),!0):!1}});

// source/views/SigninForms.js


// source/views/SigninPanel.js


// source/views/Signup.js


// source/views/SignupFields.js


// source/views/Tabs.js
enyo.kind({name:"blanc.Tabs",tag:"ul",classes:"nav nav-tabs",handlers:{onTabClicked:"tabClicked"},tabClicked:function(){}}),enyo.kind({name:"blanc.Tab",tag:"li",published:{label:"",active:!1},events:{onTabClicked:""},handlers:{ontap:"doTabClicked"},components:[{name:"label",tag:"a",content:""}],rendered:function(){this.inherited(arguments),this.$.label.setContent(this.label),this.addRemoveClass("active",this.active)},activeChanged:function(){this.addRemoveClass("active",this.active)}});

// source/views/Toolbar.js
enyo.kind({name:"blanc.Toolbar",kind:"FittableColumns",classes:"panel-toolbar panel-toolbar-inline",noStretch:!0,components:[{}]});

// source/views/Tooltip.js
enyo.kind({name:"blanc.Tooltip",kind:"onyx.Popup",classes:"mm-tooltip below left-arrow",autoDismiss:!1,showDelay:500,defaultLeft:-6,handlers:{onRequestShowTooltip:"requestShow",onRequestHideTooltip:"requestHide"},requestShow:function(){return this.showJob=setTimeout(this.bindSafely("show"),this.showDelay),!0},cancelShow:function(){clearTimeout(this.showJob)},requestHide:function(){return this.cancelShow(),this.inherited(arguments)},showingChanged:function(){this.cancelShow(),this.adjustPosition(!0),this.inherited(arguments)},applyPosition:function(t){var e="";for(var n in t)e+=n+":"+t[n]+(isNaN(t[n])?"; ":"px; ");this.addStyles(e)},adjustPosition:function(){if(this.showing&&this.hasNode()){var t=this.node.getBoundingClientRect();t.top+t.height>window.innerHeight?(this.addRemoveClass("below",!1),this.addRemoveClass("above",!0)):(this.addRemoveClass("above",!1),this.addRemoveClass("below",!0)),t.left+t.width>window.innerWidth&&(this.applyPosition({"margin-left":-t.width,bottom:"auto"}),this.addRemoveClass("left-arrow",!1),this.addRemoveClass("right-arrow",!0))}},resizeHandler:function(){this.applyPosition({"margin-left":this.defaultLeft,bottom:"auto"}),this.addRemoveClass("left-arrow",!0),this.addRemoveClass("right-arrow",!1),this.adjustPosition(!0),this.inherited(arguments)}});

// source/views/TooltipDecorator.js
enyo.kind({name:"blanc.TooltipDecorator",classes:"mm-popup-decorator",style:"outline: 0;",handlers:{onenter:"enter",onleave:"leave"},enter:function(){this.requestShowTooltip()},leave:function(){this.requestHideTooltip()},requestShowTooltip:function(){this.waterfallDown("onRequestShowTooltip")},requestHideTooltip:function(){this.waterfallDown("onRequestHideTooltip")}});

// source/views/ViewStack.js


// source/views/WidgetList.js


// source/views/WidgetView.js


// source/views/util.js
enyo.kind({name:"blanc.util",kind:"enyo.Object",statics:{splitName:function(t){var e=t.indexOf(" ");return e>=0&&t.length>e+1?[t.substring(0,e),t.substring(e+1)]:[t]},isValidEmail:function(t){var e=RegExp("^[0-9a-zA-Z]{1}[0-9a-zA-Z.+-_]*@(([a-zA-Z0-9\\-])+\\.)+[a-zA-Z0-9]{2,4}$");return e.exec(t)?!0:!1},isValidUsername:function(t){var e=RegExp("^[0-9a-zA-Z]{1}[0-9a-zA-Z.+-_]*"),n=e.exec(t);return n&&n[0]==t},getFileName:function(t){var e,n=t.split("\\").pop().split("/").pop(),i=n.lastIndexOf(".");return e=i>0&&n.length-1>i?n.substring(0,i):n},getFileExt:function(t){var e,n=t.lastIndexOf(".");return e=n>0&&t.length-1>n?t.substring(n+1):""},scaleRect:function(t,e,n,i){var o=t/e>n/i?e/i:t/n,r=n*o,s=i*o,a=(e-s)/2,l=(t-r)/2;return{top:a,left:l,width:r,height:s,scale:o}},formatPhone:function(t){var e=t.replace(/[^0-9]/g,"");return 10==e.length?e=e.replace(/(\d{3})(\d{3})(\d{4})/,"($1) $2-$3"):11==e.length&&(e=e.replace(/(\d{1})(\d{3})(\d{3})(\d{4})/,"+$1 ($2) $3-$4")),e},isValidPhone:function(t){var e=t.replace(/[^0-9]/g,"").length;return 10==e||11==e&&"1"==t.charAt(0)}}});

// source/views/Board.js
enyo.kind({name:"blanc.Board",kind:"enyo.Control",visibile:!1,draggable:!1,attributes:{width:1024,height:768},handlers:{ondown:"touchdown"},paper:null,page:null,scale:1,rendered:function(){this.inherited(arguments),this.hasNode()&&this.generateRaphael()},generateRaphael:function(){this.paper=Raphael(this.hasNode().id,this.getAttribute("width"),this.getAttribute("height")),this.paper.undocache=[],this.paper.redocache=[]},touchdown:function(){return console.log("touch down"),blanc.Session.isDrawing()?void 0:!1},dragStart:function(){},dragFinish:function(){},dragging:function(){},performAction:function(){console.log("performAction")},setOffset:function(){var t={},e=this.hasNode().getBoundingClientRect();t.left=e.left,t.top=e.top,blanc.Session.getDrawEngine().setOffset(t)},resize:function(){this.paper.size},undo:function(){blanc.Session.getDrawEngine().undoAction()},redo:function(){blanc.Session.getDrawEngine().redoAction()},clear:function(){this.paper.clear()},didAppear:function(){blanc.Session.getDrawEngine().setPaper(this.paper),blanc.Session.isDrawing()&&blanc.Session.getDrawEngine().createTracker(),this.setOffset()},didDisappear:function(){blanc.Session.getDrawEngine().removeTracker(this.paper)}}),enyo.kind({name:"blanc.DrawMode",statics:{NONE:"others",EMPTY:"EMPTY",PEN:"freeLineMode",LINE:"straightLineMode",ERASER:"eraserMode",REMOVE:"removeMode",FILL:"fillMode",ELLIPSE:"ellipseMode",CIRCLE:"circleMode",RECTANGLE:"rectangleMode",TEXT:"textMode",ICON:"iconMode",SELECT:"selectMode",MOVE:"moveMode",MORE:"moreMode",CLONE:"cloneMode",FRONT:"bringFrontMode",BACK:"bringBackMode",ERASER_WIDTH:24}}),enyo.kind({name:"blanc.Toolbox",kind:"enyo.Object",statics:{widths:[2,4,10,20],colors:["040404","3C5980","599ECF","ADC74D","C61A69","AD94E4","FCBA6B","FFDB7A"]},mode:null,color:null,width:null,constructor:function(){this.inherited(arguments),this.set("width",blanc.Toolbox.widths[1]),this.set("color",blanc.Toolbox.colors[1]),this.set("mode",blanc.DrawMode.NONE)},isToolboxActive:function(){return this.get("mode")!=blanc.DrawMode.NONE},modeChanged:function(){var t=null;switch(this.mode){case blanc.DrawMode.LINE:t="corsshair";break;case blanc.DrawMode.TEXT:t="text";break;default:t="default"}blanc.Session.getDrawEngine().switchToMode(this.mode,t),logInfo("Set draw mode as :"+this.mode)},colorChanged:function(){blanc.Session.getDrawEngine().changeProperties("stroke","#"+this.color)},widthChanged:function(){blanc.Session.getDrawEngine().changeProperties("stroke-width",this.width)}});

// source/views/account/AccountForm.js


// source/views/account/AccountManagement.js


// source/views/account/AccountManagerDialog.js


// source/views/account/AccountState.js


// source/views/account/AccountUserForm.js


// source/views/account/CCForm.js


// source/views/account/DeviceManagement.js


// source/views/account/InvitationForm.js


// source/views/account/InvoicePrefsForm.js


// source/views/account/Invoices.js


// source/views/account/PaymentPlansTable.js


// source/views/account/UserManagement.js


// source/views/small/AppSmall.js


// source/views/small/AudioPanelSmall.js


// source/views/small/DocumentMenu.js


// source/views/small/MainMenu.js


// source/views/small/MenuSmall.js


// source/views/small/SlideablePanel.js


// source/views/large/AudioDialog.js


// source/views/large/ButtonGroup.js
enyo.kind({name:"blanc.ButtonGroup",tag:"ul",components:[{}],events:{onMenuClicked:""},buttons:[],menuModel:"",create:function(){for(this.inherited(arguments),e=0;this.buttons.length>e;e++){var t=this.buttons[e],n=this.menuModel.buttons[t];n.ontap="buttonClicked";var i=this.createComponent(n,{owner:this});i.addRemoveClass("menu-button-enabled",i.state===ButtonState.ENABLED),i.addRemoveClass("menu-button-active",i.state==ButtonState.ACTIVE)}},buttonClicked:function(t){var e=this.menuModel.buttons[t.name];e.state!=ButtonState.DISABLED&&this.doMenuClicked({menu:t.name})},update:function(){for(var t=this.getComponents(),e=0;t.length>e;e++){var n=t[e],i=this.menuModel.buttons[n.name];i&&(n.addRemoveClass("menu-button-enabled",i.state===ButtonState.ENABLED),n.addRemoveClass("menu-button-active",i.state==ButtonState.ACTIVE))}}});

// source/views/large/GoogleDrivePicker.js


// source/views/large/InvitationDialog.js


// source/views/large/LeftBottomMenu.js
enyo.kind({name:"blanc.LeftBottomMenu",kind:"blanc.MenuLarge",classes:"leftbottom-menu-container",create:function(){this.inherited(arguments)},init:function(t){this.inherited(arguments),this.leading=this.createComponent({name:"leading",kind:"blanc.ButtonGroup",classes:"menu leading",menuModel:t,buttons:["meetings","files","widgets","settings"]},{owner:this}),this.middle=this.createComponent({name:"middle",kind:"blanc.ButtonGroup",classes:"menu middle",menuModel:t,style:"height:120px;",buttons:["addDocument","invite"]},{owner:this}),this.trailing=this.createComponent({name:"trailing",kind:"blanc.ButtonGroup",classes:"menu trailing",menuModel:t,buttons:["leftArrow"]},{owner:this}),this.render()}});

// source/views/large/LeftPanel.js
enyo.kind({name:"blanc.LeftPanel",kind:"blanc.Panel",axis:"h",unit:"%",min:-120,max:0,value:-120,classes:"left-panel",draggable:!1,completion:null,handlers:{onAnimateFinish:"finishedAnimating"},events:{onOpened:"",onClosed:""},components:[{classes:"enyo-fit",kind:"Panels",name:"panels",draggable:!1,components:[{},{name:"settings",kind:"blanc.Settings"},{name:"meetings"},{name:"people"},{name:"files"},{name:"widgets"}]}],rendered:function(){this.inherited(arguments),this.$.panels.setIndex(0)},isOpen:function(){return this.getMax()==this.getValue()},isClosed:function(){return this.getMin()==this.getValue()},close:function(t){this.inherited(arguments),this.completion=t,this.animateToMin()},open:function(t){this.inherited(arguments),this.completion=t,this.animateToMax()},finishedAnimating:function(){this.completion&&(this.completion(),this.completion=null);var t=this.$.panels.getActive();return t.onClose&&t.onClose(),this.isOpen()?this.doOpened():this.doClosed(),!0},toggle:function(t){if(this.isClosed()){for(var e=this.$.panels.getPanels(),n=0;e.length>n;n++){var i=e[n];if(i.getName()==t){this.$.panels.setIndexDirect(n),this.open(function(){i.init()});break}}return!0}return this.close(),!1}});

// source/views/large/MainLarge.js
enyo.kind({name:"blanc.MainLarge",classes:"main",handlers:{onFileOpen:"openFile"},components:[{style:"width: 100%; height: 100%; position: relative;",components:[{name:"leftPanel",kind:"blanc.LeftPanel",onOpened:"panelOpened",onClosed:"panelClosed"},{name:"rightPanel",kind:"blanc.RightPanel",onOpened:"panelOpened",onClosed:"panelClosed"},{name:"content",kind:"blanc.Content",fit:!0}]}],destroy:function(){this.$.dialog&&this.$.dialog.hide(),this.inherited(arguments)},showNewItemDialog:function(t){var e=this.$.dialog;if(e)e.processWhenHidden=t,e.hide();else{var n=this.createComponent({name:"dialog",kind:"blanc.NewItemDialog",onHide:"dialogHidden"},{owner:this});n.show()}return!0},dialogHidden:function(){var t=this.$.dialog.processWhenHidden;this.$.dialog.destroy(),t&&this.showNewItemDialog(t)},toggleLeftMenu:function(t){this.$.leftPanel.toggle(t)},toggleRightMenu:function(t){this.$.rightPanel.toggle(t)},closeMenu:function(t){this.$.leftPanel.isOpen()&&this.$.leftPanel.close(t),this.$.rightPanel.isOpen()&&this.$.rightPanel.close(t)},openFile:function(t,e){this.$.dialog&&this.$.dialog.hide(),this.$.content.showFile(e.docid,1)},fileSelected:function(t,e){var n=this;return this.closeMenu(function(){n.$.content.showFile(e.docId,0)}),!0}});

// source/views/large/MenuLarge.js
enyo.kind({name:"blanc.MenuLarge",kind:"blanc.Menu",init:function(t,e){this.setMenuModel(t),this.setOrientation(e),enyo.forEach(this.getComponents(),function(t){"blanc.ButtonGroup"===t.kind&&t.destory()})},render:function(){enyo.forEach(this.getComponents(),function(t){"blanc.ButtonGroup"===t.kind&&t.render()})},update:function(){enyo.forEach(this.getComponents(),function(t){"blanc.ButtonGroup"===t.kind&&t.update()})}});

// source/views/large/NewItemDialog.js
enyo.kind({name:"blanc.NewItemDialog",kind:"enyo.Popup",classes:"popup-dialog",floating:!0,centered:!0,modal:!0,scrim:!0,components:[{classes:"enyo-fit",name:"panels",kind:"Panels",draggable:!1,components:[{style:"text-align:center;top:50%;",content:$L("Loading ... Please wait")},{kind:"FittableRows",components:[{components:[{kind:"enyo.Button",classes:"close puu-right",style:"padding:5px 10px;margin:0;",allowHtml:!0,content:"&times",onclick:"hide"},{name:"tabs",kind:"blanc.Tabs",components:[{name:"sbTab",kind:"blanc.Tab",label:$L("New Whiteboard"),onTabClicked:"tabClicked",active:!0,index:0},{name:"uploadTab",kind:"blanc.Tab",label:$L("Upload"),onTabClicked:"tabCicked",index:1}]}]},{fit:!0,style:"background-color: white;",name:"dialogs",kind:"Panels",draggable:!1,animate:!1,components:[{name:"sbPanel",kind:"blanc.NewWhiteboardPanel",onCloseClicked:"hide"},{name:"uploadPanel",kind:"blanc.UploadPanel"}]}]}]}],create:function(){this.inherited(arguments)},rendered:function(){this.inherited(arguments),this.$.panels.setIndex(1)},tabClicked:function(t){var e=this.$.dialogs.getPanels()[t.index];e&&(e.init(),this.$.dialogs.setIndex(t.index))}});

// source/views/large/NewWhiteboardPanel.js
enyo.kind({name:"blanc.NewWhiteboardPanel",kind:"FittableRows",events:{onFileCreated:"",onFileOpen:"",onCloseClicked:""},components:[{content:$L("New Whiteboard"),classes:"dialog-title"},{fit:!0,components:[{classes:"form-horizontal",style:"margin-top: 160px;",components:[{name:"formGroup",classes:"form-group",components:[{classes:"col-sm-3 control-label",content:$L("Name"),tag:"label"},{classes:"col-sm-8",components:[{kind:"enyo.Input",name:"wbName",onkeydown:"onEnter",classes:"form-control",placeholder:$L("Enter the whiteboard name")},{name:"errorSuggestion",tag:"p",showing:!1,classes:"col-sm-offset-3 col-sm-8",content:$L("A whiteboard name is required")}]}]}]}]},{classes:"dialog-form-footer",layoutKind:"FittableColumnsLayout",components:[{fit:!0,classes:"dialog-footer-cell"},{classes:"dialog-footer-cell",components:[{name:"cancel",content:$L("Cancel"),kind:"enyo.Button",ontap:"doCloseClicked",classes:"btn btn-default"},{name:"submit",content:$L("Submit"),kind:"blanc.Button",ontap:"submitBtnClicked",classes:"btn btn-primary"}]}]}],reset:function(){this.$.formGroup.addRemoveClass("has-success",!1),this.$.formGroup.addRemoveClass("has-error",!1),this.$.formGroup.addRemoveClass("has-warning",!1),this.$.errorSuggestion.setShowing(!1)},submitBtnClicked:function(){var t=this.$.wbName.getValue();if(!t)return this.$.errorSuggestion.setShowing(!0),this.$.formGroup.addClass("has-error"),this.$.submit.reset(),void 0;var e=this;blanc.Session.getPersistenceManager().createWhiteboard(t,function(t){e.$.submit.reset(),e.doFileOpen({docid:t.id})},function(t){e.$.submit.reset(),console.log(t)})},onEnter:function(t,e){return 13===e.keyCode?(this.$.submit.clicked(),this.submitBtnClicked(),!0):!1}});

// source/views/large/RightPanel.js
enyo.kind({name:"blanc.RightPanel",kind:"blanc.Panel",axis:"h",unit:"%",min:0,max:120,value:120,classes:"right-panel",draggable:!1,completion:null,handlers:{onAnimateFinish:"finishedAnimating",onMenuItemSelected:"itemSelected"},events:{onOpened:"",onClosed:""},components:[{classes:"enyo-fit",kind:"Panels",name:"panels",draggable:!1,components:[{name:"pages"},{name:"fileMenu"}]}],create:function(){this.inherited(arguments)},isOpen:function(){return this.getMin()==this.getValue()},isClosed:function(){return this.getMax()==this.getValue()},close:function(t){this.inherited(arguments),this.completion=t,this.animateToMax()},open:function(t){this.inherited(arguments),this.completion=t,this.animateToMin()},finishedAnimating:function(){return this.completion&&(this.completion(),this.completion=null),this.isOpen()?this.doOpened():this.doClosed(),!0},toggle:function(t){if(this.isClosed()){for(var e=this.$.panels.getPanels(),n=0;e.lenght>n;n++){var i=e[n];if(i.getName()==t){this.$.panels.setIndexDirect(n),this.open(function(){i.init()});break}}return!0}return this.close(),!1},itemSelected:function(t,e){return this.close(e.completion),!0}});

// source/views/large/TopRightMenu.js
enyo.kind({name:"blanc.TopRightMenu",kind:"blanc.MenuLarge",classes:"topright-menu-container",create:function(){this.inherited(arguments)},init:function(t){this.inherited(arguments),this.leading=this.createComponent({name:"leading",kind:"blanc.ButtonGroup",classes:"menu leading",menuModel:t,buttons:["pages","fullscreen"]},{owner:this}),this.middle=this.createComponent({name:"middle",kind:"blanc.ButtonGroup",classes:"menu middle",style:"margin-top:-150px;height:300px;",menuModel:t,buttons:["palette","pen","eraser","undo","clear"]},{owner:this}),this.trailing=this.createComponent({name:"trailing",kind:"blanc.ButtonGroup",classes:"menu trailing",menuModel:t,buttons:["rightArrow"]},{owner:this}),this.render()}});

// source/views/large/UploadModel.js


// source/views/large/UploadPanel.js
enyo.kind({name:"blanc.UploadPanel"});

// source/views/large/UploadProgressItem.js


// source/views/large/UploadProgressPanel.js


// source/views/large/AppLarge.js
enyo.kind({name:"blanc.AppLarge",classes:"appLarge",kind:"blanc.AppView",orientation:null,menuModel:null,meetingModel:null,components:[{name:"app",classes:"app-container",components:[{kind:"blanc.MainLarge",name:"main"},{kind:"blanc.LeftBottomMenu",name:"leftBottom",onMenuClicked:"menuClicked"},{kind:"blanc.TopRightMenu",name:"topRight",onMenuClicked:"menuClicked"},{classes:"meeting-state-container",name:"meeting-state",showing:!1,components:[{classes:"meeting-state"}]}]}],create:function(){this.inherited(arguments),this.$.leftBottom.init(this.get("menuModel")),this.$.topRight.init(this.get("menuModel"))},menuClicked:function(t,e){switch(e.menu){case"files":case"widgets":case"meetings":case"settings":case"people":this.$.main.toggleLeftMenu(e.menu);break;case"filemenu":case"pages":this.$.main.toggleRightMenu(e.menu);break;case"addDocument":this.$.main.showNewItemDialog();break;case"leftArrow":this.waterfallDown("onPrevClicked");break;case"rightArrow":this.waterfallDown("onNextClicked");break;case"undo":this.waterfallDown("onUndoClicked");break;case"clear":this.waterfallDown("onClearClicked");break;case"pen":this.get("menuModel").togglePen(),this.updateMenu();break;case"eraser":this.get("menuModel").toggleEraser(),this.updateMenu();break;case"palette":this.paletteClicked()}},updateMenu:function(){this.inherited(arguments),this.$.leftBottom.update(),this.$.topRight.update()}});

// source/views/large/WelcomeDialog.js


// source/Test.js
enyo.kind({name:"blanc.Test",style:"text-align: center;",components:[{kind:"enyo.Button",content:"Basic Popup",ontap:"showPopup"},{name:"basicPopup",kind:"blanc.NewItemDialog",floating:!0,centered:!0,style:"background-color: yellow; padding: 10px",onHide:"popupHidden",components:[{content:"Popup..."}]}],showPopup:function(){this.$.basicPopup.show()},popupHidden:function(){}});

// source/app.js
enyo.kind({name:"blanc.Application",kind:"enyo.Application",view:"blanc.MainView"}),enyo.ready(function(){var t=blanc.Session.getPersistenceManager();t.init(function(){new blanc.Application({name:"app"})},function(){})});
